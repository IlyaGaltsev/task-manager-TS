/*! For license information please see main.b84f247f.js.LICENSE.txt */
!function(){"use strict";var e={532:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},457:function(e,t,n){n(532)},110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=d(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ie=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==Se||null!==Ie)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Ve=!1,je=null,Ue={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,It,Et,_t=!1,Tt=[],Ct=null,At=null,Rt=null,Nt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Ut(){_t=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Rt&&Vt(Rt)&&(Rt=null),Nt.forEach(jt),Pt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Rt&&zt(Rt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return In}var _n=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(_n),Cn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!On||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){_e(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){Vr(e,0)}function $n(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Ir={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Sr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Or=Nr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Ve||(Ve=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Rr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case _r:case Tr:case Cr:s=yn;break;case Ar:s=Rn;break;case"scroll":s=dn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Kr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Si=-1;function Ii(e){return{current:e}}function Ei(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function _i(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ri=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ai),Ei(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));_i(Ci,t),_i(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,_i(Ci,e),_i(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),_i(Ci,e)):Ei(Ai),_i(Ai,n)}var Vi=null,ji=!1,Ui=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!Ui&&null!==Vi){Ui=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Hi,qi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var _a=null;function Ta(e){null===_a?_a=[e]:_a.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Ra=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ri:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),_i(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(_i(eo,e),_i(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Vo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Vo,useDebugValue:$o,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ro,useRef:Uo,useState:function(){return Ro(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),du(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ri:Ci.current;return a=Ni(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ni(t,c=Pi(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Ra=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ai.current||Ra?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Ra||Ba(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ni(t,s=Pi(n)?Ri:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Wa(t,o,r,s),Ra=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ai.current||Ra?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(c=Ra||Ba(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ou,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=Vu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Hu(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Pu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Os&&(Os=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,ds(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,ds(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));hs(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(d=Ju=f;null!==Ju;){switch(p=(h=Ju).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(h,h.return);break;case 22:if(null!==h.memoizedState){ws(d);continue}}null!==p?(p.return=h,Ju=p):ws(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(h){Ic(t,t.return,h)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Ss,Is=Math.ceil,Es=k.ReactCurrentDispatcher,_s=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Cs=0,As=null,Rs=null,Ns=0,Ps=0,Ds=Ii(0),Os=0,Ms=null,Ls=0,Fs=0,Vs=0,js=null,Us=null,zs=0,Bs=1/0,qs=null,Ws=!1,Ks=null,Hs=null,Gs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Os&&uc(e,Ns)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Xe()+500,ji&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===As?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===As?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Ns===t||(qs=null,Bs=Xe()+500,dc(e,t));;)try{gc();break}catch(s){hc(e,s)}wa(),Es.current=o,Cs=i,null!==Rs?t=0:(As=null,Ns=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,dc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,dc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,qs),t);break}wc(e,Us,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,dc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Xe()+500,ji&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Ds.current,Ei(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Rs=e=Dc(e.current,null),Ns=Ps=t,Os=0,Ms=null,Vs=Fs=Ls=0,Us=js=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function hc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,_s.current=null,null===n||null===n.return){Os=1,Ms=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Os&&(Os=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function pc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===As||0===(268435455&Ls)&&0===(268435455&Fs)||uc(As,Ns)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Ns===t||(qs=null,dc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(wa(),Cs=n,Es.current=r,null!==Rs)throw Error(a(261));return As=null,Ns=0,Os}function yc(){for(;null!==Rs;)bc(Rs)}function gc(){for(;null!==Rs&&!$e();)bc(Rs)}function bc(e){var t=Ss(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?kc(e):Rs=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(Rs=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Os=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Os&&(Os=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Rs=As=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,_s.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,bt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function xc(){if(null!==Qs){var e=kt($s),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ju=d;else for(;null!==Ju;){var h=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==h){h.return=p,Ju=h;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Sc(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ns&n)===n&&(4===Os||3===Os&&(130023424&Ns)===Ns&&500>Xe()-zs?dc(e,0):Vs|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Nc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=Nc(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Ru(t),ha();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(_i(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ru(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Su(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ia(t,n),qa(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(Bs=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,_e,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,E=null,_=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function R(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(I=!1,E=null)}}else I=!1}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=R,S=function(){P.postMessage(null)}}else S=function(){y(R,0)};function D(e){E=e,I||(I=!0,S())}function O(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return ft},SDK_VERSION:function(){return En},_DEFAULT_ENTRY_NAME:function(){return dn},_addComponent:function(){return mn},_addOrOverwriteComponent:function(){return yn},_apps:function(){return pn},_clearComponents:function(){return wn},_components:function(){return vn},_getProvider:function(){return bn},_registerComponent:function(){return gn},_removeServiceInstance:function(){return kn},deleteApp:function(){return An},getApp:function(){return Tn},getApps:function(){return Cn},initializeApp:function(){return _n},onLog:function(){return Pn},registerVersion:function(){return Nn},setLogLevel:function(){return Dn}});var t,r=n(791),i=n.t(r,2),a={firebase:[],auth:[],firestore:[]},o=(0,r.createContext)(a);function u(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||c(e,t)||l()}function d(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||d(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function E(e){var t=x();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function _(e,t,n){return _=x()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},_.apply(null,arguments)}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _(e,arguments,w(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},T(e)}function C(e){return u(e)||d(e)||c(e)||l()}function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var N,P="popstate";function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function M(e,t){return{usr:e.state,key:e.key,idx:t}}function L(e,t,n,r){return void 0===n&&(n=null),R({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?V(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function F(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function V(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,d=null,h=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-h;h=e,d&&d({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:F(e);return D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(R({},l.state,{idx:h}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return u.addEventListener(P,v),d=e,function(){u.removeEventListener(P,v),d=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=L(y.location,e,n);r&&r(i,e);var a=M(i,h=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&d&&d({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=L(y.location,e,n);r&&r(i,e);var a=M(i,h=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&d&&d({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}function U(e,t,n){void 0===n&&(n="/");var r=$(("string"===typeof t?V(t):t).pathname||"/",n);if(null==r)return null;var i=z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=H(i[o],Q(r));return a}function z(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(D(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ee([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),z(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:K(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=A(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n=C(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=B(i.join("/")),s=[];return s.push.apply(s,h(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,h(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));var q=/^:\w+$/,W=function(e){return"*"===e};function K(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(q.test(t)?3:""===t?1:10)}),r)}function H(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=G({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ee([i,l.pathname]),pathnameBase:te(ee([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ee([i,l.pathnameBase]))}return a}function G(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Y(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function Q(e){try{return decodeURI(e)}catch(t){return Y(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function J(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Z(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=V(e):(D(!(i=R({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),D(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),D(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?V(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ne(a),hash:re(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var ee=function(e){return e.join("/").replace(/\/\/+/g,"/")},te=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ne=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},re=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ie=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(T(Error));function ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var oe=["post","put","patch","delete"],ue=(new Set(oe),["get"].concat(oe));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var ce="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},le=r.useState,fe=r.useEffect,de=r.useLayoutEffect,he=r.useDebugValue;function pe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ce(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext(null);var be=r.createContext(null);var ke=r.createContext({outlet:null,matches:[]});var we=r.createContext(null);function xe(){return null!=r.useContext(be)}function Se(){return xe()||D(!1),r.useContext(be).location}function Ie(){xe()||D(!1);var e=r.useContext(ge),t=e.basename,n=e.navigator,i=r.useContext(ke).matches,a=Se().pathname,o=JSON.stringify(J(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);r.useEffect((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=Z(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:ee([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}function Ee(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ke).matches,a=Se().pathname,o=JSON.stringify(J(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return Z(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function _e(){var e=function(){var e,t=r.useContext(we),n=Pe(Ce.UseRouteError),i=De(Ce.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Te,Ce,Ae=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ke.Provider,{value:this.props.routeContext},r.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Re(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ve);return a&&a.static&&a.staticContext&&n.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ke.Provider,{value:t},i)}function Ne(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||D(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(_e,null):null,l=t.concat(i.slice(0,u+1)),f=function(){return r.createElement(Re,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===u)?r.createElement(Ae,{location:n.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Pe(e){var t=r.useContext(me);return t||D(!1),t}function De(e){var t=function(e){var t=r.useContext(ke);return t||D(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||D(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Te||(Te={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ce||(Ce={}));var Oe;function Me(e){D(!1)}function Le(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;xe()&&D(!1);var h=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=V(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,k=v.hash,w=void 0===k?"":k,x=v.state,S=void 0===x?null:x,I=v.key,E=void 0===I?"default":I,_=r.useMemo((function(){var e=$(y,h);return null==e?null:{pathname:e,search:b,hash:w,state:S,key:E}}),[h,y,b,w,S,E]);return null==_?null:r.createElement(ge.Provider,{value:p},r.createElement(be.Provider,{children:o,value:{location:_,navigationType:c}}))}function Fe(e){var n=e.children,i=e.location,a=r.useContext(ve);return function(e,n){xe()||D(!1);var i,a=r.useContext(ge).navigator,o=r.useContext(me),u=r.useContext(ke).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,Se());if(n){var d,h="string"===typeof n?V(n):n;"/"===l||(null==(d=h.pathname)?void 0:d.startsWith(l))||D(!1),i=h}else i=f;var p=i.pathname||"/",v=U(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=Ne(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ee([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ee([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,o||void 0);return n&&m?r.createElement(be.Provider,{value:{location:se({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:je(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Oe||(Oe={}));var Ve=new Promise((function(){}));r.Component;function je(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Me&&D(!1),e.props.index&&e.props.children&&D(!1);var a=[].concat(h(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=je(e.props.children,a)),n.push(o)}else n.push.apply(n,je(e.props.children,t))})),n}function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function qe(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),j((function(e,t){var n=V(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return L("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:F(t))}),(function(e,t){O("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var u=o.current,s=f(r.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1];return r.useLayoutEffect((function(){return u.listen(l)}),[u]),r.createElement(Le,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:u})}var We="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ke=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,d=ze(e,Be),h=!1;if(We&&"string"===typeof l&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(l)){n=l;var p=new URL(window.location.href),v=l.startsWith("//")?new URL(p.protocol+l):new URL(l);v.origin===p.origin?l=v.pathname+v.search+v.hash:h=!0}var m=function(e,t){var n=(void 0===t?{}:t).relative;xe()||D(!1);var i=r.useContext(ge),a=i.basename,o=i.navigator,u=Ee(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ee([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),y=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=Ie(),l=Se(),f=Ee(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:F(l)===F(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return r.createElement("a",Ue({},d,{href:n||m,onClick:h||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var He,Ge;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(He||(He={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ge||(Ge={}));function Qe(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($e(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Xe=function(e){return function(e){var t=$e(e);return Ye.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Je=function(e){try{return Ye.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ze(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ze(e[n],t[n]));return e}var et=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},tt=function(){try{return et()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/task-manager-TS",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Je(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},nt=function(){var e;return null===(e=tt())||void 0===e?void 0:e.config},rt=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function it(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xe(JSON.stringify({alg:"none",type:"JWT"})),Xe(JSON.stringify(a)),""].join(".")}function at(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ot(){var e,t=null===(e=tt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ut(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function st(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ct(){var e=at();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function lt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var ft=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(S(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(S(a),dt.prototype.create),a}return g(n)}(T(Error)),dt=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ht(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ft(n,a,t);return o}}]),e}();function ht(e,t){return e.replace(pt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var pt=/\{\$([^}]+)}/g;function vt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(yt(u)&&yt(s)){if(!mt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function yt(e){return null!==e&&"object"===typeof e}function gt(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function bt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function kt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function wt(e,t){var n=new xt(e,t);return n.subscribe.bind(n)}var xt=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=A(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=St),void 0===r.error&&(r.error=St),void 0===r.complete&&(r.complete=St);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function St(){}function It(e){return e&&e._delegate?e._delegate:e}function Et(){Et=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new _(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function _t(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Tt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){_t(a,r,i,o,u,"next",e)}function u(e){_t(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Ct=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),At="[DEFAULT]",Rt=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new rt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:At})}catch(s){}var t,n=A(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=A(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=f(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Iy){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Nt(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(Iy){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.component?this.component.multipleInstances?e:At:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Nt(e){return e===At?void 0:e}var Pt,Dt,Ot=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Rt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Mt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Dt||(Dt={}));var Lt={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Ft=Dt.INFO,Vt=(Qe(Pt={},Dt.DEBUG,"log"),Qe(Pt,Dt.VERBOSE,"log"),Qe(Pt,Dt.INFO,"info"),Qe(Pt,Dt.WARN,"warn"),Qe(Pt,Dt.ERROR,"error"),Pt),jt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Vt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ut=function(){function e(t){p(this,e),this.name=t,this._logLevel=Ft,this._logHandler=jt,this._userLogHandler=null,Mt.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Dt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Lt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Dt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Dt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.INFO].concat(t)),this._logHandler.apply(this,[this,Dt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.WARN].concat(t)),this._logHandler.apply(this,[this,Dt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.ERROR].concat(t)),this._logHandler.apply(this,[this,Dt.ERROR].concat(t))}}]),e}();function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt,Wt;var Kt=new WeakMap,Ht=new WeakMap,Gt=new WeakMap,Qt=new WeakMap,$t=new WeakMap;var Yt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ht.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Xt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wt||(Wt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(en(this),n),Zt(Kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zt(e.apply(en(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[en(this),t].concat(r));return Gt.set(a,t.sort?t.sort():[t]),Zt(a)}}function Jt(e){return"function"===typeof e?Xt(e):(e instanceof IDBTransaction&&function(e){if(!Ht.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ht.set(e,t)}}(e),t=e,(qt||(qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Yt):e);var t}function Zt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Zt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Kt.set(t,e)})).catch((function(){})),$t.set(t,e),t}(e);if(Qt.has(e))return Qt.get(e);var t=Jt(e);return t!==e&&(Qt.set(e,t),$t.set(t,e)),t}var en=function(e){return $t.get(e)};var tn,nn,rn=["get","getKey","getAll","getAllKeys","count"],an=["put","add","delete","clear"],on=new Map;function un(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(on.get(t))return on.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=an.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||rn.includes(n))){var a=function(){var e=Tt(Et().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return on.set(t,a),a}}}Yt=function(e){return Bt(Bt({},e),{},{get:function(t,n,r){return un(t,n)||e.get(t,n,r)},has:function(t,n){return!!un(t,n)||e.has(t,n)}})}(Yt);var sn=function(){function e(t){p(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var cn="@firebase/app",ln="0.9.3",fn=new Ut("@firebase/app"),dn="[DEFAULT]",hn=(Qe(tn={},cn,"fire-core"),Qe(tn,"@firebase/app-compat","fire-core-compat"),Qe(tn,"@firebase/analytics","fire-analytics"),Qe(tn,"@firebase/analytics-compat","fire-analytics-compat"),Qe(tn,"@firebase/app-check","fire-app-check"),Qe(tn,"@firebase/app-check-compat","fire-app-check-compat"),Qe(tn,"@firebase/auth","fire-auth"),Qe(tn,"@firebase/auth-compat","fire-auth-compat"),Qe(tn,"@firebase/database","fire-rtdb"),Qe(tn,"@firebase/database-compat","fire-rtdb-compat"),Qe(tn,"@firebase/functions","fire-fn"),Qe(tn,"@firebase/functions-compat","fire-fn-compat"),Qe(tn,"@firebase/installations","fire-iid"),Qe(tn,"@firebase/installations-compat","fire-iid-compat"),Qe(tn,"@firebase/messaging","fire-fcm"),Qe(tn,"@firebase/messaging-compat","fire-fcm-compat"),Qe(tn,"@firebase/performance","fire-perf"),Qe(tn,"@firebase/performance-compat","fire-perf-compat"),Qe(tn,"@firebase/remote-config","fire-rc"),Qe(tn,"@firebase/remote-config-compat","fire-rc-compat"),Qe(tn,"@firebase/storage","fire-gcs"),Qe(tn,"@firebase/storage-compat","fire-gcs-compat"),Qe(tn,"@firebase/firestore","fire-fst"),Qe(tn,"@firebase/firestore-compat","fire-fst-compat"),Qe(tn,"fire-js","fire-js"),Qe(tn,"firebase","fire-js-all"),tn),pn=new Map,vn=new Map;function mn(e,t){try{e.container.addComponent(t)}catch(n){fn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function yn(e,t){e.container.addOrOverwriteComponent(t)}function gn(e){var t=e.name;if(vn.has(t))return fn.debug("There were multiple attempts to register component ".concat(t,".")),!1;vn.set(t,e);var n,r=A(pn.values());try{for(r.s();!(n=r.n()).done;){mn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function bn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dn;bn(e,t).clearInstance(n)}function wn(){vn.clear()}var xn=(Qe(nn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Qe(nn,"bad-app-name","Illegal App name: '{$appName}"),Qe(nn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Qe(nn,"app-deleted","Firebase App named '{$appName}' already deleted"),Qe(nn,"no-options","Need to provide options, when not being deployed to hosting via source."),Qe(nn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Qe(nn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Qe(nn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Qe(nn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Qe(nn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Qe(nn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),nn),Sn=new dt("app","Firebase",xn),In=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}]),e}(),En="9.17.1";function _n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:dn,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Sn.create("bad-app-name",{appName:String(a)});if(n||(n=nt()),!n)throw Sn.create("no-options");var o=pn.get(a);if(o){if(mt(n,o.options)&&mt(i,o.config))return o;throw Sn.create("duplicate-app",{appName:a})}var u,s=new Ot(a),c=A(vn.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(d){c.e(d)}finally{c.f()}var f=new In(n,i,s);return pn.set(a,f),f}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=pn.get(e);if(!t&&e===dn)return _n();if(!t)throw Sn.create("no-app",{appName:e});return t}function Cn(){return Array.from(pn.values())}function An(e){return Rn.apply(this,arguments)}function Rn(){return(Rn=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!pn.has(n)){e.next=6;break}return pn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(e,t,n){var r,i=null!==(r=hn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fn.warn(u.join(" "))}gn(new Ct("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Pn(e,t){if(null!==e&&"function"!==typeof e)throw Sn.create("invalid-log-argument");!function(e,t){var n,r=A(Mt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Lt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Dt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Dn(e){var t;t=e,Mt.forEach((function(e){e.setLogLevel(t)}))}var On="firebase-heartbeat-store",Mn=null;function Ln(){return Mn||(Mn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Zt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Zt(u.result),e.oldVersion,e.newVersion,Zt(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(On)}}).catch((function(e){throw Sn.create("idb-open",{originalErrorMessage:e.message})}))),Mn}function Fn(e){return Vn.apply(this,arguments)}function Vn(){return Vn=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ln();case 3:return n=e.sent,e.abrupt("return",n.transaction(On).objectStore(On).get(zn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ft?fn.warn(e.t0.message):(r=Sn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Vn.apply(this,arguments)}function jn(e,t){return Un.apply(this,arguments)}function Un(){return Un=Tt(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ln();case 3:return r=e.sent,i=r.transaction(On,"readwrite"),a=i.objectStore(On),e.next=8,a.put(n,zn(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ft?fn.warn(e.t0.message):(o=Sn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fn.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Un.apply(this,arguments)}function zn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Bn=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Gn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=Tt(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=qn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Tt(Et().mark((function e(){var t,n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=qn(),n=Wn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Xe(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qn(){return(new Date).toISOString().substring(0,10)}function Wn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=A(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Qn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Qn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Kn,Hn,Gn=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Fn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",jn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",jn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Qn(e){return Xe(JSON.stringify({version:2,heartbeats:e})).length}Kn="",gn(new Ct("platform-logger",(function(e){return new sn(e)}),"PRIVATE")),gn(new Ct("heartbeat",(function(e){return new Bn(e)}),"PRIVATE")),Nn(cn,ln,Kn),Nn(cn,ln,"esm2017"),Nn("fire-js","");var $n=function(){function e(t,n){var r=this;p(this,e),this._delegate=t,this.firebase=n,mn(t,new Ct("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),An(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){mn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){yn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Yn=(Qe(Hn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Qe(Hn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Hn),Xn=new dt("app-compat","Firebase",Yn);var Jn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=_n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(vt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Nn,setLogLevel:Dn,onLog:Pn,apps:null,SDK_VERSION:En,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(gn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Xn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ze(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!vt(n,e=e||dn))throw Xn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}($n);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ze(n,e)},createSubscribe:wt,ErrorFactory:dt,deepExtend:Ze}),n}(),Zn=new Ut("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Zn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var er=self.firebase.SDK_VERSION;er&&er.indexOf("LITE")>=0&&Zn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var tr=Jn;!function(e){Nn("@firebase/app-compat","0.2.3",e)}();tr.registerVersion("firebase","9.17.1","app-compat");var nr=n(250);function rr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function ir(){return ir="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=rr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ir.apply(this,arguments)}var ar,or="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ur={},sr=sr||{},cr=or||self;function lr(){}function fr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function dr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var hr="closure_uid_"+(1e9*Math.random()>>>0),pr=0;function vr(e,t,n){return e.call.apply(e.bind,arguments)}function mr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yr(e,t,n){return(yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vr:mr).apply(null,arguments)}function gr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function br(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function kr(){this.s=this.s,this.o=this.o}kr.prototype.s=!1,kr.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,hr)&&e[hr]||(e[hr]=++pr))},kr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function xr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Sr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(fr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Ir(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ir.prototype.h=function(){this.defaultPrevented=!0};var Er=function(){if(!cr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{cr.addEventListener("test",lr,t),cr.removeEventListener("test",lr,t)}catch(n){}return e}();function _r(e){return/^[\s\xa0]*$/.test(e)}var Tr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Cr(e,t){return e<t?-1:e>t?1:0}function Ar(){var e=cr.navigator;return e&&(e=e.userAgent)?e:""}function Rr(e){return-1!=Ar().indexOf(e)}function Nr(e){return Nr[" "](e),e}Nr[" "]=lr;var Pr,Dr=Rr("Opera"),Or=Rr("Trident")||Rr("MSIE"),Mr=Rr("Edge"),Lr=Mr||Or,Fr=Rr("Gecko")&&!(-1!=Ar().toLowerCase().indexOf("webkit")&&!Rr("Edge"))&&!(Rr("Trident")||Rr("MSIE"))&&!Rr("Edge"),Vr=-1!=Ar().toLowerCase().indexOf("webkit")&&!Rr("Edge");function jr(){var e=cr.document;return e?e.documentMode:void 0}e:{var Ur="",zr=function(){var e=Ar();return Fr?/rv:([^\);]+)(\)|;)/.exec(e):Mr?/Edge\/([\d\.]+)/.exec(e):Or?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Vr?/WebKit\/(\S+)/.exec(e):Dr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(zr&&(Ur=zr?zr[1]:""),Or){var Br=jr();if(null!=Br&&Br>parseFloat(Ur)){Pr=String(Br);break e}}Pr=Ur}var qr,Wr={};function Kr(){return function(e){var t=Wr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Tr(String(Pr)).split("."),n=Tr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Cr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Cr(0==a[2].length,0==o[2].length)||Cr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(cr.document&&Or){var Hr=jr();qr=Hr||(parseInt(Pr,10)||void 0)}else qr=void 0;var Gr=qr;function Qr(e,t){if(Ir.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fr){e:{try{Nr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$r[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qr.X.h.call(this)}}br(Qr,Ir);var $r={2:"touch",3:"pen",4:"mouse"};Qr.prototype.h=function(){Qr.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Yr="closure_listenable_"+(1e6*Math.random()|0),Xr=0;function Jr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Xr,this.ba=this.ea=!1}function Zr(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ei(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ti(e){var t={};for(var n in e)t[n]=e[n];return t}var ni="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ri(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ni.length;a++)n=ni[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ii(e){this.src=e,this.g={},this.h=0}function ai(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=wr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Zr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function oi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}ii.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=oi(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Jr(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ui="closure_lm_"+(1e6*Math.random()|0),si={};function ci(e,t,n,r,i){if(r&&r.once)return fi(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ci(e,t[a],n,r,i);return null}return n=gi(n),e&&e[Yr]?e.N(t,n,dr(r)?!!r.capture:!!r,i):li(e,t,n,!1,r,i)}function li(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=dr(i)?!!i.capture:!!i,u=mi(e);if(u||(e[ui]=u=new ii(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=vi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Er||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fi(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)fi(e,t[a],n,r,i);return null}return n=gi(n),e&&e[Yr]?e.O(t,n,dr(r)?!!r.capture:!!r,i):li(e,t,n,!0,r,i)}function di(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)di(e,t[a],n,r,i);else r=dr(r)?!!r.capture:!!r,n=gi(n),e&&e[Yr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=oi(a=e.g[t],n,r,i))&&(Zr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=mi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=oi(t,n,r,i)),(n=-1<e?t[e]:null)&&hi(n))}function hi(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Yr])ai(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=mi(t))?(ai(n,e),0==n.h&&(n.src=null,t[ui]=null)):Zr(e)}}}function pi(e){return e in si?si[e]:si[e]="on"+e}function vi(e,t){if(e.ba)e=!0;else{t=new Qr(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&hi(e),e=n.call(r,t)}return e}function mi(e){return(e=e[ui])instanceof ii?e:null}var yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function gi(e){return"function"===typeof e?e:(e[yi]||(e[yi]=function(t){return e.handleEvent(t)}),e[yi])}function bi(){kr.call(this),this.i=new ii(this),this.P=this,this.I=null}function ki(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ir(t,e);else if(t instanceof Ir)t.target=t.target||e;else{var i=t;ri(t=new Ir(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=wi(o,r,!0,t)&&i}if(i=wi(o=t.g=e,r,!0,t)&&i,i=wi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=wi(o=t.g=n[a],r,!1,t)&&i}function wi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&ai(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}br(bi,kr),bi.prototype[Yr]=!0,bi.prototype.removeEventListener=function(e,t,n,r){di(this,e,t,n,r)},bi.prototype.M=function(){if(bi.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zr(n[r]);delete t.g[e],t.h--}}this.I=null},bi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},bi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xi=cr.JSON.stringify;function Si(){var e=Ni,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ii,Ei=function(){function e(){p(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=_i.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),_i=new(function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ti}),(function(e){return e.reset()})),Ti=function(){function e(){p(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ci(e){cr.setTimeout((function(){throw e}),0)}function Ai(e,t){Ii||function(){var e=cr.Promise.resolve(void 0);Ii=function(){e.then(Pi)}}(),Ri||(Ii(),Ri=!0),Ni.add(e,t)}var Ri=!1,Ni=new Ei;function Pi(){for(var e;e=Si();){try{e.h.call(e.g)}catch(n){Ci(n)}var t=_i;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ri=!1}function Di(e,t){bi.call(this),this.h=e||1,this.g=t||cr,this.j=yr(this.lb,this),this.l=Date.now()}function Oi(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Mi(e,t,n){if("function"===typeof e)n&&(e=yr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yr(e.handleEvent,e)}return 2147483647<Number(t)?-1:cr.setTimeout(e,t||0)}function Li(e){e.g=Mi((function(){e.g=null,e.i&&(e.i=!1,Li(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}br(Di,bi),(ar=Di.prototype).ca=!1,ar.R=null,ar.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ki(this,"tick"),this.ca&&(Oi(this),this.start()))}},ar.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ar.M=function(){Di.X.M.call(this),Oi(this),delete this.g};var Fi=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Li(this)}},{key:"M",value:function(){ir(w(n.prototype),"M",this).call(this),this.g&&(cr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(kr);function Vi(e){kr.call(this),this.h=e,this.g={}}br(Vi,kr);var ji=[];function Ui(e,t,n,r){Array.isArray(n)||(n&&(ji[0]=n.toString()),n=ji);for(var i=0;i<n.length;i++){var a=ci(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function zi(e){ei(e.g,(function(e,t){this.g.hasOwnProperty(t)&&hi(e)}),e),e.g={}}function Bi(){this.g=!0}function qi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return xi(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Vi.prototype.M=function(){Vi.X.M.call(this),zi(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bi.prototype.Aa=function(){this.g=!1},Bi.prototype.info=function(){};var Wi={},Ki=null;function Hi(){return Ki=Ki||new bi}function Gi(e){Ir.call(this,Wi.Pa,e)}function Qi(e){var t=Hi();ki(t,new Gi(t))}function $i(e,t){Ir.call(this,Wi.STAT_EVENT,e),this.stat=t}function Yi(e){var t=Hi();ki(t,new $i(t,e))}function Xi(e,t){Ir.call(this,Wi.Qa,e),this.size=t}function Ji(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return cr.setTimeout((function(){e()}),t)}Wi.Pa="serverreachability",br(Gi,Ir),Wi.STAT_EVENT="statevent",br($i,Ir),Wi.Qa="timingevent",br(Xi,Ir);var Zi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ea={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ta(){}function na(e){return e.h||(e.h=e.i())}function ra(){}ta.prototype.h=null;var ia,aa={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function oa(){Ir.call(this,"d")}function ua(){Ir.call(this,"c")}function sa(){}function ca(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Vi(this),this.O=fa,e=Lr?125:void 0,this.T=new Di(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new la}function la(){this.i=null,this.g="",this.h=!1}br(oa,Ir),br(ua,Ir),br(sa,ta),sa.prototype.g=function(){return new XMLHttpRequest},sa.prototype.i=function(){return{}},ia=new sa;var fa=45e3,da={},ha={};function pa(e,t,n){e.K=1,e.v=Da(Ca(t)),e.s=n,e.P=!0,va(e,null)}function va(e,t){e.F=Date.now(),ba(e),e.A=Ca(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Ha(n.i,"t",r),e.C=0,n=e.l.H,e.h=new la,e.g=Qo(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Fi(yr(e.La,e,e.g),e.N)),Ui(e.S,e.g,"readystatechange",e.ib),t=e.H?ti(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Qi(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function ma(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function ya(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ga(e,n))==ha){4==t&&(e.o=4,Yi(14),i=!1),qi(e.j,e.m,null,"[Incomplete Response]");break}if(r==da){e.o=4,Yi(15),qi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qi(e.j,e.m,r,null),Ia(e,r)}ma(e)&&r!=ha&&r!=da&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Yi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uo(t),t.K=!0,Yi(11))):(qi(e.j,e.m,n,"[Invalid Chunked Response]"),Sa(e),xa(e))}function ga(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ha:(n=Number(t.substring(n,r)),isNaN(n)?da:(r+=1)+n>t.length?ha:(t=t.substr(r,n),e.C=r+n,t))}function ba(e){e.V=Date.now()+e.O,ka(e,e.O)}function ka(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ji(yr(e.gb,e),t)}function wa(e){e.B&&(cr.clearTimeout(e.B),e.B=null)}function xa(e){0==e.l.G||e.I||qo(e.l,e)}function Sa(e){wa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Oi(e.T),zi(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ia(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||eo(n.h,e)))if(!e.J&&eo(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Bo(n),Po(n)}jo(n),Yi(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Ji(yr(n.cb,n),6e3));if(1>=Za(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Ko(n,11)}else if((e.J||n.g==e)&&Bo(n),!_r(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(to(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,Pa(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=Go(r,r.H?r.ka:null,r.V),h.J){no(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(wa(p),ba(p)),r.g=h}else Vo(r);0<n.i.length&&Oo(n)}else"stop"!=a[0]&&"close"!=a[0]||Ko(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ko(n,7):No(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Qi()}catch(a){}}function Ea(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(fr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(fr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(fr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ar=ca.prototype).setTimeout=function(e){this.O=e},ar.ib=function(e){e=e.target;var t=this.L;t&&3==Eo(e)?t.l():this.La(e)},ar.La=function(e){try{if(e==this.g)e:{var t=Eo(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Lr||this.g&&(this.h.h||this.g.fa()||_o(this.g)))){this.I||4!=t||7==n||Qi(),wa(this);var r=this.g.aa();this.Y=r;t:if(ma(this)){var i=_o(this.g);e="";var a=i.length,o=4==Eo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Sa(this),xa(this);var u="";break t}this.h.i=new cr.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_r(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Yi(12),Sa(this),xa(this);break e}qi(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ia(this,r)}this.P?(ya(this,t,u),Lr&&this.i&&3==t&&(Ui(this.S,this.T,"tick",this.hb),this.T.start())):(qi(this.j,this.m,u,null),Ia(this,u)),4==t&&Sa(this),this.i&&!this.I&&(4==t?qo(this.l,this):(this.i=!1,ba(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Yi(12)):(this.o=0,Yi(13)),Sa(this),xa(this)}}}catch(t){}},ar.hb=function(){if(this.g){var e=Eo(this.g),t=this.g.fa();this.C<t.length&&(wa(this),ya(this,e,t),this.i&&4!=e&&ba(this))}},ar.cancel=function(){this.I=!0,Sa(this)},ar.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Qi(),Yi(17)),Sa(this),this.o=2,xa(this)):ka(this,this.V-e)};var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ta){this.h=void 0!==t?t:e.h,Aa(this,e.j),this.s=e.s,this.g=e.g,Ra(this,e.m),this.l=e.l,t=e.i;var n=new Ba;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Na(this,n),this.o=e.o}else e&&(n=String(e).match(_a))?(this.h=!!t,Aa(this,n[1]||"",!0),this.s=Oa(n[2]||""),this.g=Oa(n[3]||"",!0),Ra(this,n[4]),this.l=Oa(n[5]||"",!0),Na(this,n[6]||"",!0),this.o=Oa(n[7]||"")):(this.h=!!t,this.i=new Ba(null,this.h))}function Ca(e){return new Ta(e)}function Aa(e,t,n){e.j=n?Oa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ra(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Na(e,t,n){t instanceof Ba?(e.i=t,function(e,t){t&&!e.j&&(qa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wa(this,t),Ha(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ma(t,Ua)),e.i=new Ba(t,e.h))}function Pa(e,t,n){e.i.set(t,n)}function Da(e){return Pa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Oa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ma(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,La),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function La(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ta.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ma(t,Fa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ma(t,Fa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ma(n,"/"==n.charAt(0)?ja:Va,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ma(n,za)),e.join("")};var Fa=/[#\/\?@]/g,Va=/[#\?:]/g,ja=/[#\?]/g,Ua=/[#\?@]/g,za=/#/g;function Ba(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wa(e,t){qa(e),t=Ga(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ka(e,t){return qa(e),t=Ga(e,t),e.g.has(t)}function Ha(e,t,n){Wa(e,t),0<n.length&&(e.i=null,e.g.set(Ga(e,t),xr(n)),e.h+=n.length)}function Ga(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ar=Ba.prototype).add=function(e,t){qa(this),this.i=null,e=Ga(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ar.forEach=function(e,t){qa(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ar.oa=function(){qa(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ar.W=function(e){qa(this);var t=[];if("string"===typeof e)Ka(this,e)&&(t=t.concat(this.g.get(Ga(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ar.set=function(e,t){return qa(this),this.i=null,Ka(this,e=Ga(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ar.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},ar.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Qa=g((function e(t,n){p(this,e),this.h=t,this.g=n}));function $a(e){this.l=e||Xa,cr.PerformanceNavigationTiming?e=0<(e=cr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(cr.g&&cr.g.Ga&&cr.g.Ga()&&cr.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ya,Xa=10;function Ja(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Za(e){return e.h?1:e.g?e.g.size:0}function eo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function to(e,t){e.g?e.g.add(t):e.h=t}function no(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ro(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=A(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return xr(e.i)}function io(){}function ao(){this.g=new io}function oo(e,t,n){var r=n||"";try{Ea(e,(function(e,n){var i=e;dr(e)&&(i=xi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function uo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function so(e){this.l=e.ac||null,this.j=e.jb||!1}function co(e,t){bi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=lo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$a.prototype.cancel=function(){if(this.i=ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=A(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},io.prototype.stringify=function(e){return cr.JSON.stringify(e,void 0)},io.prototype.parse=function(e){return cr.JSON.parse(e,void 0)},br(so,ta),so.prototype.g=function(){return new co(this.l,this.j)},so.prototype.i=(Ya={},function(){return Ya}),br(co,bi);var lo=0;function fo(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function ho(e){e.readyState=4,e.l=null,e.j=null,e.A=null,po(e)}function po(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ar=co.prototype).open=function(e,t){if(this.readyState!=lo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,po(this)},ar.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||cr).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ar.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ho(this)),this.readyState=lo},ar.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof cr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fo(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},ar.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ho(this):po(this),3==this.readyState&&fo(this)}},ar.Va=function(e){this.g&&(this.response=this.responseText=e,ho(this))},ar.Ua=function(e){this.g&&(this.response=e,ho(this))},ar.ga=function(){this.g&&ho(this)},ar.setRequestHeader=function(e,t){this.v.append(e,t)},ar.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ar.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vo=cr.JSON.parse;function mo(e){bi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yo,this.K=this.L=!1}br(mo,bi);var yo="",go=/^https?$/i,bo=["POST","PUT"];function ko(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,wo(e),So(e)}function wo(e){e.D||(e.D=!0,ki(e,"complete"),ki(e,"error"))}function xo(e){if(e.h&&"undefined"!=typeof sr&&(!e.C[1]||4!=Eo(e)||2!=e.aa()))if(e.v&&4==Eo(e))Mi(e.Ha,0,e);else if(ki(e,"readystatechange"),4==Eo(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(_a)[1]||null;if(!a&&cr.self&&cr.self.location){var o=cr.self.location.protocol;a=o.substr(0,o.length-1)}i=!go.test(a?a.toLowerCase():"")}t=i}if(t)ki(e,"complete"),ki(e,"success");else{e.m=6;try{var u=2<Eo(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",wo(e)}}finally{So(e)}}}function So(e,t){if(e.g){Io(e);var n=e.g,r=e.C[0]?lr:null;e.g=null,e.C=null,t||ki(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Io(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(cr.clearTimeout(e.A),e.A=null)}function Eo(e){return e.g?e.g.readyState:0}function _o(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case yo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(lu){return null}}function To(e){var t="";return ei(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Co(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=To(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Pa(e,t,n))}function Ao(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ro(e){this.Ca=0,this.i=[],this.j=new Bi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ao("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ao("baseRetryDelayMs",5e3,e),this.bb=Ao("retryDelaySeedMs",1e4,e),this.$a=Ao("forwardChannelMaxRetries",2,e),this.ta=Ao("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new $a(e&&e.concurrentRequestLimit),this.Fa=new ao,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function No(e){if(Do(e),3==e.G){var t=e.U++,n=Ca(e.F);Pa(n,"SID",e.I),Pa(n,"RID",t),Pa(n,"TYPE","terminate"),Lo(e,n),(t=new ca(e,e.j,t,void 0)).K=2,t.v=Da(Ca(n)),n=!1,cr.navigator&&cr.navigator.sendBeacon&&(n=cr.navigator.sendBeacon(t.v.toString(),"")),!n&&cr.Image&&((new Image).src=t.v,n=!0),n||(t.g=Qo(t.l,null),t.g.da(t.v)),t.F=Date.now(),ba(t)}Ho(e)}function Po(e){e.g&&(Uo(e),e.g.cancel(),e.g=null)}function Do(e){Po(e),e.u&&(cr.clearTimeout(e.u),e.u=null),Bo(e),e.h.cancel(),e.m&&("number"===typeof e.m&&cr.clearTimeout(e.m),e.m=null)}function Oo(e){Ja(e.h)||e.m||(e.m=!0,Ai(e.Ja,e),e.C=0)}function Mo(e,t){var n;n=t?t.m:e.U++;var r=Ca(e.F);Pa(r,"SID",e.I),Pa(r,"RID",n),Pa(r,"AID",e.T),Lo(e,r),e.o&&e.s&&Co(r,e.o,e.s),n=new ca(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Fo(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),to(e.h,n),pa(n,r,t)}function Lo(e,t){e.ia&&ei(e.ia,(function(e,n){Pa(t,n,e)})),e.l&&Ea({},(function(e,n){Pa(t,n,e)}))}function Fo(e,t,n){n=Math.min(e.i.length,n);var r=e.l?yr(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{oo(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Vo(e){e.g||e.u||(e.Z=1,Ai(e.Ia,e),e.A=0)}function jo(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Ji(yr(e.Ia,e),Wo(e,e.A)),e.A++,!0)}function Uo(e){null!=e.B&&(cr.clearTimeout(e.B),e.B=null)}function zo(e){e.g=new ca(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Ca(e.sa);Pa(t,"RID","rpc"),Pa(t,"SID",e.I),Pa(t,"CI",e.L?"0":"1"),Pa(t,"AID",e.T),Pa(t,"TYPE","xmlhttp"),Lo(e,t),e.o&&e.s&&Co(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Da(Ca(t)),n.s=null,n.P=!0,va(n,e)}function Bo(e){null!=e.v&&(cr.clearTimeout(e.v),e.v=null)}function qo(e,t){var n=null;if(e.g==t){Bo(e),Uo(e),e.g=null;var r=2}else{if(!eo(e.h,t))return;n=t.D,no(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ki(r=Hi(),new Xi(r,n)),Oo(e)}else Vo(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Za(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Ji(yr(e.Ja,e,t),Wo(e,e.C)),e.C++,!0))}(e,t)||2==r&&jo(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ko(e,5);break;case 4:Ko(e,10);break;case 3:Ko(e,6);break;default:Ko(e,2)}}function Wo(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ko(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=yr(e.kb,e);n||(n=new Ta("//www.google.com/images/cleardot.gif"),cr.location&&"http"==cr.location.protocol||Aa(n,"https"),Da(n)),function(e,t){var n=new Bi;if(cr.Image){var r=new Image;r.onload=gr(uo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gr(uo,n,r,"TestLoadImage: error",!1,t),r.onabort=gr(uo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gr(uo,n,r,"TestLoadImage: timeout",!1,t),cr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Yi(2);e.G=0,e.l&&e.l.va(t),Ho(e),Do(e)}function Ho(e){if(e.G=0,e.la=[],e.l){var t=ro(e.h);0==t.length&&0==e.i.length||(Sr(e.la,t),Sr(e.la,e.i),e.h.i.length=0,xr(e.i),e.i.length=0),e.l.ua()}}function Go(e,t,n){var r=n instanceof Ta?Ca(n):new Ta(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ra(r,r.m);else{var i=cr.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ta(null,void 0);r&&Aa(a,r),t&&(a.g=t),i&&Ra(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Pa(r,n,t),Pa(r,"VER",e.ma),Lo(e,r),r}function Qo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new mo(new so({jb:!0})):new mo(e.ra)).Ka(e.H),t}function $o(){}function Yo(){if(Or&&!(10<=Number(Gr)))throw Error("Environmental error: no available transport.")}function Xo(e,t){bi.call(this),this.g=new Ro(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!_r(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_r(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new eu(this)}function Jo(e){oa.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zo(){ua.call(this),this.status=1}function eu(e){this.g=e}(ar=mo.prototype).Ka=function(e){this.L=e},ar.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ia.g(),this.C=this.u?na(this.u):na(ia),this.g.onreadystatechange=yr(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void ko(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=A(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=cr.FormData&&e instanceof cr.FormData,!(0<=wr(bo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=A(n);try{for(c.s();!(s=c.n()).done;){var l=f(s.value,2),d=l[0],h=l[1];this.g.setRequestHeader(d,h)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Io(this),0<this.B&&((this.K=function(e){return Or&&Kr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.qa,this)):this.A=Mi(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){ko(this,u)}},ar.qa=function(){"undefined"!=typeof sr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))},ar.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ki(this,"complete"),ki(this,"abort"),So(this))},ar.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),So(this,!0)),mo.X.M.call(this)},ar.Ha=function(){this.s||(this.F||this.v||this.l?xo(this):this.fb())},ar.fb=function(){xo(this)},ar.aa=function(){try{return 2<Eo(this)?this.g.status:-1}catch(Ya){return-1}},ar.fa=function(){try{return this.g?this.g.responseText:""}catch(Ya){return""}},ar.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vo(t)}},ar.Ea=function(){return this.m},ar.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ar=Ro.prototype).ma=8,ar.G=1,ar.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new ca(this,this.j,e,void 0),n=this.s;if(this.S&&(n?ri(n=ti(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Fo(this,t,r),Pa(i=Ca(this.F),"RID",e),Pa(i,"CVER",22),this.D&&Pa(i,"X-HTTP-Session-Id",this.D),Lo(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(To(n)))+"&"+r:this.o&&Co(i,this.o,n)),to(this.h,t),this.Ya&&Pa(i,"TYPE","init"),this.O?(Pa(i,"$req",r),Pa(i,"SID","null"),t.Z=!0,pa(t,i,null)):pa(t,i,r),this.G=2}}else 3==this.G&&(e?Mo(this,e):0==this.i.length||Ja(this.h)||Mo(this))},ar.Ia=function(){if(this.u=null,zo(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ji(yr(this.eb,this),e)}},ar.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yi(10),Po(this),zo(this))},ar.cb=function(){null!=this.v&&(this.v=null,Po(this),jo(this),Yi(19))},ar.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Yi(2)):(this.j.info("Failed to ping google.com"),Yi(1))},(ar=$o.prototype).xa=function(){},ar.wa=function(){},ar.va=function(){},ar.ua=function(){},ar.Ra=function(){},Yo.prototype.g=function(e,t){return new Xo(e,t)},br(Xo,bi),Xo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Yi(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Go(e,null,e.V),Oo(e)},Xo.prototype.close=function(){No(this.g)},Xo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=xi(e),e=n);t.i.push(new Qa(t.ab++,e)),3==t.G&&Oo(t)},Xo.prototype.M=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,Xo.X.M.call(this)},br(Jo,oa),br(Zo,ua),br(eu,$o),eu.prototype.xa=function(){ki(this.g,"a")},eu.prototype.wa=function(e){ki(this.g,new Jo(e))},eu.prototype.va=function(e){ki(this.g,new Zo)},eu.prototype.ua=function(){ki(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,Xo.prototype.send=Xo.prototype.u,Xo.prototype.open=Xo.prototype.m,Xo.prototype.close=Xo.prototype.close,Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,ea.COMPLETE="complete",ra.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",bi.prototype.listen=bi.prototype.N,mo.prototype.listenOnce=mo.prototype.O,mo.prototype.getLastError=mo.prototype.Oa,mo.prototype.getLastErrorCode=mo.prototype.Ea,mo.prototype.getStatus=mo.prototype.aa,mo.prototype.getResponseJson=mo.prototype.Sa,mo.prototype.getResponseText=mo.prototype.fa,mo.prototype.send=mo.prototype.da,mo.prototype.setWithCredentials=mo.prototype.Ka;var tu=ur.createWebChannelTransport=function(){return new Yo},nu=ur.getStatEventTarget=function(){return Hi()},ru=ur.ErrorCode=Zi,iu=ur.EventType=ea,au=ur.Event=Wi,ou=ur.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},uu=ur.FetchXmlHttpFactory=so,su=ur.WebChannel=ra,cu=ur.XhrIo=mo,lu="@firebase/firestore",fu=function(){function e(t){p(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();fu.UNAUTHENTICATED=new fu(null),fu.GOOGLE_CREDENTIALS=new fu("google-credentials-uid"),fu.FIRST_PARTY=new fu("first-party-uid"),fu.MOCK_USER=new fu("mock-user");var du="9.17.1",hu=new Ut("@firebase/firestore");function pu(){return hu.logLevel}function vu(e){if(hu.logLevel<=Dt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gu);hu.debug.apply(hu,["Firestore (".concat(du,"): ").concat(e)].concat(h(i)))}}function mu(e){if(hu.logLevel<=Dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gu);hu.error.apply(hu,["Firestore (".concat(du,"): ").concat(e)].concat(h(i)))}}function yu(e){if(hu.logLevel<=Dt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gu);hu.warn.apply(hu,["Firestore (".concat(du,"): ").concat(e)].concat(h(i)))}}function gu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function bu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(du,") INTERNAL ASSERTION FAILED: ")+e;throw mu(t),new Error(t)}function ku(e,t){e||bu()}function wu(e,t){return e}var xu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Su=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(ft),Iu=g((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Eu=g((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),_u=function(){function e(){p(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(fu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Tu=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Cu=function(){function e(t){p(this,e),this.t=t,this.currentUser=fu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Iu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Iu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){vu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(vu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Iu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(vu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ku("string"==typeof n.accessToken),new Eu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ku(null===e||"string"==typeof e),new fu(e)}}]),e}(),Au=function(){function e(t,n,r,i){p(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=fu.FIRST_PARTY,this.p=new Map}return g(e,[{key:"I",value:function(){return this.g?this.g():(ku(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Ru=function(){function e(t,n,r,i){p(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new Au(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(fu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Nu=g((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Pu=function(){function e(t){p(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&vu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,vu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){vu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):vu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ku("string"==typeof t.token),e.A=t.token,new Nu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Du(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ou=function(){function e(){p(this,e)}return g(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Du(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Mu(e,t){return e<t?-1:e>t?1:0}function Lu(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fu(e){return e+"\0"}var Vu=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Su(xu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Su(xu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Su(xu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Su(xu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Mu(this.nanoseconds,e.nanoseconds):Mu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ju=function(){function e(t){p(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Vu(0,0))}},{key:"max",value:function(){return new e(new Vu(253402300799,999999999))}}]),e}(),Uu=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&bu(),void 0===r?r=t.length-n:r>t.length-n&&bu(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),zu=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Su(xu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Uu),Bu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qu=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Bu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Su(xu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Su(xu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Su(xu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Su(xu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Uu),Wu=function(){function e(t){p(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===zu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(zu.fromString(t))}},{key:"fromName",value:function(t){return new e(zu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(zu.emptyPath())}},{key:"comparator",value:function(e,t){return zu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new zu(t.slice()))}}]),e}(),Ku=g((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Hu(e){return e.fields.find((function(e){return 2===e.kind}))}function Gu(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ku.UNKNOWN_ID=-1;var Qu=g((function e(t,n){p(this,e),this.fieldPath=t,this.kind=n}));var $u=function(){function e(t,n){p(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,Ju.min())}}]),e}();function Yu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ju.fromTimestamp(1e9===r?new Vu(n+1,0):new Vu(n,r));return new Ju(i,Wu.empty(),t)}function Xu(e){return new Ju(e.readTime,e.key,-1)}var Ju=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(ju.min(),Wu.empty(),-1)}},{key:"max",value:function(){return new e(ju.max(),Wu.empty(),-1)}}]),e}();function Zu(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Wu.comparator(e.documentKey,t.documentKey))?n:Mu(e.largestBatchId,t.largestBatchId)}var es="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ts=function(){function e(){p(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ns(e){return rs.apply(this,arguments)}function rs(){return rs=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===xu.FAILED_PRECONDITION&&t.message===es){e.next=2;break}throw t;case 2:vu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}var is=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&bu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=A(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),as=function(){function e(t,n){var r=this;p(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Iu,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new ss(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=hs(e.target.error);r.P.reject(new ss(t,n))}}return g(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(vu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ls(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ss(n,t)}}}]),e}(),os=function(){function e(t,n,r){p(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(at())&&mu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"F",value:function(){var e=Tt(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return vu("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ss(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Su(xu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Su(xu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ss(t,n))},i.onupgradeneeded=function(e){vu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){vu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Tt(Et().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Et().mark((function e(){var n,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=as.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),is.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,vu("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return vu("SimpleDb","Removing database:",e),fs(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!lt())return!1;if(e.N())return!0;var t=at(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/task-manager-TS",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),us=function(){function e(t){p(this,e),this.q=t,this.U=!1,this.K=null}return g(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return fs(this.q.delete())}}]),e}(),ss=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,xu.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(Su);function cs(e){return"IndexedDbTransactionError"===e.name}var ls=function(){function e(t){p(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(vu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(vu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fs(n)}},{key:"add",value:function(e){return vu("SimpleDb","ADD",this.store.name,e,e),fs(this.store.add(e))}},{key:"get",value:function(e){var t=this;return fs(this.store.get(e)).next((function(n){return void 0===n&&(n=null),vu("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return vu("SimpleDb","DELETE",this.store.name,e),fs(this.store.delete(e))}},{key:"count",value:function(){return vu("SimpleDb","COUNT",this.store.name),fs(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new is((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new is((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){vu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new is((function(n,r){t.onerror=function(e){var t=hs(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new is((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new us(i),o=t(i.primaryKey,i.value,a);if(o instanceof is){var u=o.catch((function(e){return a.done(),is.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return is.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function fs(e){return new is((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=hs(e.target.error);n(t)}}))}var ds=!1;function hs(e){var t=os.D(at());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Su("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ds||(ds=!0,setTimeout((function(){throw r}),0)),r}}return e}var ps=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.et=n,this.task=null}return g(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;vu("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=vu,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!cs(e.t4)){e.next=17;break}vu("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ns(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),vs=function(){function e(t,n){p(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"st",value:function(){var e=Tt(Et().mark((function e(){var t,n=this,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return is.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return vu("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return vu("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Xu(t);Zu(r,n)>0&&(n=r)})),new Ju(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),ms=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();ms.at=-1;var ys=g((function e(t,n,r,i,a,o,u,s){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),gs=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function bs(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ks(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ws(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xs(e){return null==e}function Ss(e){return 0===e&&1/e==-1/0}function Is(e){return"number"==typeof e&&Number.isInteger(e)&&!Ss(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Es=function(e){function t(e){p(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Mu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Es.EMPTY_BYTE_STRING=new Es("");var _s=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(e){if(ku(!!e),"string"==typeof e){var t=0,n=_s.exec(e);if(ku(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Cs(e.seconds),nanos:Cs(e.nanos)}}function Cs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function As(e){return"string"==typeof e?Es.fromBase64String(e):Es.fromUint8Array(e)}function Rs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ns(e){var t=e.mapValue.fields.__previous_value__;return Rs(t)?Ns(t):t}function Ps(e){var t=Ts(e.mapValue.fields.__local_write_time__.timestampValue);return new Vu(t.seconds,t.nanos)}var Ds={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Os={nullValue:"NULL_VALUE"};function Ms(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rs(e)?4:$s(e)?9007199254740991:10:bu()}function Ls(e,t){if(e===t)return!0;var n=Ms(e);if(n!==Ms(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ps(e).isEqual(Ps(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ts(e.timestampValue),r=Ts(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return As(e.bytesValue).isEqual(As(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cs(e.geoPointValue.latitude)===Cs(t.geoPointValue.latitude)&&Cs(e.geoPointValue.longitude)===Cs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cs(e.integerValue)===Cs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Cs(e.doubleValue),r=Cs(t.doubleValue);return n===r?Ss(n)===Ss(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Lu(e.arrayValue.values||[],t.arrayValue.values||[],Ls);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bs(n)!==bs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ls(n[i],r[i])))return!1;return!0}(e,t);default:return bu()}}function Fs(e,t){return void 0!==(e.values||[]).find((function(e){return Ls(e,t)}))}function Vs(e,t){if(e===t)return 0;var n=Ms(e),r=Ms(t);if(n!==r)return Mu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Cs(e.integerValue||e.doubleValue),r=Cs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return js(e.timestampValue,t.timestampValue);case 4:return js(Ps(e),Ps(t));case 5:return Mu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=As(e),r=As(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Mu(n[i],r[i]);if(0!==a)return a}return Mu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mu(Cs(e.latitude),Cs(t.latitude));return 0!==n?n:Mu(Cs(e.longitude),Cs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Vs(n[i],r[i]);if(a)return a}return Mu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ds.mapValue&&t===Ds.mapValue)return 0;if(e===Ds.mapValue)return 1;if(t===Ds.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Mu(r[o],a[o]);if(0!==u)return u;var s=Vs(n[r[o]],i[a[o]]);if(0!==s)return s}return Mu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw bu()}}function js(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mu(e,t);var n=Ts(e),r=Ts(t),i=Mu(n.seconds,r.seconds);return 0!==i?i:Mu(n.nanos,r.nanos)}function Us(e){return zs(e)}function zs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ts(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?As(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Wu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=A(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=zs(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=A(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(zs(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):bu();var t,n}function Bs(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function qs(e){return!!e&&"integerValue"in e}function Ws(e){return!!e&&"arrayValue"in e}function Ks(e){return!!e&&"nullValue"in e}function Hs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gs(e){return!!e&&"mapValue"in e}function Qs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ks(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Qs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Qs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function $s(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ys(e){return"nullValue"in e?Os:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Bs(gs.empty(),Wu.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:bu()}function Xs(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Bs(gs.empty(),Wu.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ds:bu()}function Js(e,t){var n=Vs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Zs(e,t){var n=Vs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ec=g((function e(t,n){p(this,e),this.position=t,this.inclusive=n}));function tc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wu.comparator(Wu.fromName(o.referenceValue),n.key):Vs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function nc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ls(e.position[n],t.position[n]))return!1;return!0}var rc=g((function e(){p(this,e)})),ic=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vs(t,this.value)):null!==t&&Ms(this.value)===Ms(t)&&this.matchesComparison(Vs(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bu()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new pc(e,t,r):"array-contains"===t?new gc(e,r):"in"===t?new bc(e,r):"not-in"===t?new kc(e,r):"array-contains-any"===t?new wc(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new vc(e,n):new mc(e,n)}}]),n}(rc),ac=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return g(n,[{key:"matches",value:function(e){return oc(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=A(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(rc);function oc(e){return"and"===e.op}function uc(e){return"or"===e.op}function sc(e){return cc(e)&&oc(e)}function cc(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ac)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function lc(e){if(e instanceof ic)return e.field.canonicalString()+e.op.toString()+Us(e.value);if(sc(e))return e.filters.map((function(e){return lc(e)})).join(",");var t=e.filters.map((function(e){return lc(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function fc(e,t){return e instanceof ic?function(e,t){return t instanceof ic&&e.op===t.op&&e.field.isEqual(t.field)&&Ls(e.value,t.value)}(e,t):e instanceof ac?function(e,t){return t instanceof ac&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&fc(n,t.filters[r])}),!0)}(e,t):void bu()}function dc(e,t){var n=e.filters.concat(t);return ac.create(n,e.op)}function hc(e){return e instanceof ic?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Us(e.value))}(e):e instanceof ac?function(e){return e.op.toString()+" {"+e.getFilters().map(hc).join(" ,")+"}"}(e):"Filter"}var pc=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=Wu.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=Wu.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(ic),vc=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=yc("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ic),mc=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=yc("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ic);function yc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wu.fromName(e.referenceValue)}))}var gc=function(e){k(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ws(t)&&Fs(t.arrayValue,this.value)}}]),n}(ic),bc=function(e){k(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Fs(this.value.arrayValue,t)}}]),n}(ic),kc=function(e){k(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(Fs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Fs(this.value.arrayValue,t)}}]),n}(ic),wc=function(e){k(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ws(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Fs(t.value.arrayValue,e)}))}}]),n}(ic),xc=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function Sc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Ic=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||_c.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_c.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_c.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ec(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ec(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ec(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ec(this.root,e,this.comparator,!0)}}]),e}(),Ec=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),_c=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw bu();if(this.right.isRed())throw bu();var e=this.left.check();if(e!==this.right.check())throw bu();return e+(this.isRed()?0:1)}}]),e}();_c.EMPTY=null,_c.RED=!0,_c.BLACK=!1,_c.EMPTY=new(function(){function e(){p(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw bu()}},{key:"value",get:function(){throw bu()}},{key:"color",get:function(){throw bu()}},{key:"left",get:function(){throw bu()}},{key:"right",get:function(){throw bu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _c(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Tc=function(){function e(t){p(this,e),this.comparator=t,this.data=new Ic(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Cc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Cc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Cc=function(){function e(t){p(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ac(e){return e.hasNext()?e.getNext():void 0}var Rc=function(){function e(t){p(this,e),this.fields=t,t.sort(qu.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new Tc(qu.comparator),i=A(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=A(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=A(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Lu(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Nc=function(){function e(t){p(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Gs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qs(t)}},{key:"setAll",value:function(e){var t=this,n=qu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Qs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Gs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ls(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Gs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ks(t,(function(t,n){return e[t]=n}));var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Qs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Pc(e){var t=[];return ks(e.fields,(function(e,n){var r=new qu([e]);if(Gs(n)){var i=Pc(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=A(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Rc(t)}var Dc=function(){function e(t,n,r,i,a,o,u){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(ju.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Nc.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Nc.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=ju.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ju.min(),ju.min(),ju.min(),Nc.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,ju.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ju.min(),ju.min(),Nc.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ju.min(),ju.min(),Nc.empty(),2)}}]),e}(),Oc=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function Mc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Oc(e,t,n,r,i,a,o)}function Lc(e){var t=wu(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return lc(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),xs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Us(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Us(e)})).join(",")),t.ft=n}return t.ft}function Fc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Sc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!fc(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nc(e.startAt,t.startAt)&&nc(e.endAt,t.endAt)}function Vc(e){return Wu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function jc(e,t){return e.filters.filter((function(e){return e instanceof ic&&e.field.isEqual(t)}))}function Uc(e,t,n){var r,i=Os,a=!0,o=A(jc(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Os,c=!0;switch(u.op){case"<":case"<=":s=Ys(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Os}Js({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Js({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function zc(e,t,n){var r,i=Ds,a=!0,o=A(jc(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ds,c=!0;switch(u.op){case">=":case">":s=Xs(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ds}Zs({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Zs({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Bc=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function qc(e,t,n,r,i,a,o,u){return new Bc(e,t,n,r,i,a,o,u)}function Wc(e){return new Bc(e)}function Kc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gc(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Qc(e){return null!==e.collectionGroup}function $c(e){var t=wu(e);if(null===t.dt){t.dt=[];var n=Gc(t),r=Hc(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new xc(n)),t.dt.push(new xc(qu.keyField(),"asc"));else{var i,a=!1,o=A(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new xc(qu.keyField(),s))}}}return t.dt}function Yc(e){var t=wu(e);if(!t._t)if("F"===t.limitType)t._t=Mc(t.path,t.collectionGroup,$c(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=A($c(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new xc(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ec(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ec(t.startAt.position,t.startAt.inclusive):null;t._t=Mc(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Xc(e,t){t.getFirstInequalityField(),Gc(e);var n=e.filters.concat([t]);return new Bc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jc(e,t,n){return new Bc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zc(e,t){return Fc(Yc(e),Yc(t))&&e.limitType===t.limitType}function el(e){return"".concat(Lc(Yc(e)),"|lt:").concat(e.limitType)}function tl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return hc(e)})).join(", "),"]")),xs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Us(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Us(e)})).join(",")),"Target(".concat(t,")")}(Yc(e)),"; limitType=").concat(e.limitType,")")}function nl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=A($c(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=A(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=tc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$c(e),t))&&!(e.endAt&&!function(e,t,n){var r=tc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$c(e),t))}(e,t)}function rl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function il(e){return function(t,n){var r,i=!1,a=A($c(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=al(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function al(e,t,n){var r=e.field.isKeyField()?Wu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vs(r,i):bu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bu()}}function ol(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ss(t)?"-0":t}}function ul(e){return{integerValue:""+e}}function sl(e,t){return Is(t)?ul(t):ol(e,t)}var cl=g((function e(){p(this,e),this._=void 0}));function ll(e,t,n){return e instanceof hl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pl?vl(e,t):e instanceof ml?yl(e,t):function(e,t){var n=dl(e,t),r=bl(n)+bl(e.gt);return qs(n)&&qs(e.gt)?ul(r):ol(e.yt,r)}(e,t)}function fl(e,t,n){return e instanceof pl?vl(e,t):e instanceof ml?yl(e,t):n}function dl(e,t){return e instanceof gl?qs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var hl=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(cl),pl=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(cl);function vl(e,t){var n,r=kl(t),i=A(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ls(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ml=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(cl);function yl(e,t){var n,r=kl(t),i=A(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ls(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gl=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return g(n)}(cl);function bl(e){return Cs(e.integerValue||e.doubleValue)}function kl(e){return Ws(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var wl=g((function e(t,n){p(this,e),this.field=t,this.transform=n}));var xl=g((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),Sl=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Il(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var El=g((function e(){p(this,e)}));function _l(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vl(e.key,Sl.none()):new Nl(e.key,e.data,Sl.none());var n,r=e.data,i=Nc.empty(),a=new Tc(qu.comparator),o=A(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Pl(e.key,i,new Rc(a.toArray()),Sl.none())}function Tl(e,t,n){e instanceof Nl?function(e,t,n){var r=e.value.clone(),i=Ol(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pl?function(e,t,n){if(Il(e.precondition,t)){var r=Ol(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Cl(e,t,n,r){return e instanceof Nl?function(e,t,n,r){if(!Il(e.precondition,t))return n;var i=e.value.clone(),a=Ml(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pl?function(e,t,n,r){if(!Il(e.precondition,t))return n;var i=Ml(e.fieldTransforms,r,t),a=t.data;return a.setAll(Dl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Il(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Al(e,t){var n,r=null,i=A(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=dl(a.transform,o||null);null!=u&&(null===r&&(r=Nc.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Rl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Lu(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pl&&t instanceof pl||e instanceof ml&&t instanceof ml?Lu(e.elements,t.elements,Ls):e instanceof gl&&t instanceof gl?Ls(e.gt,t.gt):e instanceof hl&&t instanceof hl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Nl=function(e){k(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(El),Pl=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(El);function Dl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ol(e,t,n){var r=new Map;ku(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,fl(o,u,n[i]))}return r}function Ml(e,t,n){var r,i=new Map,a=A(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ll(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ll,Fl,Vl=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(El),jl=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(El),Ul=g((function e(t){p(this,e),this.count=t}));function zl(e){switch(e){default:return bu();case xu.CANCELLED:case xu.UNKNOWN:case xu.DEADLINE_EXCEEDED:case xu.RESOURCE_EXHAUSTED:case xu.INTERNAL:case xu.UNAVAILABLE:case xu.UNAUTHENTICATED:return!1;case xu.INVALID_ARGUMENT:case xu.NOT_FOUND:case xu.ALREADY_EXISTS:case xu.PERMISSION_DENIED:case xu.FAILED_PRECONDITION:case xu.ABORTED:case xu.OUT_OF_RANGE:case xu.UNIMPLEMENTED:case xu.DATA_LOSS:return!0}}function Bl(e){if(void 0===e)return mu("GRPC error has no .code"),xu.UNKNOWN;switch(e){case Ll.OK:return xu.OK;case Ll.CANCELLED:return xu.CANCELLED;case Ll.UNKNOWN:return xu.UNKNOWN;case Ll.DEADLINE_EXCEEDED:return xu.DEADLINE_EXCEEDED;case Ll.RESOURCE_EXHAUSTED:return xu.RESOURCE_EXHAUSTED;case Ll.INTERNAL:return xu.INTERNAL;case Ll.UNAVAILABLE:return xu.UNAVAILABLE;case Ll.UNAUTHENTICATED:return xu.UNAUTHENTICATED;case Ll.INVALID_ARGUMENT:return xu.INVALID_ARGUMENT;case Ll.NOT_FOUND:return xu.NOT_FOUND;case Ll.ALREADY_EXISTS:return xu.ALREADY_EXISTS;case Ll.PERMISSION_DENIED:return xu.PERMISSION_DENIED;case Ll.FAILED_PRECONDITION:return xu.FAILED_PRECONDITION;case Ll.ABORTED:return xu.ABORTED;case Ll.OUT_OF_RANGE:return xu.OUT_OF_RANGE;case Ll.UNIMPLEMENTED:return xu.UNIMPLEMENTED;case Ll.DATA_LOSS:return xu.DATA_LOSS;default:return bu()}}(Fl=Ll||(Ll={}))[Fl.OK=0]="OK",Fl[Fl.CANCELLED=1]="CANCELLED",Fl[Fl.UNKNOWN=2]="UNKNOWN",Fl[Fl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fl[Fl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fl[Fl.NOT_FOUND=5]="NOT_FOUND",Fl[Fl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fl[Fl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fl[Fl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fl[Fl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fl[Fl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fl[Fl.ABORTED=10]="ABORTED",Fl[Fl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fl[Fl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fl[Fl.INTERNAL=13]="INTERNAL",Fl[Fl.UNAVAILABLE=14]="UNAVAILABLE",Fl[Fl.DATA_LOSS=15]="DATA_LOSS";var ql=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ks(this.inner,(function(t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ws(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Wl=new Ic(Wu.comparator);function Kl(){return Wl}var Hl=new Ic(Wu.comparator);function Gl(){for(var e=Hl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ql(e){var t=Hl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function $l(){return Xl()}function Yl(){return Xl()}function Xl(){return new ql((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Jl=new Ic(Wu.comparator),Zl=new Tc(Wu.comparator);function ef(){for(var e=Zl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var tf=new Tc(Mu);function nf(){return tf}var rf=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,af.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(ju.min(),i,nf(),Kl(),ef())}}]),e}(),af=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ef(),ef(),ef())}}]),e}(),of=g((function e(t,n,r,i){p(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),uf=g((function e(t,n){p(this,e),this.targetId=t,this.Et=n})),sf=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Es.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),cf=function(){function e(){p(this,e),this.At=0,this.Rt=df(),this.bt=Es.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return g(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=ef(),t=ef(),n=ef();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bu()}})),new af(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=df()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),lf=function(){function e(t){p(this,e),this.$t=t,this.Bt=new Map,this.Lt=Kl(),this.qt=ff(),this.Ut=new Tc(Mu)}return g(e,[{key:"Kt",value:function(e){var t,n=A(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=A(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:bu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Vc(i))if(0===n){var a=new Wu(i.path);this.Qt(t,a,Dc.newNoDocument(a,ju.min()))}else ku(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Vc(a.target)){var o=new Wu(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Dc.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=ef();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new rf(e,n,this.Ut,this.Lt,r);return this.Lt=Kl(),this.qt=ff(),this.Ut=new Tc(Mu),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new cf,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Tc(Mu),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||vu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new cf),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function ff(){return new Ic(Wu.comparator)}function df(){return new Ic(Wu.comparator)}var hf={asc:"ASCENDING",desc:"DESCENDING"},pf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vf={and:"AND",or:"OR"},mf=g((function e(t,n){p(this,e),this.databaseId=t,this.wt=n}));function yf(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function gf(e,t){return e.wt?t.toBase64():t.toUint8Array()}function bf(e,t){return yf(e,t.toTimestamp())}function kf(e){return ku(!!e),ju.fromTimestamp(function(e){var t=Ts(e);return new Vu(t.seconds,t.nanos)}(e))}function wf(e,t){return function(e){return new zu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function xf(e){var t=zu.fromString(e);return ku(Kf(t)),t}function Sf(e,t){return wf(e.databaseId,t.path)}function If(e,t){var n=xf(t);if(n.get(1)!==e.databaseId.projectId)throw new Su(xu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Su(xu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wu(Cf(n))}function Ef(e,t){return wf(e.databaseId,t)}function _f(e){var t=xf(e);return 4===t.length?zu.emptyPath():Cf(t)}function Tf(e){return new zu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cf(e){return ku(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Af(e,t,n){return{name:Sf(e,t),fields:n.value.mapValue.fields}}function Rf(e,t,n){var r=If(e,t.name),i=kf(t.updateTime),a=t.createTime?kf(t.createTime):ju.min(),o=new Nc({mapValue:{fields:t.fields}}),u=Dc.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Nf(e,t){return"found"in t?function(e,t){ku(!!t.found),t.found.name,t.found.updateTime;var n=If(e,t.found.name),r=kf(t.found.updateTime),i=t.found.createTime?kf(t.found.createTime):ju.min(),a=new Nc({mapValue:{fields:t.found.fields}});return Dc.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ku(!!t.missing),ku(!!t.readTime);var n=If(e,t.missing),r=kf(t.readTime);return Dc.newNoDocument(n,r)}(e,t):bu()}function Pf(e,t){var n;if(t instanceof Nl)n={update:Af(e,t.key,t.value)};else if(t instanceof Vl)n={delete:Sf(e,t.key)};else if(t instanceof Pl)n={update:Af(e,t.key,t.data),updateMask:Wf(t.fieldMask)};else{if(!(t instanceof jl))return bu();n={verify:Sf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof hl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ml)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gl)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw bu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:bf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bu()}(e,t.precondition)),n}function Df(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Sl.updateTime(kf(e.updateTime)):void 0!==e.exists?Sl.exists(e.exists):Sl.none()}(t.currentDocument):Sl.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ku("REQUEST_TIME"===t.setToServerValue),n=new hl;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new pl(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ml(i)}else"increment"in t?n=new gl(e,t.increment):bu();var a=qu.fromServerFormat(t.fieldPath);return new wl(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=If(e,t.update.name),a=new Nc({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Rc(t.map((function(e){return qu.fromServerFormat(e)})))}(t.updateMask);return new Pl(i,a,o,n,r)}return new Nl(i,a,n,r)}if(t.delete){var u=If(e,t.delete);return new Vl(u,n)}if(t.verify){var s=If(e,t.verify);return new jl(s,n)}return bu()}function Of(e,t){return{documents:[Ef(e,t.path)]}}function Mf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ef(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ef(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return qf(ac.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:zf(e.field),direction:Vf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||xs(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Lf(e){var t=_f(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ku(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Ff(e);return t instanceof ac&&sc(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new xc(Bf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return xs(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ec(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ec(n,t)}(n.endAt)),qc(t,i,u,o,s,"F",c,l)}function Ff(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Bf(e.unaryFilter.field);return ic.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Bf(e.unaryFilter.field);return ic.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bf(e.unaryFilter.field);return ic.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bf(e.unaryFilter.field);return ic.create(i,"!=",{nullValue:"NULL_VALUE"});default:return bu()}}(e):void 0!==e.fieldFilter?function(e){return ic.create(Bf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ac.create(e.compositeFilter.filters.map((function(e){return Ff(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return bu()}}(e.compositeFilter.op))}(e):bu()}function Vf(e){return hf[e]}function jf(e){return pf[e]}function Uf(e){return vf[e]}function zf(e){return{fieldPath:e.canonicalString()}}function Bf(e){return qu.fromServerFormat(e.fieldPath)}function qf(e){return e instanceof ic?function(e){if("=="===e.op){if(Hs(e.value))return{unaryFilter:{field:zf(e.field),op:"IS_NAN"}};if(Ks(e.value))return{unaryFilter:{field:zf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hs(e.value))return{unaryFilter:{field:zf(e.field),op:"IS_NOT_NAN"}};if(Ks(e.value))return{unaryFilter:{field:zf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zf(e.field),op:jf(e.op),value:e.value}}}(e):e instanceof ac?function(e){var t=e.getFilters().map((function(e){return qf(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Uf(e.op),filters:t}}}(e):bu()}function Wf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Kf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Hf(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Qf(t)),t=Gf(e.get(n),t);return Qf(t)}function Gf(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Qf(e){return e+"\x01\x01"}function $f(e){var t=e.length;if(ku(t>=2),2===t)return ku("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),zu.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&bu(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:bu()}a=o+2}return new zu(r)}var Yf=["userId","batchId"];function Xf(e,t){return[e,Hf(t)]}function Jf(e,t,n){return[e,Hf(t),n]}var Zf={},ed=["prefixPath","collectionGroup","readTime","documentId"],td=["prefixPath","collectionGroup","documentId"],nd=["collectionGroup","readTime","prefixPath","documentId"],rd=["canonicalId","targetId"],id=["targetId","path"],ad=["path","targetId"],od=["collectionId","parent"],ud=["indexId","uid"],sd=["uid","sequenceNumber"],cd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ld=["indexId","uid","orderedDocumentKey"],fd=["userId","collectionPath","documentId"],dd=["userId","collectionPath","largestBatchId"],hd=["userId","collectionGroup","largestBatchId"],pd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),vd=[].concat(h(pd),["documentOverlays"]),md=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yd=md,gd=[].concat(yd,["indexConfiguration","indexState","indexEntries"]),bd=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return g(n)}(ts);function kd(e,t){var n=wu(e);return os.M(n.se,t)}var wd=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Tl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=A(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Cl(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=A(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Cl(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Yl();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=_l(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(ju.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ef())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Lu(this.mutations,e.mutations,(function(e,t){return Rl(e,t)}))&&Lu(this.baseMutations,e.baseMutations,(function(e,t){return Rl(e,t)}))}}]),e}(),xd=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){ku(t.mutations.length===r.length);for(var i=Jl,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Sd=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Id=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ju.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ju.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Es.EMPTY_BYTE_STRING;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ed=g((function e(t){p(this,e),this.ie=t}));function _d(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Td(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Sf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:yf(e,t.version.toTimestamp()),createTime:yf(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cd(t.version)};else{if(!t.isUnknownDocument())return bu();r.unknownDocument={path:n.path.toArray(),version:Cd(t.version)}}return r}function Td(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cd(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ad(e){var t=new Vu(e.seconds,e.nanoseconds);return ju.fromTimestamp(t)}function Rd(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Df(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Df(e.ie,t)})),u=Vu.fromMillis(t.localWriteTimeMs);return new wd(t.batchId,u,n,o)}function Nd(e){var t,n,r=Ad(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ad(e.lastLimboFreeSnapshotVersion):ju.min();return void 0!==e.query.documents?(ku(1===(n=e.query).documents.length),t=Yc(Wc(_f(n.documents[0])))):t=function(e){return Yc(Lf(e))}(e.query),new Id(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Es.fromBase64String(e.resumeToken))}function Pd(e,t){var n,r=Cd(t.snapshotVersion),i=Cd(t.lastLimboFreeSnapshotVersion);n=Vc(t.target)?Of(e.ie,t.target):Mf(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Lc(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Dd(e){var t=Lf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jc(t,t.limit,"L"):t}function Od(e,t){return new Sd(t.largestBatchId,Df(e.ie,t.overlayMutation))}function Md(e,t){var n=t.path.lastSegment();return[e,Hf(t.path.popLast()),n]}function Ld(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Cd(r.readTime),documentKey:Hf(r.documentKey.path),largestBatchId:r.largestBatchId}}var Fd=function(){function e(){p(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Vd(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ad(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Vd(e).put({bundleId:(n=t).id,createTime:Cd(kf(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return jd(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Dd(t.bundledQuery),readTime:Ad(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return jd(e).put(function(e){return{name:e.name,readTime:Cd(kf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Vd(e){return kd(e,"bundles")}function jd(e){return kd(e,"namedQueries")}var Ud=function(){function e(t,n){p(this,e),this.yt=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return zd(e).get(Md(this.userId,t)).next((function(e){return e?Od(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=$l();return is.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Sd(t,a);i.push(r.oe(e,o))})),is.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Hf(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(zd(e).Y("collectionPathOverlayIndex",i))})),is.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=$l(),a=Hf(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return zd(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Od(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=$l(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zd(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Od(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return zd(e).put(function(e,t,n){var r=f(Md(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Pf(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function zd(e){return kd(e,"documentOverlays")}var Bd=function(){function e(){p(this,e)}return g(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Cs(e.integerValue));else if("doubleValue"in e){var n=Cs(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Ss(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(As(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?$s(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):bu()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Wu.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function qd(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Wd(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=qd(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Bd.Ie=new Bd;var Kd=function(){function e(){p(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=Wd(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=Wd(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Hd=function(){function e(t){p(this,e),this.$e=t}return g(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),Gd=function(){function e(t){p(this,e),this.$e=t}return g(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),Qd=function(){function e(){p(this,e),this.$e=new Kd,this.Be=new Hd(this.$e),this.Le=new Gd(this.$e)}return g(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),$d=function(){function e(t,n,r,i){p(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Yd(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Xd(e.arrayValue,t.arrayValue))?n:0!==(n=Xd(e.directionalValue,t.directionalValue))?n:Wu.comparator(e.documentKey,t.documentKey)}function Xd(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Jd=function(){function e(t){p(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=A(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"je",value:function(e){ku(e.collectionGroup===this.collectionId);var t=Hu(e);if(void 0!==t&&!this.We(t))return!1;for(var n=Gu(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=A(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Zd(e){var t,n;if(ku(e instanceof ic||e instanceof ac),e instanceof ic){if(e instanceof bc){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return ic.create(e.field,"==",t)})))||[];return ac.create(r,"or")}return e}var i=e.filters.map((function(e){return Zd(e)}));return ac.create(i,e.op)}function eh(e){if(0===e.getFilters().length)return[];var t=ih(Zd(e));return ku(rh(t)),th(t)||nh(t)?[t]:t.getFilters()}function th(e){return e instanceof ic}function nh(e){return e instanceof ac&&sc(e)}function rh(e){return th(e)||nh(e)||function(e){if(e instanceof ac&&uc(e)){var t,n=A(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!th(r)&&!nh(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function ih(e){if(ku(e instanceof ic||e instanceof ac),e instanceof ic)return e;if(1===e.filters.length)return ih(e.filters[0]);var t=e.filters.map((function(e){return ih(e)})),n=ac.create(t,e.op);return rh(n=uh(n))?n:(ku(n instanceof ac),ku(oc(n)),ku(n.filters.length>1),n.filters.reduce((function(e,t){return ah(e,t)})))}function ah(e,t){var n;return ku(e instanceof ic||e instanceof ac),ku(t instanceof ic||t instanceof ac),n=e instanceof ic?t instanceof ic?function(e,t){return ac.create([e,t],"and")}(e,t):oh(e,t):t instanceof ic?oh(t,e):function(e,t){if(ku(e.filters.length>0&&t.filters.length>0),oc(e)&&oc(t))return dc(e,t.getFilters());var n=uc(e)?e:t,r=uc(e)?t:e,i=n.filters.map((function(e){return ah(e,r)}));return ac.create(i,"or")}(e,t),uh(n)}function oh(e,t){if(oc(t))return dc(t,e.getFilters());var n=t.filters.map((function(t){return ah(e,t)}));return ac.create(n,"or")}function uh(e){if(ku(e instanceof ic||e instanceof ac),e instanceof ic)return e;var t=e.getFilters();if(1===t.length)return uh(t[0]);if(cc(e))return e;var n=t.map((function(e){return uh(e)})),r=[];return n.forEach((function(t){t instanceof ic?r.push(t):t instanceof ac&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:ac.create(r,e.op)}var sh=function(){function e(){p(this,e),this.Je=new ch}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),is.resolve()}},{key:"getCollectionParents",value:function(e,t){return is.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return is.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return is.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return is.resolve(null)}},{key:"getIndexType",value:function(e,t){return is.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return is.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return is.resolve(null)}},{key:"getMinOffset",value:function(e,t){return is.resolve(Ju.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return is.resolve(Ju.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return is.resolve()}},{key:"updateIndexEntries",value:function(e,t){return is.resolve()}}]),e}(),ch=function(){function e(){p(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Tc(zu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Tc(zu.comparator)).toArray()}}]),e}(),lh=new Uint8Array(0),fh=function(){function e(t,n){p(this,e),this.user=t,this.databaseId=n,this.Ye=new ch,this.Xe=new ql((function(e){return Lc(e)}),(function(e,t){return Fc(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:Hf(i)};return dh(e).put(a)}return is.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fu(t),""],!1,!0);return dh(e).W(r).next((function(e){var r,i=A(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push($f(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ph(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=vh(e);return a.next((function(e){o.put(Ld(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ph(e),r=vh(e),i=hh(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=hh(e),i=!0,a=new Map;return is.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ef(),o=[];return is.forEach(a,(function(i,a){var u;vu("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Lc(t)));var s=function(e,t){var n=Hu(t);if(void 0===n)return null;var r,i=A(jc(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=A(Gu(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=A(jc(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=A(Gu(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Uc(e,o.fieldPath,e.startAt):zc(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ec(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=A(Gu(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?zc(e,o.fieldPath,e.endAt):Uc(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ec(r,i)}(a,i),d=n.en(i,a,l),h=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return is.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Wu.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return is.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:eh(ac.create(e.filters,"and")).map((function(t){return Mc(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.rn(t[s/c]):lh,d=u.on(e,f,n[s%c],r),p=u.un(e,f,i[s%c],a),v=o.map((function(t){return u.on(e,f,t,!0)}));l.push.apply(l,h(u.createRange(d,p,v)))},d=0;d<s;++d)f(d);return l}},{key:"on",value:function(e,t,n,r){var i=new $d(e,Wu.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new $d(e,Wu.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new Jd(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=A(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return is.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Tc(qu.comparator),r=!1,i=A(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=A(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=A(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new Qd,i=A(Gu(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Bd.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new Qd;return Bd.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new Qd;return Bd.Ie.ue(Bs(this.databaseId,t),n.qe(function(e){var t=Gu(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Qd);var i,a=0,o=A(Gu(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=A(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&Ws(c))r=this.ln(r,s,c);else{var d=f.qe(s.kind);Bd.Ie.ue(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=h(e),a=[],o=A(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=A(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Qd;f.seed(l.Fe()),Bd.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ic&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ph(e),i=vh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return is.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new $u(t.sequenceNumber,new Ju(Ad(t.readTime),new Wu($f(t.documentKey)),t.largestBatchId)):$u.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new Qu(qu.fromServerFormat(n),r)}));return new Ku(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Mu(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ph(e),a=vh(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return is.forEach(t,(function(t){return a.put(Ld(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return is.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?is.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),is.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?is.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return hh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return hh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=hh(e),i=new Tc(Yd);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new $d(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Tc(Yd),r=this.cn(t,e);if(null==r)return n;var i=Hu(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ws(a)){var o,u=A(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new $d(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new $d(t.indexId,e.key,lh,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;vu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ac(a),s=Ac(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ac(o)):l?(i(u),u=Ac(a)):(u=Ac(a),s=Ac(o))}}(r,i,Yd,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),is.waitFor(o)}},{key:"dn",value:function(e){var t=1;return vh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Yd(e,t)})).filter((function(e,t,n){return!t||0!==Yd(e,n[t-1])}));var r=[];r.push(e);var i,a=A(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Yd(o,e),s=Yd(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,lh,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,lh,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"pn",value:function(e,t){return Yd(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(mh)}},{key:"getMinOffset",value:function(e,t){var n=this;return is.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||bu()}))})).next(mh)}}]),e}();function dh(e){return kd(e,"collectionParents")}function hh(e){return kd(e,"indexEntries")}function ph(e){return kd(e,"indexConfiguration")}function vh(e){return kd(e,"indexState")}function mh(e){ku(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Zu(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ju(t.readTime,t.documentKey,n)}var yh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gh=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function bh(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ku(1===u)})));var c,l=[],f=A(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Jf(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return is.waitFor(a).next((function(){return l}))}function kh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw bu();t=e.noDocument}return JSON.stringify(t).length}gh.DEFAULT_COLLECTION_PERCENTILE=10,gh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gh.DEFAULT=new gh(41943040,gh.DEFAULT_COLLECTION_PERCENTILE,gh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gh.DISABLED=new gh(-1,0,0);var wh=function(){function e(t,n,r,i){p(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sh(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ih(e),o=Sh(e);return o.add({}).next((function(u){ku("number"==typeof u);var s,c=new wd(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Pf(e.ie,t)})),i=n.mutations.map((function(t){return Pf(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],d=new Tc((function(e,t){return Mu(e.canonicalString(),t.canonicalString())})),h=A(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=Jf(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Zf))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),is.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Sh(e).get(t).next((function(e){return e?(ku(e.userId===n.userId),Rd(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?is.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Sh(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ku(t.batchId>=r),a=Rd(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Sh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sh(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Rd(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Xf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ih(e).Z({range:i},(function(r,i,o){var u=f(r,3),s=u[0],c=u[1],l=u[2],d=$f(c);if(s===n.userId&&t.path.isEqual(d))return Sh(e).get(l).next((function(e){if(!e)throw bu();ku(e.userId===n.userId),a.push(Rd(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tc(Mu),i=[];return t.forEach((function(t){var a=Xf(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Ih(e).Z({range:o},(function(e,i,a){var o=f(e,3),u=o[0],s=o[1],c=o[2],l=$f(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),is.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Xf(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Tc(Mu);return Ih(e).Z({range:o},(function(e,t,a){var o=f(e,3),s=o[0],c=o[1],l=o[2],d=$f(c);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Sh(e).get(t).next((function(e){if(null===e)throw bu();ku(e.userId===n.userId),r.push(Rd(n.yt,e))})))})),is.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return bh(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),is.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return is.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ih(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=$f(e[1]);i.push(a)}else r.done()})).next((function(){ku(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return xh(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Eh(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return ku(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function xh(e,t,n){var r=Xf(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Ih(e).Z({range:a,X:!0},(function(e,n,r){var a=f(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Sh(e){return kd(e,"mutations")}function Ih(e){return kd(e,"documentMutations")}function Eh(e){return kd(e,"mutationQueues")}var _h=function(){function e(t){p(this,e),this.bn=t}return g(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Th=function(){function e(t,n){p(this,e),this.referenceDelegate=t,this.yt=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new _h(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return ju.fromTimestamp(new Vu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ch(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return ku(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ch(e).Z((function(o,u){var s=Nd(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return is.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ch(e).Z((function(e,n){var r=Nd(n);t(r)}))}},{key:"Vn",value:function(e){return Ah(e).get("targetGlobalKey").next((function(e){return ku(null!==e),e}))}},{key:"Sn",value:function(e,t){return Ah(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Ch(e).put(Pd(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Lc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ch(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Nd(n);Fc(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Rh(e);return t.forEach((function(t){var o=Hf(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),is.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Rh(e);return is.forEach(t,(function(t){var a=Hf(t.path);return is.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Rh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rh(e),i=ef();return r.Z({range:n,X:!0},(function(e,t,n){var r=$f(e[1]),a=new Wu(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Hf(t.path),r=IDBKeyRange.bound([n],[Fu(n)],!1,!0),i=0;return Rh(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return Ch(e).get(t).next((function(e){return e?Nd(e):null}))}}]),e}();function Ch(e){return kd(e,"targets")}function Ah(e){return kd(e,"targetGlobal")}function Rh(e){return kd(e,"targetDocuments")}function Nh(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],u=a[1],s=Mu(r,o);return 0===s?Mu(i,u):s}var Ph=function(){function e(t){p(this,e),this.xn=t,this.buffer=new Tc(Nh),this.Nn=0}return g(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Nh(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Dh=function(){function e(t,n,r){p(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;vu("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!cs(e.t0)){e.next=12;break}vu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ns(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Oh=function(){function e(t,n){p(this,e),this.$n=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return is.resolve(ms.at);var r=new Ph(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(vu("LruGarbageCollector","Garbage collection skipped; disabled"),is.resolve(yh)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(vu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),yh):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(vu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),pu()<=Dt.DEBUG&&vu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),is.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Mh=function(){function e(t,n){p(this,e),this.db=t,this.garbageCollector=function(e,t){return new Oh(e,t)}(this,n)}return g(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Lh(e,n)}},{key:"removeReference",value:function(e,t,n){return Lh(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Lh(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Eh(e).tt((function(r){return xh(e,r,t).next((function(e){return e&&(n=!0),is.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ju.min()),Rh(e).delete([0,Hf(o.path)])}))}));i.push(s)}})).next((function(){return is.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Lh(e,t)}},{key:"Kn",value:function(e,t){var n,r=Rh(e),i=ms.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==ms.at&&t(new Wu($f(n)),i),i=s,n=u):i=ms.at})).next((function(){i!==ms.at&&t(new Wu($f(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Lh(e,t){return Rh(e).put(function(e,t){return{targetId:0,path:Hf(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Fh=function(){function e(){p(this,e),this.changes=new ql((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Dc.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?is.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Vh=function(){function e(t){p(this,e),this.yt=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Bh(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Bh(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Td(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Dc.newInvalidDocument(t);return Bh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qh(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Dc.newInvalidDocument(t)};return Bh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qh(t))},(function(e,i){r={document:n.jn(t,i),size:kh(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Kl();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Kl(),i=new Ic(Wu.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,kh(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return is.resolve();var r=new Tc(Kh);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(qh(r.first()),qh(r.last())),a=r.getIterator(),o=a.getNext();return Bh(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Wu.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Kh(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(qh(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Td(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bh(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Kl(),o=A(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.jn(Wu.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(nl(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Kl(),o=Wh(t,n),u=Wh(t,Ju.max());return Bh(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Wu.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Uh(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return zh(e).get("remoteDocumentGlobalKey").next((function(e){return ku(!!e),e}))}},{key:"Qn",value:function(e,t){return zh(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Rf(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Wu.fromSegments(t.noDocument.path),i=Ad(t.noDocument.readTime);n=Dc.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return bu();var a=Wu.fromSegments(t.unknownDocument.path),o=Ad(t.unknownDocument.version);n=Dc.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Vu(e[0],e[1]);return ju.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(ju.min()))return n}return Dc.newInvalidDocument(e)}}]),e}();function jh(e){return new Vh(e)}var Uh=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new ql((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Tc((function(e,t){return Mu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=_d(t.Yn.yt,o);i=i.add(a.path.popLast());var c=kh(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=_d(t.Yn.yt,o.convertToNoDocument(ju.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),is.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Fh);function zh(e){return kd(e,"remoteDocumentGlobal")}function Bh(e){return kd(e,"remoteDocumentsV14")}function qh(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Wh(e,t){var n=t.documentKey.path.toArray();return[e,Td(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Kh(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Mu(n[a],r[a]))return i;return(i=Mu(n.length,r.length))||((i=Mu(n[n.length-2],r[r.length-2]))||Mu(n[n.length-1],r[r.length-1]))}var Hh=g((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Gh=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Cl(r.mutation,e,Rc.empty(),Vu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ef()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ef(),i=$l();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Gl();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=$l();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ef())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Kl(),a=Xl(),o=Xl();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Pl)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Cl(o.mutation,t,o.mutation.getFieldMask(),Vu.now())):a.set(t.key,Rc.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Hh(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Xl(),i=new Ic((function(e,t){return e-t})),a=ef();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=A(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Rc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||ef()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Yl();c.forEach((function(e){if(!a.has(e)){var n=_l(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return is.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Wu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):is.resolve($l()),u=-1,s=a;return o.next((function(t){return is.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?is.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,ef())})).next((function(e){return{batchId:u,changes:Ql(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Wu(t)).next((function(e){var t=Gl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Gl();return this.indexManager.getCollectionParents(e,i).next((function(o){return is.forEach(o,(function(o){var u=function(e,t){return new Bc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Dc.newInvalidDocument(r)))}));var n=Gl();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Cl(a.mutation,i,Rc.empty(),Vu.now()),nl(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Qh=function(){function e(t){p(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return is.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:kf(n.createTime)}),is.resolve()}},{key:"getNamedQuery",value:function(e,t){return is.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Dd(e.bundledQuery),readTime:kf(e.readTime)}}(t)),is.resolve()}}]),e}(),$h=function(){function e(){p(this,e),this.overlays=new Ic(Wu.comparator),this.es=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return is.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=$l();return is.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),is.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),is.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=$l(),i=t.length+1,a=new Wu(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return is.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ic((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=$l(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=$l(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return is.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Sd(t,n));var a=this.es.get(t);void 0===a&&(a=ef(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Yh=function(){function e(){p(this,e),this.ns=new Tc(Xh.ss),this.rs=new Tc(Xh.os)}return g(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Xh(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Xh(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Wu(new zu([])),r=new Xh(n,e),i=new Xh(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Wu(new zu([])),n=new Xh(t,e),r=new Xh(t,e+1),i=ef();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Xh(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Xh=function(){function e(t,n){p(this,e),this.key=t,this._s=n}return g(e,null,[{key:"ss",value:function(e,t){return Wu.comparator(e.key,t.key)||Mu(e._s,t._s)}},{key:"os",value:function(e,t){return Mu(e._s,t._s)||Wu.comparator(e.key,t.key)}}]),e}(),Jh=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Tc(Xh.ss)}return g(e,[{key:"checkEmpty",value:function(e){return is.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new wd(i,t,n,r);this.mutationQueue.push(a);var o,u=A(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Xh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return is.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return is.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return is.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return is.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return is.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Xh(t,0),i=new Xh(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),is.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tc(Mu);return t.forEach((function(e){var t=new Xh(e,0),i=new Xh(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),is.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wu.isDocumentKey(i)||(i=i.child(""));var a=new Xh(new Wu(i),0),o=new Tc(Mu);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),is.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ku(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return is.forEach(t.mutations,(function(i){var a=new Xh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Xh(t,0),r=this.gs.firstAfterOrEqual(n);return is.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,is.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Zh=function(){function e(t){p(this,e),this.Es=t,this.docs=new Ic(Wu.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return is.resolve(n?n.document.mutableCopy():Dc.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Kl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Dc.newInvalidDocument(e))})),is.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Kl(),a=t.path,o=new Wu(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Zu(Xu(l),n)<=0||(r.has(l.key)||nl(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return is.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){bu()}},{key:"As",value:function(e,t){return is.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ep(this)}},{key:"getSize",value:function(e){return is.resolve(this.size)}}]),e}(),ep=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).Yn=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),is.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Fh),tp=function(){function e(t){p(this,e),this.persistence=t,this.Rs=new ql((function(e){return Lc(e)}),Fc),this.lastRemoteSnapshotVersion=ju.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Yh,this.targetCount=0,this.vs=_h.Pn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),is.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return is.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return is.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),is.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),is.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new _h(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,is.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),is.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,is.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),is.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return is.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return is.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),is.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),is.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),is.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return is.resolve(n)}},{key:"containsKey",value:function(e,t){return is.resolve(this.Ps.containsKey(t))}}]),e}(),np=function(){function e(t,n){var r=this;p(this,e),this.Vs={},this.overlays={},this.Ss=new ms(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new tp(this),this.indexManager=new sh,this.remoteDocumentCache=new Zh((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Ed(n),this.Ns=new Qh(this.yt)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new $h,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Jh(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;vu("MemoryPersistence","Starting transaction:",e);var i=new rp(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return is.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),rp=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(ts),ip=function(){function e(t){p(this,e),this.persistence=t,this.Fs=new Yh,this.$s=null}return g(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw bu()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),is.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),is.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),is.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return is.forEach(this.Ls,(function(r){var i=Wu.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,ju.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return is.or([function(){return is.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),ap=function(){function e(t){p(this,e),this.yt=t}return g(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new as("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yf,{unique:!0}),e.createObjectStore("documentMutations")}(e),op(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=is.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),op(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ju.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yf,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return is.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:fd});t.createIndex("collectionPathOverlayIndex",dd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",hd,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ed});t.createIndex("documentKeyIndex",td),t.createIndex("collectionGroupIndex",nd)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ud}).createIndex("sequenceNumberIndex",sd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:cd}).createIndex("documentKeyIndex",ld,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=kh(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return is.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return is.forEach(r,(function(r){ku(r.userId===n.userId);var i=Rd(t.yt,r);return bh(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new zu(n),o=function(e){return[0,Hf(e)]}(a);r.push(t.get(o).next((function(n){return n?is.resolve():function(n){return t.put({targetId:0,path:Hf(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return is.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:od});var n=t.store("collectionParents"),r=new ch,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Hf(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new zu(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],$f(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Nd(r),a=Pd(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Wu(zu.fromString(i.document.name).popFirst(5)):i.noDocument?Wu.fromSegments(i.noDocument.path):i.unknownDocument?Wu.fromSegments(i.unknownDocument.path):bu()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return is.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=jh(this.yt),a=new np(ip.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:ef();Rd(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),is.forEach(r,(function(e,r){var o=new fu(r),u=Ud.re(n.yt,o),s=a.getIndexManager(o),c=wh.re(o,n.yt,s,a.referenceDelegate);return new Gh(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new bd(t,ms.at),e).next()}))}))}}]),e}();function op(e){e.createObjectStore("targetDocuments",{keyPath:id}).createIndex("documentTargetsIndex",ad,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rd,{unique:!0}),e.createObjectStore("targetGlobal")}var up="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sp=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(p(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Su(xu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mh(this,i),this.ii=n+"main",this.yt=new Ed(s),this.ri=new os(this.ii,this.Xs,new ap(this.yt)),this.Cs=new Th(this.referenceDelegate,this.yt),this.remoteDocumentCache=jh(this.yt),this.Ns=new Fd,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&mu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Su(xu.FAILED_PRECONDITION,up);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new ms(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Tt(Et().mark((function n(r){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Tt(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return lp(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(cs(t))return vu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return vu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return cp(e).get("owner").next((function(e){return is.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return lp(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Tt(Et().mark((function e(){var t,n,r,i,a=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=kd(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return is.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=A(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?is.resolve(!0):cp(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Su(xu.FAILED_PRECONDITION,up);return!1}}return!(!t.networkEnabled||!t.inForeground)||lp(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&vu("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Tt(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new bd(e,ms.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return lp(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return wh.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new fh(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ud.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;vu("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?gd:14===i?yd:13===i?md:12===i?vd:11===i?pd:void bu();return this.ri.runTransaction(e,o,u,(function(i){return a=new bd(i,r.Ss?r.Ss.next():ms.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw mu("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Su(xu.FAILED_PRECONDITION,es);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return cp(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Su(xu.FAILED_PRECONDITION,up)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cp(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=cp(e);return n.get("owner").next((function(e){return t.mi(e)?(vu("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):is.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(mu("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!ot()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return vu("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return mu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(br){mu("Failed to set zombie client id.",br)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(br){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return os.C()}}]),e}();function cp(e){return kd(e,"owner")}function lp(e){return kd(e,"clientMetadata")}function fp(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var dp=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return g(e,null,[{key:"Ci",value:function(t,n){var r,i=ef(),a=ef(),o=A(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hp=function(){function e(){p(this,e),this.xi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Kc(t))return is.resolve(null);var r=Yc(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Jc(t,null,"F"),r=Yc(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ef.apply(void 0,h(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Jc(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Kc(t)||r.isEqual(ju.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(pu()<=Dt.DEBUG&&vu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tl(t)),i.Bi(e,o,t,Yu(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Tc(il(e));return t.forEach((function(t,r){nl(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return pu()<=Dt.DEBUG&&vu("QueryEngine","Using full collection scan to execute query:",tl(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ju.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),pp=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Ic(Mu),this.Ui=new ql((function(e){return Lc(e)}),Fc),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return g(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function vp(e,t,n,r){return new pp(e,t,n,r)}function mp(e,t){return yp.apply(this,arguments)}function yp(){return yp=Tt(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ef(),s=A(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=A(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=A(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=A(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function gp(e,t){var n=wu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=is.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ku(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ef(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function bp(e){var t=wu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function kp(e,t){var n=wu(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Es.EMPTY_BYTE_STRING,ju.min()).withLastLimboFreeSnapshotVersion(ju.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Kl(),s=ef();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(wp(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(ju.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return is.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function wp(e,t,n){var r=ef(),i=ef();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Kl();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ju.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):vu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function xp(e,t){var n=wu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Sp(e,t){var n=wu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,is.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Id(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function Ip(e,t,n){return Ep.apply(this,arguments)}function Ep(){return Ep=Tt(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wu(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),cs(e.t1)){e.next=12;break}throw e.t1;case 12:vu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ep.apply(this,arguments)}function _p(e,t,n){var r=wu(e),i=ju.min(),a=ef();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=wu(e),i=r.Ui.get(n);return void 0!==i?is.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Yc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:ju.min(),n?a:ef())})).next((function(e){return Ap(r,rl(t),e),{documents:e,Hi:a}}))}))}function Tp(e,t){var n=wu(e),r=wu(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function Cp(e,t){var n=wu(e),r=n.Ki.get(t)||ju.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Yu(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ap(n,t,e),e}))}function Ap(e,t,n){var r=e.Ki.get(t)||ju.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Rp(e,t,n,r){return Np.apply(this,arguments)}function Np(){return Np=Tt(Et().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=wu(t),o=ef(),u=Kl(),s=A(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(d=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Sp(a,function(e){return Yc(Wc(zu.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return wp(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}function Pp(e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=Tt(Et().mark((function e(t,n){var r,i,a,o=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ef(),e.next=3,Sp(t,Yc(Dd(n.bundledQuery)));case 3:return i=e.sent,a=wu(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=kf(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Es.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Dp.apply(this,arguments)}function Op(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Mp(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Lp(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Fp=function(){function e(t,n,r,i){p(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Su(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(mu("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Vp=function(){function e(t,n,r){p(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Su(i.error.code,i.error.message))),a?new e(t,i.state,r):(mu("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),jp=function(){function e(t,n){p(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=nf(),o=0;i&&o<r.activeTargetIds.length;++o)i=Is(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(mu("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Up=function(){function e(t,n){p(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(mu("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),zp=function(){function e(){p(this,e),this.activeTargetIds=nf()}return g(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Bp=function(){function e(t,n,r,i,a){p(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ic(Mu),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Op(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new zp),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return g(e,[{key:"start",value:function(){var e=Tt(Et().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=A(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Op(this.persistenceKey,i)))&&(o=jp.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=A(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(h){c.e(h)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Lp(this.persistenceKey,e));if(n){var r=Vp.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Lp(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return vu("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){vu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){vu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(vu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void mu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Tt(Et().mark((function e(){var r,i,a,o,u,s,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=ms.at;if(null!=e)try{var n=JSON.parse(e);ku("number"==typeof n),t=n}catch(e){mu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ms.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Fp(this.currentUser,e,t,n),i=Mp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Mp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Lp(this.persistenceKey,e),i=new Vp(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return jp.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Fp.Zi(new fu(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Vp.Zi(r,t)}},{key:"yr",value:function(e){return Up.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:vu("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=nf();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),qp=function(){function e(){p(this,e),this.Lr=new zp,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new zp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Wp=function(){function e(){p(this,e)}return g(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Kp=function(){function e(){var t=this;p(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return g(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){vu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=A(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){vu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=A(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Hp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Gp=function(){function e(t){p(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return g(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Qp=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return g(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new cu;o.setWithCredentials(!0),o.listenOnce(iu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ru.NO_ERROR:var t=o.getResponseJson();vu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ru.TIMEOUT:vu("Connection",'RPC "'+e+'" timed out'),a(new Su(xu.DEADLINE_EXCEEDED,"Request time out"));break;case ru.HTTP_ERROR:var n=o.getStatus();if(vu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(xu).indexOf(t)>=0?t:xu.UNKNOWN}(u.status);a(new Su(s,u.message))}else a(new Su(xu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Su(xu.UNAVAILABLE,"Connection failed."));break;default:bu()}}finally{vu("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=tu(),a=nu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new uu({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");vu("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Gp({Hr:function(e){l?vu("Connection","Not sending because WebChannel is closed:",e):(c||(vu("Connection","Opening WebChannel transport."),s.open(),c=!0),vu("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,su.EventType.OPEN,(function(){l||vu("Connection","WebChannel transport opened.")})),d(s,su.EventType.CLOSE,(function(){l||(l=!0,vu("Connection","WebChannel transport closed"),f.io())})),d(s,su.EventType.ERROR,(function(e){l||(l=!0,yu("Connection","WebChannel transport errored:",e),f.io(new Su(xu.UNAVAILABLE,"The operation could not be completed")))})),d(s,su.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ku(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){vu("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ll[e];if(void 0!==t)return Bl(t)}(a),u=i.message;void 0===o&&(o=xu.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Su(o,u)),s.close()}else vu("Connection","WebChannel received:",n),f.ro(n)}})),d(a,au.STAT_EVENT,(function(e){e.stat===ou.PROXY?vu("Connection","Detected buffering proxy"):e.stat===ou.NOPROXY&&vu("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);vu("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return vu("RestConnection","Received: ",e),e}),(function(t){throw yu("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+du,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Hp[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function $p(){return"undefined"!=typeof window?window:null}function Yp(){return"undefined"!=typeof document?document:null}function Xp(e){return new mf(e,!0)}var Jp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&vu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Zp=function(){function e(t,n,r,i,a,o,u,s){p(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Jp(t,n)}return g(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===xu.RESOURCE_EXHAUSTED?(mu(n.toString()),mu("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===xu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Su(xu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Tt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return vu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(vu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ev=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return g(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(ku(void 0===t||"string"==typeof t),Es.fromBase64String(t||"")):(ku(void 0===t||t instanceof Uint8Array),Es.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?xu.UNKNOWN:Bl(e.code);return new Su(t,e.message||"")}(o);n=new sf(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=If(e,s.document.name),l=kf(s.document.updateTime),f=s.document.createTime?kf(s.document.createTime):ju.min(),d=new Nc({mapValue:{fields:s.document.fields}}),h=Dc.newFoundDocument(c,l,f,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new of(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=If(e,m.document),g=m.readTime?kf(m.readTime):ju.min(),b=Dc.newNoDocument(y,g),k=m.removedTargetIds||[];n=new of([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=If(e,w.document),S=w.removedTargetIds||[];n=new of([],S,x,null)}else{if(!("filter"in t))return bu();t.filter;var I=t.filter;I.targetId;var E=I.count||0,_=new Ul(E),T=I.targetId;n=new uf(T,_)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return ju.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ju.min():t.readTime?kf(t.readTime):ju.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Tf(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Vc(r)?{documents:Of(e,r)}:{query:Mf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=gf(e,t.resumeToken):t.snapshotVersion.compareTo(ju.min())>0&&(n.readTime=yf(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Tf(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(Zp),tv=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return g(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,ir(w(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ku(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(ku(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?kf(e.updateTime):kf(t);return n.isEqual(ju.min())&&(n=kf(t)),new xl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=kf(e.commitTime);return this.listener.Zo(n,t)}return ku(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Tf(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Pf(t.yt,e)}))};this.Bo(n)}}]),n}(Zp),nv=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return g(n,[{key:"su",value:function(){if(this.nu)throw new Su(xu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===xu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Su(xu.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=f(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===xu.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Su(xu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return g((function e(){p(this,e)}))}());var rv=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return g(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(mu(t),this.ou=!1):vu("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),iv=g((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=vv(o),!e.t0){e.next=5;break}return vu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=wu(t))._u.add(4),e.next=4,uv(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,av(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new rv(r,i)}));function av(e){return ov.apply(this,arguments)}function ov(){return ov=Tt(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!vv(t)){e.next=18;break}n=A(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ov.apply(this,arguments)}function uv(e){return sv.apply(this,arguments)}function sv(){return sv=Tt(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=A(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),sv.apply(this,arguments)}function cv(e,t){var n=wu(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),pv(n)?hv(n):Wv(n).ko()&&fv(n,t))}function lv(e,t){var n=wu(e),r=Wv(n);n.du.delete(t),r.ko()&&dv(n,t),0===n.du.size&&(r.ko()?r.Fo():vv(n)&&n.gu.set("Unknown"))}function fv(e,t){e.yu.Ot(t.targetId),Wv(e).zo(t)}function dv(e,t){e.yu.Ot(t),Wv(e).Ho(t)}function hv(e){e.yu=new lf({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),Wv(e).start(),e.gu.uu()}function pv(e){return vv(e)&&!Wv(e).No()&&e.du.size>0}function vv(e){return 0===wu(e)._u.size}function mv(e){e.yu=void 0}function yv(e){return gv.apply(this,arguments)}function gv(){return gv=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){fv(t,e)}));case 1:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function bv(e,t){return kv.apply(this,arguments)}function kv(){return kv=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mv(t),pv(t)?(t.gu.hu(n),hv(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function wv(e,t,n){return xv.apply(this,arguments)}function xv(){return xv=Tt(Et().mark((function e(t,n,r){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof sf&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Tt(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=A(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),vu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Sv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof of?t.yu.Kt(n):n instanceof uf?t.yu.Jt(n):t.yu.jt(n),r.isEqual(ju.min())){e.next=29;break}return e.prev=14,e.next=17,bp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Es.EMPTY_BYTE_STRING,n.snapshotVersion)),dv(e,t);var r=new Id(n.target,t,1,n.sequenceNumber);fv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),vu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Sv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),xv.apply(this,arguments)}function Sv(e,t,n){return Iv.apply(this,arguments)}function Iv(){return Iv=Tt(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cs(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,uv(t);case 5:t.gu.set("Offline"),r||(r=function(){return bp(t.localStore)}),t.asyncQueue.enqueueRetryable(Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,av(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Iv.apply(this,arguments)}function Ev(e,t){return t().catch((function(n){return Sv(e,n,t)}))}function _v(e){return Tv.apply(this,arguments)}function Tv(){return Tv=Tt(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wu(t),r=Kv(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Cv(n)){e.next=19;break}return e.prev=3,e.next=6,xp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Av(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Sv(n,e.t0);case 17:e.next=2;break;case 19:Rv(n)&&Nv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Tv.apply(this,arguments)}function Cv(e){return vv(e)&&e.fu.length<10}function Av(e,t){e.fu.push(t);var n=Kv(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Rv(e){return vv(e)&&!Kv(e).No()&&e.fu.length>0}function Nv(e){Kv(e).start()}function Pv(e){return Dv.apply(this,arguments)}function Dv(){return Dv=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kv(t).eu();case 1:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}function Ov(e){return Mv.apply(this,arguments)}function Mv(){return Mv=Tt(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Kv(t),r=A(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Mv.apply(this,arguments)}function Lv(e,t,n){return Fv.apply(this,arguments)}function Fv(){return Fv=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=xd.from(i,n,r),e.next=3,Ev(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,_v(t);case 5:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Vv(e,t){return jv.apply(this,arguments)}function jv(){return jv=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Kv(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Tt(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zl(i=n.code)||i===xu.ABORTED){e.next=7;break}return r=t.fu.shift(),Kv(t).Mo(),e.next=5,Ev(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,_v(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Rv(t)&&Nv(t);case 5:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Uv(e,t){return zv.apply(this,arguments)}function zv(){return zv=Tt(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=wu(t)).asyncQueue.verifyOperationInProgress(),vu("RemoteStore","RemoteStore received new credentials"),i=vv(r),r._u.add(3),e.next=6,uv(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,av(r);case 12:case"end":return e.stop()}}),e)}))),zv.apply(this,arguments)}function Bv(e,t){return qv.apply(this,arguments)}function qv(){return qv=Tt(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wu(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,av(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,uv(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}function Wv(e){return e.pu||(e.pu=function(e,t,n){var r=wu(e);return r.su(),new ev(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:yv.bind(null,e),Zr:bv.bind(null,e),Wo:wv.bind(null,e)}),e.wu.push(function(){var t=Tt(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),pv(e)?hv(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:mv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Kv(e){return e.Iu||(e.Iu=function(e,t,n){var r=wu(e);return r.su(),new tv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Pv.bind(null,e),Zr:Vv.bind(null,e),tu:Ov.bind(null,e),Zo:Lv.bind(null,e)}),e.wu.push(function(){var t=Tt(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,_v(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(vu("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Hv=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Iu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Su(xu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Gv(e,t){if(mu("AsyncQueue","".concat(t,": ").concat(e)),cs(e))return new Su(xu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Qv=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||Wu.comparator(e.key,n.key)}:function(e,t){return Wu.comparator(e.key,t.key)},this.keyedMap=Gl(),this.sortedSet=new Ic(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),$v=function(){function e(){p(this,e),this.Tu=new Ic(Wu.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):bu():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Yv=function(){function e(t,n,r,i,a,o,u,s,c){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Qv.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Xv=g((function e(){p(this,e),this.Au=void 0,this.listeners=[]})),Jv=g((function e(){p(this,e),this.queries=new ql((function(e){return el(e)}),Zc),this.onlineState="Unknown",this.Ru=new Set}));function Zv(e,t){return em.apply(this,arguments)}function em(){return em=Tt(Et().mark((function e(t,n){var r,i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Xv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Gv(e.t0,"Initialization of query '".concat(tl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&am(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),em.apply(this,arguments)}function tm(e,t){return nm.apply(this,arguments)}function nm(){return nm=Tt(Et().mark((function e(t,n){var r,i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),nm.apply(this,arguments)}function rm(e,t){var n,r=wu(e),i=!1,a=A(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=A(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&am(r)}function im(e,t,n){var r=wu(e),i=r.queries.get(t);if(i){var a,o=A(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function am(e){e.Ru.forEach((function(e){e.next()}))}var om=function(){function e(t,n,r){p(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=A(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Yv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Yv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),um=function(){function e(t,n){p(this,e),this.ku=t,this.byteLength=n}return g(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),sm=function(){function e(t){p(this,e),this.yt=t}return g(e,[{key:"Ji",value:function(e){return If(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Rf(this.yt,e.document,!1):Dc.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return kf(e)}}]),e}(),cm=function(){function e(t,n,r){p(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lm(t)}return g(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=zu.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new sm(this.yt),i=A(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=A(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||ef()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Tt(Et().mark((function e(){var t,n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rp(this.localStore,new sm(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=A(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Pp(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function lm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var fm=g((function e(t){p(this,e),this.key=t})),dm=g((function e(t){p(this,e),this.key=t})),hm=function(){function e(t,n){p(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ef(),this.mutatedKeys=ef(),this.Gu=il(t),this.Qu=new Qv(this.Gu)}return g(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new $v,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=nl(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bu()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new Yv(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new $v,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=ef(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new dm(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new fm(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=ef();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Yv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),pm=g((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),vm=g((function e(t){p(this,e),this.key=t,this.nc=!1})),mm=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ql((function(e){return el(e)}),Zc),this.rc=new Map,this.oc=new Set,this.uc=new Ic(Wu.comparator),this.cc=new Map,this.ac=new Yh,this.hc={},this.lc=new Map,this.fc=_h.vn(),this.onlineState="Unknown",this.dc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function ym(e,t){return gm.apply(this,arguments)}function gm(){return gm=Tt(Et().mark((function e(t,n){var r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ly(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Sp(r.localStore,Yc(n));case 8:return u=e.sent,r.isPrimaryClient&&cv(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,bm(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}function bm(e,t,n,r,i){return km.apply(this,arguments)}function km(){return km=Tt(Et().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Tt(Et().mark((function e(t,n,r,i){var a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,_p(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Um(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,_p(t.localStore,n,!0);case 3:return o=e.sent,u=new hm(n,o.Hi),s=u.Wu(o.documents),c=af.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Um(t,r,l.Xu),f=new pm(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function wm(e,t){return xm.apply(this,arguments)}function xm(){return xm=Tt(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wu(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Zc(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ip(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),lv(r.remoteStore,i.targetId),Vm(r,i.targetId)})).catch(ns);case 9:e.next=14;break;case 11:return Vm(r,i.targetId),e.next=14,Ip(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function Sm(e,t,n){return Im.apply(this,arguments)}function Im(){return Im=Tt(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fy(t),e.prev=1,e.next=4,function(e,t){var n,r,i=wu(e),a=Vu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ef());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Kl(),s=ef();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=A(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Al(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Pl(c.key,l,Pc(l.value.mapValue),Sl.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Ql(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Ic(Mu)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,qm(i,a.changes);case 9:return e.next=11,_v(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Gv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Im.apply(this,arguments)}function Em(e,t){return _m.apply(this,arguments)}function _m(){return _m=Tt(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wu(t),e.prev=1,e.next=4,kp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(ku(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?ku(n.nc):e.removedDocuments.size>0&&(ku(n.nc),n.nc=!1))})),e.next=8,qm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ns(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),_m.apply(this,arguments)}function Tm(e,t,n){var r=wu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=wu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=A(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&am(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Cm(e,t,n){return Am.apply(this,arguments)}function Am(){return Am=Tt(Et().mark((function e(t,n,r){var i,a,o,u,s,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=wu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ic(Wu.comparator)).insert(o,Dc.newNoDocument(o,ju.min())),s=ef().add(o),c=new rf(ju.min(),new Map,new Tc(Mu),u,s),e.next=9,Em(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),Bm(i),e.next=16;break;case 14:return e.next=16,Ip(i.localStore,n,!1).then((function(){return Vm(i,n,r)})).catch(ns);case 16:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Rm(e,t){return Nm.apply(this,arguments)}function Nm(){return Nm=Tt(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wu(t),i=n.batch.batchId,e.prev=1,e.next=4,gp(r.localStore,n);case 4:return a=e.sent,Fm(r,i,null),Lm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,qm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ns(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Nm.apply(this,arguments)}function Pm(e,t,n){return Dm.apply(this,arguments)}function Dm(){return Dm=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wu(t),e.prev=1,e.next=4,function(e,t){var n=wu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ku(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Fm(i,n,r),Lm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,qm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ns(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Dm.apply(this,arguments)}function Om(e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=Tt(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vv((r=wu(t)).remoteStore)||vu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=wu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Gv(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Mm.apply(this,arguments)}function Lm(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function Fm(e,t,n){var r=wu(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Vm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=A(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||jm(e,t)}))}function jm(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(lv(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Bm(e))}function Um(e,t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof fm?(e.ac.addReference(a.key,t),zm(e,a)):a instanceof dm?(vu("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||jm(e,a.key)):bu()}}catch(o){i.e(o)}finally{i.f()}}function zm(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(vu("SyncEngine","New document in limbo: "+n),e.oc.add(r),Bm(e))}function Bm(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Wu(zu.fromString(t)),r=e.fc.next();e.cc.set(r,new vm(n)),e.uc=e.uc.insert(n,r),cv(e.remoteStore,new Id(Yc(Wc(n.path)),r,2,ms.at))}}function qm(e,t,n){return Wm.apply(this,arguments)}function Wm(){return Wm=Tt(Et().mark((function e(t,n,r){var i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wu(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=dp.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Tt(Et().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return is.forEach(n,(function(t){return is.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return is.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),cs(e.t0)){e.next=10;break}throw e.t0;case 10:vu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=A(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}function Km(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=Tt(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=wu(t)).currentUser.isEqual(n)){e.next=11;break}return vu("SyncEngine","User change. New user:",n.toKey()),e.next=5,mp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Su(xu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,qm(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function Gm(e,t){var n=wu(e),r=n.cc.get(t);if(r&&r.nc)return ef().add(r.key);var i=ef(),a=n.rc.get(t);if(!a)return i;var o,u=A(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Qm(e,t){return $m.apply(this,arguments)}function $m(){return $m=Tt(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wu(t),e.next=3,_p(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&Um(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),$m.apply(this,arguments)}function Ym(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=Tt(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wu(t),e.abrupt("return",Cp(r.localStore,n).then((function(e){return qm(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Jm(e,t,n,r){return Zm.apply(this,arguments)}function Zm(){return Zm=Tt(Et().mark((function e(t,n,r,i){var a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wu(t),e.next=3,function(e,t){var n=wu(e),r=wu(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):is.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,_v(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Fm(a,n,i||null),Lm(a,n),function(e,t){wu(wu(e).mutationQueue).An(t)}(a.localStore,n)):bu();case 11:return e.next=13,qm(a,o);case 13:e.next=16;break;case 15:vu("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=Tt(Et().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ly(r=wu(t)),fy(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,ny(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Bv(r.remoteStore,!0);case 9:o=A(a);try{for(o.s();!(u=o.n()).done;)s=u.value,cv(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Vm(r,t),Ip(r.localStore,t,!0)})),lv(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,ny(r,c);case 21:return function(e){var t=wu(e);t.cc.forEach((function(e,n){lv(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Ic(Wu.comparator)}(r),r.dc=!1,e.next=25,Bv(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t,n){return ry.apply(this,arguments)}function ry(){return ry=Tt(Et().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=wu(t),a=[],o=[],u=A(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Sp(i.localStore,Yc(f[0]));case 11:l=e.sent,d=A(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.ic.get(p),e.next=20,Qm(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Tp(i.localStore,c);case 36:return y=e.sent,e.next=39,Sp(i.localStore,y);case 39:return l=e.sent,e.next=42,bm(i,iy(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ry.apply(this,arguments)}function iy(e){return qc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ay(e){var t=wu(e);return wu(wu(t.localStore).persistence).vi()}function oy(e,t,n,r){return uy.apply(this,arguments)}function uy(){return uy=Tt(Et().mark((function e(t,n,r,i){var a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=wu(t)).dc){e.next=3;break}return e.abrupt("return",void vu("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Cp(a.localStore,rl(o[0]));case 10:return u=e.sent,s=rf.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Es.EMPTY_BYTE_STRING),e.next=14,qm(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ip(a.localStore,n,!0);case 17:return Vm(a,n,i),e.abrupt("break",20);case 19:bu();case 20:case"end":return e.stop()}}),e)}))),uy.apply(this,arguments)}function sy(e,t,n){return cy.apply(this,arguments)}function cy(){return cy=Tt(Et().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ly(t)).dc){e.next=45;break}a=A(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return vu("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Tp(i.localStore,u);case 12:return s=e.sent,e.next=15,Sp(i.localStore,s);case 15:return c=e.sent,e.next=18,bm(i,iy(s),c.targetId,!1,c.resumeToken);case 18:cv(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=A(r),e.prev=30,d=Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Ip(i.localStore,t,!1).then((function(){lv(i.remoteStore,t),Vm(i,t)})).catch(ns);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),cy.apply(this,arguments)}function ly(e){var t=wu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Em.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Cm.bind(null,t),t.sc.Wo=rm.bind(null,t.eventManager),t.sc.wc=im.bind(null,t.eventManager),t}function fy(e){var t=wu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Pm.bind(null,t),t}function dy(e,t,n){var r=wu(e);(function(){var e=Tt(Et().mark((function e(t,n,r){var i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=wu(e),r=kf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(lm(i)),a=new cm(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,qm(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=wu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(yu("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var hy=function(){function e(){p(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=Xp(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return vp(this.persistence,new hp,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new np(ip.Bs,this.yt)}},{key:"gc",value:function(e){return new qp}},{key:"terminate",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),py=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=Tt(Et().mark((function e(t){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(w(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,fy(this.Ac.syncEngine);case 6:return e.next=8,_v(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return vp(this.persistence,new hp,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Dh(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new vs(t,this.persistence);return new ps(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=fp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gh.withCacheSize(this.cacheSizeBytes):gh.DEFAULT;return new sp(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,$p(),Yp(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new qp}}]),n}(hy),vy=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=Tt(Et().mark((function e(t){var r,i=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(w(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Bp,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Jm.bind(null,r),$r:oy.bind(null,r),Br:sy.bind(null,r),vi:ay.bind(null,r),Mr:Ym.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ey(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=$p();if(!Bp.C(t))throw new Su(xu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(py),my=function(){function e(){p(this,e)}return g(e,[{key:"initialize",value:function(){var e=Tt(Et().mark((function e(t,n){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Tm(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Km.bind(null,this.syncEngine),e.next=12,Bv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Jv}},{key:"createDatastore",value:function(e){var t,n=Xp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Qp(t));return function(e,t,n,r){return new nv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Tm(o.syncEngine,e,0)},a=Kp.C()?new Kp:new Wp,new iv(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new mm(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wu(t),vu("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,uv(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function yy(e,t,n){if(!n)throw new Su(xu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gy(e,t,n,r){if(!0===t&&!0===r)throw new Su(xu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function by(e){if(!Wu.isDocumentKey(e))throw new Su(xu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ky(e){if(Wu.isDocumentKey(e))throw new Su(xu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":bu()}function xy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Su(xu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=wy(e);throw new Su(xu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Sy(e,t){if(t<=0)throw new Su(xu.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Iy=new Map,Ey=function(){function e(t){var n;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Su(xu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Su(xu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,gy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),_y=function(){function e(t,n,r,i){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ey({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new Su(xu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Su(xu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ey(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _u;switch(e.type){case"gapi":var t=e.client;return new Ru(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Su(xu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Iy.get(e);t&&(vu("ComponentProvider","Removing Datastore"),Iy.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ty(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=xy(e,_y))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&yu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=fu.MOCK_USER;else{o=it(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Su(xu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new fu(s)}e._authCredentials=new Tu(new Eu(o,u))}}var Cy=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ry(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ay=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ry=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,Wc(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Cy(this.firestore,null,new Wu(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ay);function Ny(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=It(e),yy("collection","path",t),e instanceof _y){var a=zu.fromString.apply(zu,[t].concat(r));return ky(a),new Ry(e,null,a)}if(!(e instanceof Cy||e instanceof Ry))throw new Su(xu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zu.fromString.apply(zu,[t].concat(r)));return ky(o),new Ry(e.firestore,null,o)}function Py(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=It(e),1===arguments.length&&(t=Ou.R()),yy("doc","path",t),e instanceof _y){var a=zu.fromString.apply(zu,[t].concat(r));return by(a),new Cy(e,null,new Wu(a))}if(!(e instanceof Cy||e instanceof Ry))throw new Su(xu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zu.fromString.apply(zu,[t].concat(r)));return by(o),new Cy(e.firestore,e instanceof Ry?e.converter:null,new Wu(o))}function Dy(e,t){return e=It(e),t=It(t),(e instanceof Cy||e instanceof Ry)&&(t instanceof Cy||t instanceof Ry)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Oy(e,t){return e=It(e),t=It(t),e instanceof Ay&&t instanceof Ay&&e.firestore===t.firestore&&Zc(e._query,t._query)&&e.converter===t.converter}function My(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Tt(Et().mark((function r(){var i;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ly=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):mu("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Fy=function(){function e(t,n){var r=this;p(this,e),this.Pc=t,this.yt=n,this.metadata=new Iu,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Tt(Et().mark((function e(){var t,n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new um(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Tt(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Tt(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vy=function(){function e(t){p(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=Tt(Et().mark((function e(t){var n,r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Su(xu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Tt(Et().mark((function e(t,n){var r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wu(t),i=Tf(r.yt)+"/documents",a={documents:n.map((function(e){return Sf(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Nf(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ku(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Vl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Tt(Et().mark((function e(){var t,n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wu.fromPath(t);n.mutations.push(new jl(r,n.precondition(r)))})),e.next=7,function(){var e=Tt(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wu(t),i=Tf(r.yt)+"/documents",a={writes:n.map((function(e){return Pf(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bu();t=ju.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Su(xu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ju.min())?Sl.exists(!1):Sl.updateTime(t):Sl.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ju.min()))throw new Su(xu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sl.updateTime(t)}return Sl.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),jy=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Jp(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Tt(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Vy(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!xs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!zl(t)}return!1}}]),e}(),Uy=function(){function e(t,n,r,i){var a=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fu.UNAUTHENTICATED,this.clientId=Ou.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return vu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Su(xu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Iu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Tt(Et().mark((function n(){var r;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Gv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function zy(e,t){return By.apply(this,arguments)}function By(){return By=Tt(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),vu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,mp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}function qy(e,t){return Wy.apply(this,arguments)}function Wy(){return Wy=Tt(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ky(t);case 3:return r=e.sent,vu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Uv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Uv(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Wy.apply(this,arguments)}function Ky(e){return Hy.apply(this,arguments)}function Hy(){return Hy=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return vu("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,zy(t,new hy);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Gy(e){return Qy.apply(this,arguments)}function Qy(){return Qy=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return vu("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,qy(t,new my);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function $y(e){return Ky(e).then((function(e){return e.persistence}))}function Yy(e){return Ky(e).then((function(e){return e.localStore}))}function Xy(e){return Gy(e).then((function(e){return e.remoteStore}))}function Jy(e){return Gy(e).then((function(e){return e.syncEngine}))}function Zy(e){return Gy(e).then((function(e){return e.datastore}))}function eg(e){return tg.apply(this,arguments)}function tg(){return tg=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ym.bind(null,n.syncEngine),r.onUnlisten=wm.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Iu;return e.asyncQueue.enqueueAndForget(Tt(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ly({next:function(a){t.enqueueAndForget((function(){return tm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Su(xu.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Su(xu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new om(Wc(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Zv(e,o)},i.next=3,eg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function rg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Iu;return e.asyncQueue.enqueueAndForget(Tt(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ly({next:function(n){t.enqueueAndForget((function(){return tm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Su(xu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new om(n,a,{includeMetadataChanges:!0,Nu:!0});return Zv(e,o)},i.next=3,eg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ig=function(){function e(){var t=this;p(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Jp(this,"async_queue_retry"),this.Wc=function(){var e=Yp();e&&vu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Yp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return g(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=Yp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Iu;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Tt(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),cs(e.t0)){e.next=12;break}throw e.t0;case 12:vu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw mu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=Hv.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&bu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=A(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=A(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function ag(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=A(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var og=function(){function e(){p(this,e),this._progressObserver={},this._taskCompletionResolver=new Iu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ug=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new ig,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||cg(this),this._firestoreClient.terminate()}}]),n}(_y);function sg(e){return e._firestoreClient||cg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cg(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ys(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Uy(e._authCredentials,e._appCheckCredentials,e._queue,r)}function lg(e,t,n){var r=new Iu;return e.asyncQueue.enqueue(Tt(Et().mark((function i(){var a;return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,zy(e,n);case 3:return i.next=5,qy(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===xu.FAILED_PRECONDITION||e.code===xu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:yu("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function fg(e){return function(e){return e.asyncQueue.enqueue(Tt(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$y(e);case 2:return n=t.sent,t.next=5,Xy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=wu(e);return t._u.delete(0),av(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sg(e=xy(e,ug)))}function dg(e){return function(e){return e.asyncQueue.enqueue(Tt(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$y(e);case 2:return n=t.sent,t.next=5,Xy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=wu(t))._u.add(0),e.next=4,uv(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sg(e=xy(e,ug)))}function hg(e,t){var n=sg(e=xy(e,ug)),r=new og;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Fy(e,t)}(function(e,t){if(e instanceof Uint8Array)return My(e,t);if(e instanceof ArrayBuffer)return My(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Xp(t));e.asyncQueue.enqueueAndForget(Tt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dy,t.next=3,Jy(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function pg(e,t){return function(e,t){return e.asyncQueue.enqueue(Tt(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=wu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,Yy(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sg(e=xy(e,ug)),t).then((function(t){return t?new Ay(e,null,t.query):null}))}function vg(e){if(e._initialized||e._terminated)throw new Su(xu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mg=function(){function e(t){p(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Es.fromBase64String(t))}catch(t){throw new Su(xu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Es.fromUint8Array(t))}}]),e}(),yg=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Su(xu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qu(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var gg=g((function e(t){p(this,e),this._methodName=t})),bg=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new Su(xu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Su(xu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Mu(this._lat,e._lat)||Mu(this._long,e._long)}}]),e}(),kg=/^__.*__$/,wg=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nl(e,this.data,t,this.fieldTransforms)}}]),e}(),xg=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Sg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bu()}}var Ig=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return Wg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Sg(this.sa)&&kg.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),Eg=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||Xp(t)}return g(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ig({sa:e,methodName:t,fa:n,path:qu.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function _g(e){var t=e._freezeSettings(),n=Xp(e._databaseId);return new Eg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tg(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);Ug("Data must be an object, but it was:",o,r);var u,s,c=Vg(r,o);if(a.merge)u=new Rc(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=A(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=zg(t,h,n);if(!o.contains(p))throw new Su(xu.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Kg(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new Rc(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new wg(new Nc(c),u,s)}var Cg=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gg);function Ag(e,t,n){return new Ig({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var Rg=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new wl(e.path,new hl)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gg),Ng=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e))._a=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=Ag(this,e,!0),n=this._a.map((function(e){return Fg(e,t)})),r=new pl(n);return new wl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gg),Pg=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e))._a=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=Ag(this,e,!0),n=this._a.map((function(e){return Fg(e,t)})),r=new ml(n);return new wl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gg),Dg=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).wa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new gl(e.yt,sl(e.yt,this.wa));return new wl(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gg);function Og(e,t,n,r){var i=e.da(1,t,n);Ug("Data must be an object, but it was:",i,r);var a=[],o=Nc.empty();ks(r,(function(e,r){var u=qg(t,e,n);r=It(r);var s=i.ca(u);if(r instanceof Cg)a.push(u);else{var c=Fg(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Rc(a);return new xg(o,u,i.fieldTransforms)}function Mg(e,t,n,r,i,a){var o=e.da(1,t,n),u=[zg(t,r,n)],s=[i];if(a.length%2!=0)throw new Su(xu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(zg(t,a[c])),s.push(a[c+1]);for(var l=[],f=Nc.empty(),d=u.length-1;d>=0;--d)if(!Kg(l,u[d])){var h=u[d],p=s[d];p=It(p);var v=o.ca(h);if(p instanceof Cg)l.push(h);else{var m=Fg(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new Rc(l);return new xg(f,y,o.fieldTransforms)}function Lg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fg(n,e.da(r?4:3,t))}function Fg(e,t){if(jg(e=It(e)))return Ug("Unsupported field value:",t,e),Vg(e,t);if(e instanceof gg)return function(e,t){if(!Sg(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=A(e);try{for(a.s();!(n=a.n()).done;){var o=Fg(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=It(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sl(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vu.fromDate(e);return{timestampValue:yf(t.yt,n)}}if(e instanceof Vu){var r=new Vu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yf(t.yt,r)}}if(e instanceof bg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mg)return{bytesValue:gf(t.yt,e._byteString)};if(e instanceof Cy){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:wf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(wy(e)))}(e,t)}function Vg(e,t){var n={};return ws(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ks(e,(function(e,r){var i=Fg(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vu||e instanceof bg||e instanceof mg||e instanceof Cy||e instanceof gg)}function Ug(e,t,n){if(!jg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=wy(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function zg(e,t,n){if((t=It(t))instanceof yg)return t._internalPath;if("string"==typeof t)return qg(e,t);throw Wg("Field path arguments must be of type string or ",e,!1,void 0,n)}var Bg=new RegExp("[~\\*/\\[\\]]");function qg(e,t,n){if(t.search(Bg)>=0)throw Wg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _(yg,h(t.split(".")))._internalPath}catch(r){throw Wg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Wg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Su(xu.INVALID_ARGUMENT,u+e+s)}function Kg(e,t){return e.some((function(e){return e.isEqual(t)}))}var Hg=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Cy(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Gg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Qg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Gg=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return ir(w(n.prototype),"data",this).call(this)}}]),n}(Hg);function Qg(e,t){return"string"==typeof t?qg(e,t):t instanceof yg?t._internalPath:t._delegate._internalPath}function $g(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Su(xu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yg=g((function e(){p(this,e)})),Xg=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(Yg);function Jg(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Yg&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof eb})).length,n=e.filter((function(e){return e instanceof Zg})).length;if(t>1||t>0&&n>0)throw new Su(xu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=A(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var Zg=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return db(e._query,t),new Ay(e.firestore,e.converter,Xc(e._query,t))}},{key:"_parse",value:function(e){var t=_g(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Su(xu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){fb(o,a);var s,c=[],l=A(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(lb(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=lb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||fb(o,a),u=Lg(n,"where",o,"in"===a||"not-in"===a);return ic.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Xg);var eb=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:ac.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=A(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;db(r,a),r=Xc(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Ay(e.firestore,e.converter,Xc(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Yg);var tb=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Su(xu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Su(xu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xc(t,n);return function(e,t){if(null===Hc(e)){var n=Gc(e);null!==n&&hb(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Ay(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Bc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Xg);var nb=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new Ay(e.firestore,e.converter,Jc(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Xg);var rb=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=cb(e,this.type,this._docOrFields,this._inclusive);return new Ay(e.firestore,e.converter,function(e,t){return new Bc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Xg);function ib(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rb._create("startAt",t,!0)}function ab(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rb._create("startAfter",t,!1)}var ob=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=cb(e,this.type,this._docOrFields,this._inclusive);return new Ay(e.firestore,e.converter,function(e,t){return new Bc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Xg);function ub(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ob._create("endBefore",t,!1)}function sb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ob._create("endAt",t,!0)}function cb(e,t,n,r){if(n[0]=It(n[0]),n[0]instanceof Hg)return function(e,t,n,r,i){if(!r)throw new Su(xu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=A($c(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Bs(t,r.key));else{var c=r.data.field(s.field);if(Rs(c))throw new Su(xu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Su(xu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ec(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=_g(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Su(xu.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Su(xu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Qc(e)&&-1!==c.indexOf("/"))throw new Su(xu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(zu.fromString(c));if(!Wu.isDocumentKey(l))throw new Su(xu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wu(l);u.push(Bs(t,f))}else{var d=Lg(n,r,c);u.push(d)}}return new ec(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function lb(e,t,n){if("string"==typeof(n=It(n))){if(""===n)throw new Su(xu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qc(t)&&-1!==n.indexOf("/"))throw new Su(xu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(zu.fromString(n));if(!Wu.isDocumentKey(r))throw new Su(xu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Bs(e,new Wu(r))}if(n instanceof Cy)return Bs(e,n._key);throw new Su(xu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(wy(n),"."))}function fb(e,t){if(!Array.isArray(e)||0===e.length)throw new Su(xu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Su(xu.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function db(e,t){if(t.isInequality()){var n=Gc(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Su(xu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Hc(e);null!==i&&hb(e,r,i)}var a=function(e,t){var n,r=A(e);try{for(r.s();!(n=r.n()).done;){var i,a=A(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Su(xu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Su(xu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function hb(e,t,n){if(!n.isEqual(t))throw new Su(xu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var pb=function(){function e(){p(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bu()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ks(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new bg(Cs(e.latitude),Cs(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ns(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ps(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ts(e);return new Vu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=zu.fromString(e);ku(Kf(n));var r=new gs(n.get(1),n.get(3)),i=new Wu(n.popFirst(5));return r.isEqual(t)||mu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function vb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var mb=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new mg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cy(this.firestore,null,t)}}]),n}(pb),yb=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),gb=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return g(n,[{key:"exists",value:function(){return ir(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Qg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Hg),bb=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ir(w(n.prototype),"data",this).call(this,e)}}]),n}(gb),kb=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new yb(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new bb(n._firestore,n._userDataWriter,r.key,r,new yb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Su(xu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new bb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new bb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:wb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function wb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bu()}}function xb(e,t){return e instanceof gb&&t instanceof gb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof kb&&t instanceof kb&&e._firestore===t._firestore&&Oy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Sb=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new mg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cy(this.firestore,null,t)}}]),n}(pb);function Ib(e){e=xy(e,Cy);var t=xy(e.firestore,ug),n=sg(t),r=new Sb(t);return function(e,t){var n=new Iu;return e.asyncQueue.enqueueAndForget(Tt(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=wu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Su(xu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Gv(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Yy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new gb(t,r,e._key,n,new yb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Eb(e){e=xy(e,Ay);var t=xy(e.firestore,ug),n=sg(t),r=new Sb(t);return function(e,t){var n=new Iu;return e.asyncQueue.enqueueAndForget(Tt(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Tt(Et().mark((function e(t,n,r){var i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_p(t,n,!0);case 3:i=e.sent,a=new hm(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Gv(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Yy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new kb(t,r,e,n)}))}function _b(e,t,n){e=xy(e,Cy);var r=xy(e.firestore,ug),i=vb(e.converter,t,n);return Rb(r,[Tg(_g(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Sl.none())])}function Tb(e,t,n){e=xy(e,Cy);for(var r=xy(e.firestore,ug),i=_g(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Rb(r,[("string"==typeof(t=It(t))||t instanceof yg?Mg(i,"updateDoc",e._key,t,n,o):Og(i,"updateDoc",e._key,t)).toMutation(e._key,Sl.exists(!0))])}function Cb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=It(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||ag(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(ag(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof Cy)l=xy(e.firestore,ug),f=Wc(e._key.path),c={next:function(t){n[s]&&n[s](Nb(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=xy(e,Ay);l=xy(p.firestore,ug),f=p._query;var v=new Sb(l);c={next:function(e){n[s]&&n[s](new kb(l,v,p,e))},error:n[s+1],complete:n[s+2]},$g(e._query)}return function(e,t,n,r){var i=new Ly(r),a=new om(t,i,n);return e.asyncQueue.enqueueAndForget(Tt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zv,t.next=3,eg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Tt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tm,t.next=3,eg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sg(l),f,d,c)}function Ab(e,t){return function(e,t){var n=new Ly(t);return e.asyncQueue.enqueueAndForget(Tt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){wu(e).Ru.add(t),t.next()},t.next=3,eg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Tt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){wu(e).Ru.delete(t)},t.next=3,eg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sg(e=xy(e,ug)),ag(t)?t:{next:t})}function Rb(e,t){return function(e,t){var n=new Iu;return e.asyncQueue.enqueueAndForget(Tt(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Sm,r.next=3,Jy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sg(e),t)}function Nb(e,t,n){var r=n.docs.get(t._key),i=new Sb(e);return new gb(e,i,t._key,r,new yb(n.hasPendingWrites,n.fromCache),t.converter)}var Pb={maxAttempts:5},Db=function(){function e(t,n){p(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_g(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Ob(e,this._firestore),i=vb(r.converter,t,n),a=Tg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Sl.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Ob(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=It(t))||t instanceof yg?Mg(this._dataReader,"WriteBatch.update",i._key,t,n,o):Og(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Sl.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Ob(e,this._firestore);return this._mutations=this._mutations.concat(new Vl(t._key,Sl.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Su(xu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Ob(e,t){if((e=It(e)).firestore!==t)throw new Su(xu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Mb=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=Ob(e,this._firestore),i=new Sb(this._firestore);return ir(w(n.prototype),"get",this).call(this,e).then((function(e){return new gb(t._firestore,i,r._key,e._document,new yb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){p(this,e),this._firestore=t,this._transaction=n,this._dataReader=_g(t)}return g(e,[{key:"get",value:function(e){var t=this,n=Ob(e,this._firestore),r=new mb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return bu();var i=e[0];if(i.isFoundDocument())return new Hg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Hg(t._firestore,r,n._key,null,n.converter);throw bu()}))}},{key:"set",value:function(e,t,n){var r=Ob(e,this._firestore),i=vb(r.converter,t,n),a=Tg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Ob(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=It(t))||t instanceof yg?Mg(this._dataReader,"Transaction.update",i._key,t,n,o):Og(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Ob(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Lb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ng("arrayUnion",t)}function Fb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pg("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){du=e}(En),gn(new Ct("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ug(new Cu(e.getProvider("auth-internal")),new Pu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Su(xu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gs(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Nn(lu,"3.8.3",e),Nn(lu,"3.8.3","esm2017")}();function Vb(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Su("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function jb(){if("undefined"===typeof Uint8Array)throw new Su("unimplemented","Uint8Arrays are not available in this environment.")}function Ub(){if("undefined"==typeof atob)throw new Su("unimplemented","Blobs are unavailable in Firestore in this environment.")}var zb=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return Ub(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return jb(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Ub(),new e(mg.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return jb(),new e(mg.fromUint8Array(t))}}]),e}();function Bb(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=A(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var qb=function(){function e(){p(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){vg(e=xy(e,ug));var n=sg(e),r=e._freezeSettings(),i=new my;return lg(n,i,new py(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){vg(e=xy(e,ug));var t=sg(e),n=e._freezeSettings(),r=new my;return lg(t,r,new vy(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Su(xu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Iu;return e._queue.enqueueAndForgetEvenWhileRestricted(Tt(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(os.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,os.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(fp(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Wb=function(){function e(t,n,r){var i=this;p(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof gs||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||yu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ty(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return fg(this._delegate)}},{key:"disableNetwork",value:function(){return dg(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&gy("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Iu;return e.asyncQueue.enqueueAndForget(Tt(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Om,n.next=3,Jy(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sg(e=xy(e,ug)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Ab(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Su("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ik(this,Ny(this._delegate,e))}catch(t){throw Yb(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new $b(this,Py(this._delegate,e))}catch(t){throw Yb(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new tk(this,function(e,t){if(e=xy(e,_y),yy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Su(xu.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ay(e,null,function(e){return new Bc(zu.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Yb(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=xy(e,ug);var r=Object.assign(Object.assign({},Pb),n);return function(e){if(e.maxAttempts<1)throw new Su(xu.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Iu;return e.asyncQueue.enqueueAndForget(Tt(Et().mark((function i(){var a;return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Zy(e);case 2:a=i.sent,new jy(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(sg(e),(function(n){return t(new Mb(e,n))}),r)}(this._delegate,(function(n){return e(new Hb(t,n))}))}},{key:"batch",value:function(){var e=this;return sg(this._delegate),new Gb(new Db(this._delegate,(function(t){return Rb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return hg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return pg(this._delegate,e).then((function(e){return e?new tk(t,e):null}))}}]),e}(),Kb=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new zb(new mg(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return $b.forKey(t,this.firestore,null)}}]),n}(pb);var Hb=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Kb(t)}return g(e,[{key:"get",value:function(e){var t=this,n=ak(e);return this._delegate.get(n).then((function(e){return new Zb(t._firestore,new gb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=ak(e);return n?(Vb("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ak(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ak(e);return this._delegate.delete(t),this}}]),e}(),Gb=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=ak(e);return n?(Vb("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ak(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ak(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Qb=function(){function e(t,n,r){p(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new bb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ek(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Kb(t),n),i.set(n,a)),a}}]),e}();Qb.INSTANCES=new WeakMap;var $b=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Kb(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ik(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ik(this.firestore,Ny(this._delegate,e))}catch(t){throw Yb(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=It(e))instanceof Cy&&Dy(this._delegate,e)}},{key:"set",value:function(e,t){t=Vb("DocumentReference.set",t);try{return t?_b(this._delegate,e,t):_b(this._delegate,e)}catch(n){throw Yb(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Tb(this._delegate,e):Tb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Yb(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Rb(xy(e.firestore,ug),[new Vl(e._key,Sl.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Xb(n),a=Jb(n,(function(t){return new Zb(e.firestore,new gb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Cb(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ib(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xy(e,Cy);var t=xy(e.firestore,ug);return ng(sg(t),e._key,{source:"server"}).then((function(n){return Nb(t,e,n)}))}(this._delegate):function(e){e=xy(e,Cy);var t=xy(e.firestore,ug);return ng(sg(t),e._key).then((function(n){return Nb(t,e,n)}))}(this._delegate),t.then((function(e){return new Zb(n.firestore,new gb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Qb.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Su("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Cy(n._delegate,r,new Wu(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Cy(n._delegate,r,t))}}]),e}();function Yb(e,t,n){return e.message=e.message.replace(t,n),e}function Xb(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Bb(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Jb(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Bb(e[0])?e[0]:Bb(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Zb=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new $b(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return xb(this._delegate,e._delegate)}}]),e}(),ek=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||bu()}(void 0!==t),t}}]),n}(Zb),tk=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Kb(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Jg(this._delegate,function(e,t,n){var r=t,i=Qg("where",e);return Zg._create(i,r,n)}(t,n,r)))}catch(i){throw Yb(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Jg(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Qg("orderBy",e);return tb._create(n,t)}(t,n)))}catch(r){throw Yb(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Jg(this._delegate,function(e){return Sy("limit",e),nb._create("limit",e,"F")}(t)))}catch(n){throw Yb(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Jg(this._delegate,function(e){return Sy("limitToLast",e),nb._create("limitToLast",e,"L")}(t)))}catch(n){throw Yb(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Jg(this._delegate,ib.apply(void 0,arguments)))}catch(t){throw Yb(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Jg(this._delegate,ab.apply(void 0,arguments)))}catch(t){throw Yb(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Jg(this._delegate,ub.apply(void 0,arguments)))}catch(t){throw Yb(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Jg(this._delegate,sb.apply(void 0,arguments)))}catch(t){throw Yb(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Oy(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Eb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xy(e,Ay);var t=xy(e.firestore,ug),n=sg(t),r=new Sb(t);return rg(n,e._query,{source:"server"}).then((function(n){return new kb(t,r,e,n)}))}(this._delegate):function(e){e=xy(e,Ay);var t=xy(e.firestore,ug),n=sg(t),r=new Sb(t);return $g(e._query),rg(n,e._query).then((function(n){return new kb(t,r,e,n)}))}(this._delegate),t.then((function(e){return new rk(n.firestore,new kb(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Xb(n),a=Jb(n,(function(t){return new rk(e.firestore,new kb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Cb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Qb.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),nk=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new ek(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),rk=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new tk(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new ek(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new nk(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ek(n._firestore,r))}))}},{key:"isEqual",value:function(e){return xb(this._delegate,e._delegate)}}]),e}(),ik=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new $b(this.firestore,e):null}},{key:"doc",value:function(e){try{return new $b(this.firestore,void 0===e?Py(this._delegate):Py(this._delegate,e))}catch(t){throw Yb(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=xy(e.firestore,ug),r=Py(e),i=vb(e.converter,t);return Rb(n,[Tg(_g(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Sl.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new $b(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Dy(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Qb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(tk);function ak(e){return xy(e,Cy)}var ok,uk=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_(yg,n)}return g(e,[{key:"isEqual",value:function(e){return(e=It(e))instanceof yg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(qu.keyField().canonicalString())}}]),e}(),sk=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Rg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Cg("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Lb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Fb.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Dg("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ck={Firestore:Wb,GeoPoint:bg,Timestamp:Vu,Blob:zb,Transaction:Hb,WriteBatch:Gb,DocumentReference:$b,DocumentSnapshot:Zb,Query:tk,QueryDocumentSnapshot:ek,QuerySnapshot:rk,CollectionReference:ik,FieldPath:uk,FieldValue:sk,setLogLevel:function(e){!function(e){hu.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ct("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ck)))})(ok=tr,(function(e,t){return new Wb(e,t,new qb)})),ok.registerVersion("@firebase/firestore-compat","0.3.3");function lk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var fk;Object.create;var dk="facebook.com",hk="github.com",pk="google.com",vk="password",mk="twitter.com",yk="EMAIL_SIGNIN",gk="PASSWORD_RESET",bk="RECOVER_EMAIL",kk="REVERT_SECOND_FACTOR_ADDITION",wk="VERIFY_AND_CHANGE_EMAIL",xk="VERIFY_EMAIL";function Sk(){return Qe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ik=function(){var e;return Qe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Qe(e,"argument-error",""),Qe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Qe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Qe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Qe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Qe(e,"cordova-not-ready","Cordova framework is not ready."),Qe(e,"cors-unsupported","This browser is not supported."),Qe(e,"credential-already-in-use","This credential is already associated with a different user account."),Qe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Qe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Qe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Qe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Qe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Qe(e,"email-already-in-use","The email address is already in use by another account."),Qe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Qe(e,"expired-action-code","The action code has expired."),Qe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Qe(e,"internal-error","An internal AuthError has occurred."),Qe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Qe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Qe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Qe(e,"invalid-auth-event","An internal AuthError has occurred."),Qe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Qe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Qe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Qe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Qe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Qe(e,"invalid-email","The email address is badly formatted."),Qe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Qe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Qe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Qe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Qe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Qe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Qe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Qe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Qe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Qe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Qe(e,"wrong-password","The password is invalid or the user does not have a password."),Qe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Qe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Qe(e,"invalid-provider-id","The specified provider ID is invalid."),Qe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Qe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Qe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Qe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Qe(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Qe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Qe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Qe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Qe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Qe(e,"missing-continue-uri","A continue URL must be provided in the request."),Qe(e,"missing-iframe-start","An internal AuthError has occurred."),Qe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Qe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Qe(e,"missing-multi-factor-info","No second factor identifier is provided."),Qe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Qe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Qe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Qe(e,"app-deleted","This instance of FirebaseApp has been deleted."),Qe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Qe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Qe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Qe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Qe(e,"no-auth-event","An internal AuthError has occurred."),Qe(e,"no-such-provider","User was not linked to an account with the given provider."),Qe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Qe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Qe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Qe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Qe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Qe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Qe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Qe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Qe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Qe(e,"rejected-credential","The request contains malformed or mismatching credentials."),Qe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Qe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Qe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Qe(e,"timeout","The operation has timed out."),Qe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Qe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Qe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Qe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Qe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Qe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Qe(e,"unverified-email","The operation requires a verified email."),Qe(e,"user-cancelled","The user did not grant your application the permissions it requested."),Qe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Qe(e,"user-disabled","The user account has been disabled by an administrator."),Qe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Qe(e,"user-signed-out",""),Qe(e,"weak-password","The password must be 6 characters long or more."),Qe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Qe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Ek=Sk,_k=new dt("auth","Firebase",Sk()),Tk=new Ut("@firebase/auth");function Ck(e){if(Tk.logLevel<=Dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tk.error.apply(Tk,["Auth (".concat(En,"): ").concat(e)].concat(n))}}function Ak(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Dk.apply(void 0,[e].concat(n))}function Rk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Dk.apply(void 0,[e].concat(n))}function Nk(e,t,n){var r=Object.assign(Object.assign({},Ek()),Qe({},t,n));return new dt("auth","Firebase",r).create(t,{appName:e.name})}function Pk(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ak(e,"argument-error"),Nk(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Dk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return _k.create.apply(_k,[e].concat(n))}function Ok(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Dk.apply(void 0,[t].concat(r))}}function Mk(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ck(t),new Error(t)}function Lk(e,t){e||Mk(t)}var Fk=new Map;function Vk(e){Lk(e instanceof Function,"Expected a class definition");var t=Fk.get(e);return t?(Lk(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fk.set(e,t),t)}function jk(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Uk(){return"http:"===zk()||"https:"===zk()}function zk(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Bk=function(){function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,Lk(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())||st()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Uk()||ut()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function qk(e,t){Lk(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Wk=function(){function e(){p(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Mk("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Mk("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Mk("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Kk=(Qe(fk={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Qe(fk,"MISSING_CUSTOM_TOKEN","internal-error"),Qe(fk,"INVALID_IDENTIFIER","invalid-email"),Qe(fk,"MISSING_CONTINUE_URI","internal-error"),Qe(fk,"INVALID_PASSWORD","wrong-password"),Qe(fk,"MISSING_PASSWORD","internal-error"),Qe(fk,"EMAIL_EXISTS","email-already-in-use"),Qe(fk,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Qe(fk,"INVALID_IDP_RESPONSE","invalid-credential"),Qe(fk,"INVALID_PENDING_TOKEN","invalid-credential"),Qe(fk,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Qe(fk,"MISSING_REQ_TYPE","internal-error"),Qe(fk,"EMAIL_NOT_FOUND","user-not-found"),Qe(fk,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Qe(fk,"EXPIRED_OOB_CODE","expired-action-code"),Qe(fk,"INVALID_OOB_CODE","invalid-action-code"),Qe(fk,"MISSING_OOB_CODE","internal-error"),Qe(fk,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Qe(fk,"INVALID_ID_TOKEN","invalid-user-token"),Qe(fk,"TOKEN_EXPIRED","user-token-expired"),Qe(fk,"USER_NOT_FOUND","user-token-expired"),Qe(fk,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Qe(fk,"INVALID_CODE","invalid-verification-code"),Qe(fk,"INVALID_SESSION_INFO","invalid-verification-id"),Qe(fk,"INVALID_TEMPORARY_PROOF","invalid-credential"),Qe(fk,"MISSING_SESSION_INFO","missing-verification-id"),Qe(fk,"SESSION_EXPIRED","code-expired"),Qe(fk,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Qe(fk,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Qe(fk,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Qe(fk,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Qe(fk,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Qe(fk,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Qe(fk,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Qe(fk,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Qe(fk,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Qe(fk,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Qe(fk,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),fk),Hk=new Bk(3e4,6e4);function Gk(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Qk(e,t,n,r){return $k.apply(this,arguments)}function $k(){return $k=Tt(Et().mark((function e(t,n,r,i){var a,o=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Yk(t,a,Tt(Et().mark((function e(){var a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=gt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Wk.fetch()(ew(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),$k.apply(this,arguments)}function Yk(e,t,n){return Xk.apply(this,arguments)}function Xk(){return Xk=Tt(Et().mark((function e(t,n,r){var i,a,o,u,s,c,l,d,h,p;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Kk),n),e.prev=2,a=new tw(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw nw(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=f(c,2),d=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw nw(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw nw(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw nw(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Nk(t,p,h);case 34:Ak(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ft)){e.next=41;break}throw e.t0;case 41:Ak(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Xk.apply(this,arguments)}function Jk(e,t,n,r){return Zk.apply(this,arguments)}function Zk(){return Zk=Tt(Et().mark((function e(t,n,r,i){var a,o,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Qk(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ak(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function ew(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?qk(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var tw=function(){function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Rk(n.auth,"network-request-failed"))}),Hk.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function nw(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Rk(e,t,r);return i.customData._tokenResponse=n,i}function rw(e,t){return iw.apply(this,arguments)}function iw(){return iw=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qk(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),iw.apply(this,arguments)}function aw(e,t){return ow.apply(this,arguments)}function ow(){return ow=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qk(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ow.apply(this,arguments)}function uw(e,t){return sw.apply(this,arguments)}function sw(){return sw=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qk(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}function cw(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function lw(){return lw=Tt(Et().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=It(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ok((a=dw(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:cw(fw(a.auth_time)),issuedAtTime:cw(fw(a.iat)),expirationTime:cw(fw(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}function fw(e){return 1e3*Number(e)}function dw(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ck("JWT malformed, contained fewer than 3 sections"),null;try{var a=Je(r);return a?JSON.parse(a):(Ck("Failed to decode base64 JWT payload"),null)}catch(o){return Ck("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function hw(e,t){return pw.apply(this,arguments)}function pw(){return pw=Tt(Et().mark((function e(t,n){var r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ft&&vw(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),pw.apply(this,arguments)}function vw(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var mw=function(){function e(t){p(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Tt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),yw=function(){function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=cw(this.lastLoginAt),this.creationTime=cw(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function gw(e){return bw.apply(this,arguments)}function bw(){return bw=Tt(Et().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,hw(t,uw(r,{idToken:i}));case 6:Ok(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?xw(o.providerUserInfo):[],s=ww(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new yw(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),bw.apply(this,arguments)}function kw(){return(kw=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It(t),e.next=3,gw(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ww(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function xw(e){return e.map((function(e){var t=e.providerId,n=lk(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Sw(e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=Tt(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yk(t,{},Tt(Et().mark((function e(){var r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ew(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Wk.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}var Ew=function(){function e(){p(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ok(e.idToken,"internal-error"),Ok("undefined"!==typeof e.idToken,"internal-error"),Ok("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=dw(e);return Ok(t,"internal-error"),Ok("undefined"!==typeof t.exp,"internal-error"),Ok("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Tt(Et().mark((function e(t){var n,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ok(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Tt(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sw(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Mk("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ok("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ok("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ok("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function _w(e,t){Ok("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Tw=function(){function e(t){p(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=lk(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new yw(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hw(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ok(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return lw.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return kw.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ok(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ok(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Tt(Et().mark((function e(t){var n,r,i=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,gw(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,hw(this,rw(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;Ok(b&&S,t,"internal-error");var I=Ew.fromJSON(this.name,S);Ok("string"===typeof b,t,"internal-error"),_w(f,t.name),_w(d,t.name),Ok("boolean"===typeof k,t,"internal-error"),Ok("boolean"===typeof w,t,"internal-error"),_w(h,t.name),_w(p,t.name),_w(v,t.name),_w(m,t.name),_w(y,t.name),_w(g,t.name);var E=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Tt(Et().mark((function t(n,r){var i,a,o,u=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ew).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,gw(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Cw=function(){function e(){p(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Cw.type="NONE";var Aw=Cw;function Rw(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Nw=function(){function e(t,n,r){p(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Rw(this.userKey,a.apiKey,o),this.fullPersistenceKey=Rw("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Tw._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Tt(Et().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Vk(Aw),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Vk(Aw),u=Rw(i,n.config.apiKey,n.name),s=null,c=A(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=Tw._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Pw(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Lw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Dw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vw(t))return"Blackberry";if(jw(t))return"Webos";if(Ow(t))return"Safari";if((t.includes("chrome/")||Mw(t))&&!t.includes("edge/"))return"Chrome";if(Fw(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Dw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return/firefox\//i.test(e)}function Ow(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Mw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return/crios\//i.test(e)}function Lw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return/iemobile/i.test(e)}function Fw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return/android/i.test(e)}function Vw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return/blackberry/i.test(e)}function jw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return/webos/i.test(e)}function Uw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function zw(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return Uw(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Bw(){return ct()&&10===document.documentMode}function qw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return Uw(e)||Fw(e)||jw(e)||Vw(e)||/windows phone/i.test(e)||Lw(e)}function Ww(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Pw(at());break;case"Worker":t="".concat(Pw(at()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(En,"/").concat(r)}var Kw=function(){function e(t){p(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Tt(Et().mark((function e(t){var n,r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=A(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=A(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Hw=function(){function e(t,n,r){p(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qw(this),this.idTokenSubscription=new Qw(this),this.beforeStateQueue=new Kw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_k,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Vk(t)),this._initializationPromise=this.queue(Tt(Et().mark((function r(){var i,a;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Nw.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Tt(Et().mark((function e(t){var n,r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ok(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gw(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?It(t):null)&&Ok(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Tt(Et().mark((function e(t){var n,r=this,i=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ok(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Tt(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Vk(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new dt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Tt(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ok(n=t&&Vk(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Nw.create(this,[Vk(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Tt(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ok(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ok(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ww(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Tt(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gw(e){return It(e)}var Qw=function(){function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=wt((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Ok(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function $w(e,t,n){var r=Gw(e);Ok(r._canInitEmulator,r,"emulator-config-failed"),Ok(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Yw(t),o=function(e){var t=Yw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Xw(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:Xw(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yw(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xw(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Jw=function(){function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Mk("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Mk("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Mk("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Mk("not implemented")}}]),e}();function Zw(e,t){return ex.apply(this,arguments)}function ex(){return ex=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qk(t,"POST","/v1/accounts:resetPassword",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t){return nx.apply(this,arguments)}function nx(){return nx=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qk(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),nx.apply(this,arguments)}function rx(e,t){return ix.apply(this,arguments)}function ix(){return ix=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qk(t,"POST","/v1/accounts:update",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e,t){return ox.apply(this,arguments)}function ox(){return ox=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jk(t,"POST","/v1/accounts:signInWithPassword",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function ux(e,t){return sx.apply(this,arguments)}function sx(){return sx=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qk(t,"POST","/v1/accounts:sendOobCode",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function cx(e,t){return lx.apply(this,arguments)}function lx(){return lx=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,n));case 1:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}function fx(e,t){return dx.apply(this,arguments)}function dx(){return dx=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,n));case 1:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}function hx(e,t){return px.apply(this,arguments)}function px(){return px=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,n));case 1:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,n));case 1:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t){return gx.apply(this,arguments)}function gx(){return gx=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jk(t,"POST","/v1/accounts:signInWithEmailLink",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function bx(e,t){return kx.apply(this,arguments)}function kx(){return kx=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jk(t,"POST","/v1/accounts:signInWithEmailLink",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}var wx=function(e){k(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ax(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",yx(t,{email:this._email,oobCode:this._password}));case 5:Ak(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",tx(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bx(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ak(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Jw);function xx(e,t){return Sx.apply(this,arguments)}function Sx(){return Sx=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jk(t,"POST","/v1/accounts:signInWithIdp",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}var Ix=function(e){k(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return xx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xx(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ak("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=lk(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Jw);function Ex(e,t){return _x.apply(this,arguments)}function _x(){return _x=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qk(t,"POST","/v1/accounts:sendVerificationCode",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Tx(){return Tx=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jk(t,"POST","/v1/accounts:signInWithPhoneNumber",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tx.apply(this,arguments)}function Cx(){return Cx=Tt(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jk(t,"POST","/v1/accounts:signInWithPhoneNumber",Gk(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw nw(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}var Ax=Qe({},"USER_NOT_FOUND","user-not-found");function Rx(){return Rx=Tt(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Jk(t,"POST","/v1/accounts:signInWithPhoneNumber",Gk(t,r),Ax));case 2:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}var Nx=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Tx.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Cx.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Rx.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Jw);var Px=function(){function e(t){var n,r,i,a,o,u;p(this,e);var s=bt(kt(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ok(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=bt(kt(e)).link,n=t?bt(kt(t)).deep_link_id:null,r=bt(kt(e)).deep_link_id;return(r?bt(kt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Iy){return null}}}]),e}();var Dx=function(){function e(){p(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return wx._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Px.parseLink(t);return Ok(n,"argument-error"),wx._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Dx.PROVIDER_ID="password",Dx.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Dx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ox=function(){function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Mx=function(e){k(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Ox),Lx=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ok(e.idToken||e.accessToken,"argument-error"),Ix._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ok("providerId"in t&&"signInMethod"in t,"argument-error"),Ix._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Mx),Fx=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return Ix._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Iy){return null}}}]),n}(Mx);Fx.FACEBOOK_SIGN_IN_METHOD="facebook.com",Fx.PROVIDER_ID="facebook.com";var Vx=function(e){k(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return Ix._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Iy){return null}}}]),n}(Mx);Vx.GOOGLE_SIGN_IN_METHOD="google.com",Vx.PROVIDER_ID="google.com";var jx=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return Ix._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Iy){return null}}}]),n}(Mx);jx.GITHUB_SIGN_IN_METHOD="github.com",jx.PROVIDER_ID="github.com";var Ux=function(e){k(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return xx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xx(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Jw),zx=function(e){k(n,e);var t=E(n);function n(e){return p(this,n),Ok(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ux.fromJSON(e);return Ok(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ux._create(r,n)}catch(i){return null}}}]),n}(Ox),Bx=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return Ix._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Iy){return null}}}]),n}(Mx);function qx(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jk(t,"POST","/v1/accounts:signUp",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}Bx.TWITTER_SIGN_IN_METHOD="twitter.com",Bx.PROVIDER_ID="twitter.com";var Kx=function(){function e(t){p(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Tt(Et().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Tw._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Hx(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Tt(Et().mark((function t(n,r,i){var a;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Hx(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Hx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Gx(){return Gx=Tt(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gw(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Kx({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,qx(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Kx._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}var Qx=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o,u;return p(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(S(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ft);function $x(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qx._fromErrorAndOperation(e,n,t,r);throw n}))}function Yx(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Xx(e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=Tt(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=It(t),e.next=3,tS(!0,r,n);case 3:return e.t0=aw,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Yx(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Zx(e,t){return eS.apply(this,arguments)}function eS(){return eS=Tt(Et().mark((function e(t,n){var r,i,a=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=hw,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Kx._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t,n){return nS.apply(this,arguments)}function nS(){return(nS=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gw(n);case 2:i=Yx(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ok(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=Tt(Et().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,hw(t,$x(i,a,n,t),r);case 6:return Ok((o=e.sent).idToken,i,"internal-error"),Ok(u=dw(o.idToken),i,"internal-error"),s=u.sub,Ok(t.uid===s,i,"user-mismatch"),e.abrupt("return",Kx._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ak(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),iS.apply(this,arguments)}function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=Tt(Et().mark((function e(t,n){var r,i,a,o,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,$x(t,i,n);case 4:return a=e.sent,e.next=7,Kx._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function uS(e,t){return sS.apply(this,arguments)}function sS(){return sS=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aS(Gw(t),n));case 1:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function cS(e,t){return lS.apply(this,arguments)}function lS(){return(lS=Tt(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=It(t),e.next=3,tS(!1,r,n.providerId);case 3:return e.abrupt("return",Zx(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fS(e,t){return dS.apply(this,arguments)}function dS(){return(dS=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rS(It(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hS(e,t){return pS.apply(this,arguments)}function pS(){return pS=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jk(t,"POST","/v1/accounts:signInWithCustomToken",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(){return vS=Tt(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gw(t),e.next=3,hS(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Kx._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}var mS=function(){function e(t,n){p(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?yS._fromServerResponse(e,t):Ak(e,"internal-error")}}]),e}(),yS=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(mS);function gS(e,t,n){var r;Ok((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ok("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ok(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ok(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function bS(){return bS=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=It(t),a={requestType:"PASSWORD_RESET",email:n},r&&gS(i,a,r),e.next=5,fx(i,a);case 5:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function kS(){return kS=Tt(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zw(It(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function wS(){return wS=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rx(It(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(e,t){return SS.apply(this,arguments)}function SS(){return SS=Tt(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=It(t),e.next=3,Zw(r,{oobCode:n});case 3:i=e.sent,Ok(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ok(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ok(i.mfaInfo,r,"internal-error");case 13:Ok(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=mS._fromServerResponse(Gw(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function IS(){return IS=Tt(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xS(It(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),IS.apply(this,arguments)}function ES(e,t,n){return _S.apply(this,arguments)}function _S(){return _S=Tt(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gw(t),e.next=3,qx(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Kx._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function TS(e,t,n){return uS(It(e),Dx.credential(t,n))}function CS(){return CS=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=It(t),a={requestType:"EMAIL_SIGNIN",email:n},Ok(r.handleCodeInApp,i,"argument-error"),r&&gS(i,a,r),e.next=6,hx(i,a);case 6:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function AS(){return AS=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=It(t),Ok((a=Dx.credentialWithLink(n,r||jk()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",uS(i,a));case 4:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function RS(e,t){return NS.apply(this,arguments)}function NS(){return NS=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qk(t,"POST","/v1/accounts:createAuthUri",Gk(t,n)));case 1:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function PS(){return PS=Tt(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uk()?jk():"http://localhost",i={identifier:n,continueUri:r},e.next=4,RS(It(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),PS.apply(this,arguments)}function DS(){return(DS=Tt(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=It(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&gS(r.auth,a,n),e.next=8,cx(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OS(){return(OS=Tt(Et().mark((function e(t,n,r){var i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=It(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&gS(i.auth,o,r),e.next=8,vx(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MS(e,t){return LS.apply(this,arguments)}function LS(){return LS=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qk(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function FS(e,t){return VS.apply(this,arguments)}function VS(){return(VS=Tt(Et().mark((function e(t,n){var r,i,a,o,u,s,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=It(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,hw(a,MS(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jS(e,t,n){return US.apply(this,arguments)}function US(){return US=Tt(Et().mark((function e(t,n,r){var i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,hw(t,tx(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}var zS=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),BS=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(zS),qS=function(e){k(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(zS),WS=function(e){k(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(BS),KS=function(e){k(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"google.com",r)}return g(n)}(zS),HS=function(e){k(n,e);var t=E(n);function n(e,r,i){return p(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(BS);function GS(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=dw(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new zS(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new qS(a,i);case"github.com":return new WS(a,i);case"google.com":return new KS(a,i);case"twitter.com":return new HS(a,i,e.screenName||null);case"custom":case"anonymous":return new zS(a,null);default:return new zS(a,r,i)}}(n)}var QS=function(){function e(t,n,r){p(this,e),this.type=t,this.credential=n,this.auth=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:Qe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),$S=function(){function e(t,n,r){p(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Gw(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return mS._fromServerResponse(r,e)}));Ok(i.mfaPendingCredential,r,"internal-error");var o=QS._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Tt(Et().mark((function e(t){var a,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Kx._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ok(n.user,r,"internal-error"),e.abrupt("return",Kx._forOperation(n.user,n.operationType,u));case 17:Ak(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function YS(e,t){return Qk(e,"POST","/v2/accounts/mfaEnrollment:start",Gk(e,t))}function XS(e,t){return Qk(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Gk(e,t))}var JS=function(){function e(t){var n=this;p(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return mS._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=QS,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Tt(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,hw(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Tt(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,hw(this.user,XS(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ZS=new WeakMap;var eI="__sak",tI=function(){function e(t,n){p(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(eI,"1"),this.storage.removeItem(eI),Promise.resolve(!0)):Promise.resolve(!1)}catch(Iy){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var nI=function(e){k(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=at();return Ow(e)||Uw(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=qw(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Bw()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Tt(Et().mark((function e(t,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(w(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Tt(Et().mark((function e(t){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(w(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(w(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(tI);nI.type="LOCAL";var rI=nI,iI=function(e){k(n,e);var t=E(n);function n(){return p(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(tI);iI.type="SESSION";var aI=iI;function oI(e){return Promise.all(e.map(function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var uI=function(){function e(t){p(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Tt(Et().mark((function e(t){var n,r,i,a,o,u,s,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,oI(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function sI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}uI.receivers=[];var cI=function(){function e(t){p(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Tt(Et().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=sI("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function lI(){return window}function fI(){return"undefined"!==typeof lI().WorkerGlobalScope&&"function"===typeof lI().importScripts}function dI(){return hI.apply(this,arguments)}function hI(){return(hI=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function pI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var vI="firebaseLocalStorageDb",mI="firebaseLocalStorage",yI="fbase_key",gI=function(){function e(t){p(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function bI(e,t){return e.transaction([mI],t?"readwrite":"readonly").objectStore(mI)}function kI(){var e=indexedDB.deleteDatabase(vI);return new gI(e).toPromise()}function wI(){var e=indexedDB.open(vI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(mI,{keyPath:yI})}catch(r){n(r)}})),e.addEventListener("success",Tt(Et().mark((function n(){var r;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(mI)){n.next=12;break}return r.close(),n.next=5,kI();case 5:return n.t0=t,n.next=8,wI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function xI(e,t,n){return SI.apply(this,arguments)}function SI(){return SI=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=bI(t,!0).put((Qe(i={},yI,n),Qe(i,"value",r),i)),e.abrupt("return",new gI(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),SI.apply(this,arguments)}function II(e,t){return EI.apply(this,arguments)}function EI(){return EI=Tt(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bI(t,!1).get(n),e.next=3,new gI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function _I(e,t){var n=bI(e,!0).delete(t);return new gI(n).toPromise()}var TI=function(){function e(){p(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,wI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Tt(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=uI._getInstance(fI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Tt(Et().mark((function e(n,r){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Tt(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new cI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&pI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,wI();case 5:return t=e.sent,e.next=8,xI(t,eI,"1");case 8:return e.next=10,_I(t,eI);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Tt(Et().mark((function e(t,n){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return xI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return II(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Tt(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return _I(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Tt(Et().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=bI(e,!1).getAll();return new gI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=A(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Tt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();TI.type="LOCAL";var CI=TI;function AI(e,t){return Qk(e,"POST","/v2/accounts/mfaSignIn:start",Gk(e,t))}function RI(e){return NI.apply(this,arguments)}function NI(){return NI=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qk(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function PI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Rk("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function DI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var OI=1e12,MI=function(){function e(t){p(this,e),this.auth=t,this.counter=OI,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new LI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||OI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||OI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||OI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),LI=function(){function e(t,n,r){var i=this;p(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ok(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var FI=DI("rcb"),VI=new Bk(3e4,6e4),jI="https://www.google.com/recaptcha/api.js?",UI=function(){function e(){var t;p(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=lI().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ok(zI(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(lI().grecaptcha):new Promise((function(r,i){var a=lI().setTimeout((function(){i(Rk(e,"network-request-failed"))}),VI.get());lI()[FI]=function(){lI().clearTimeout(a),delete lI()[FI];var o=lI().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Rk(e,"internal-error"))},PI("".concat(jI,"?").concat(gt({onload:FI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Rk(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=lI().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function zI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var BI=function(){function e(){p(this,e)}return g(e,[{key:"load",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new MI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),qI="recaptcha",WI={theme:"light",type:"image"},KI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},WI),r=arguments.length>2?arguments[2]:void 0;p(this,e),this.parameters=n,this.type=qI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gw(r),this.isInvisible="invisible"===this.parameters.size,Ok("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ok(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new BI:new UI,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=Tt(Et().mark((function e(){var t,n,r,i=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ok(!this.parameters.sitekey,this.auth,"argument-error"),Ok(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ok("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=lI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ok(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Tt(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ok(Uk()&&!fI(),this.auth,"internal-error"),e.next=3,HI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,RI(this.auth);case 8:Ok(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ok(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function HI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var GI=function(){function e(t,n){p(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=Nx._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function QI(){return QI=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gw(t),e.next=3,JI(i,n,It(r));case 3:return a=e.sent,e.abrupt("return",new GI(a,(function(e){return uS(i,e)})));case 5:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function $I(e,t,n){return YI.apply(this,arguments)}function YI(){return(YI=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=It(t),e.next=3,tS(!1,i,"phone");case 3:return e.next=5,JI(i.auth,n,It(r));case 5:return a=e.sent,e.abrupt("return",new GI(a,(function(e){return cS(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XI(){return(XI=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=It(t),e.next=3,JI(i.auth,n,It(r));case 3:return a=e.sent,e.abrupt("return",new GI(a,(function(e){return fS(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JI(e,t,n){return ZI.apply(this,arguments)}function ZI(){return ZI=Tt(Et().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ok("string"===typeof a,t,"argument-error"),Ok(r.type===qI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ok("enroll"===u.type,t,"internal-error"),e.next=13,YS(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ok("signin"===u.type,t,"internal-error"),Ok(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,AI(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ex(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ZI.apply(this,arguments)}function eE(){return(eE=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zx(It(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tE=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=Gw(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return JI(this.auth,e,It(t))}}],[{key:"credential",value:function(e,t){return Nx._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Nx._fromTokenResponse(n,r):null}}]),e}();function nE(e,t){return t?Vk(t):(Ok(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tE.PROVIDER_ID="phone",tE.PHONE_SIGN_IN_METHOD="phone";var rE=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return xx(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return xx(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return xx(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Jw);function iE(e){return aS(e.auth,new rE(e),e.bypassAuthState)}function aE(e){var t=e.auth,n=e.user;return Ok(n,t,"internal-error"),rS(n,new rE(e),e.bypassAuthState)}function oE(e){return uE.apply(this,arguments)}function uE(){return uE=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ok(r=t.user,n,"internal-error"),e.abrupt("return",Zx(r,new rE(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}var sE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Tt(Et().mark((function t(n,r){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Tt(Et().mark((function e(t){var n,r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iE;case"linkViaPopup":case"linkViaRedirect":return oE;case"reauthViaPopup":case"reauthViaRedirect":return aE;default:Ak(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Lk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Lk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),cE=new Bk(2e3,1e4);function lE(e,t,n){return fE.apply(this,arguments)}function fE(){return fE=Tt(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gw(t),Pk(t,n,Ox),a=nE(i,r),o=new vE(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function dE(){return(dE=Tt(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pk((i=It(t)).auth,n,Ox),a=nE(i.auth,r),o=new vE(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hE(e,t,n){return pE.apply(this,arguments)}function pE(){return(pE=Tt(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pk((i=It(t)).auth,n,Ox),a=nE(i.auth,r),o=new vE(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vE=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o){var u;return p(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=S(u),u}return g(n,[{key:"executeNotNull",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ok(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Tt(Et().mark((function e(){var t,n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lk(1===this.filter.length,"Popup operations only handle one event"),t=sI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Rk(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Rk(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Rk(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,cE.get())}()}}]),n}(sE);vE.currentPopupAction=null;var mE=new Map,yE=function(e){k(n,e);var t=E(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=Tt(Et().mark((function e(){var t,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=mE.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,gE(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ir(w(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:mE.set(this.auth._key(),t);case 21:return this.bypassAuthState||mE.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Tt(Et().mark((function e(t){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ir(w(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ir(w(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(sE);function gE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Tt(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=IE(n),i=SE(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function kE(e,t){return wE.apply(this,arguments)}function wE(){return wE=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SE(t)._set(IE(n),"true"));case 1:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function xE(e,t){mE.set(e._key(),t)}function SE(e){return Vk(e._redirectPersistence)}function IE(e){return Rw("pendingRedirect",e.config.apiKey,e.name)}function EE(e,t,n){return function(e,t,n){return _E.apply(this,arguments)}(e,t,n)}function _E(){return _E=Tt(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gw(t),Pk(t,n,Ox),e.next=4,i._initializationPromise;case 4:return a=nE(i,r),e.next=7,kE(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function TE(e,t,n){return function(e,t,n){return CE.apply(this,arguments)}(e,t,n)}function CE(){return(CE=Tt(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pk((i=It(t)).auth,n,Ox),e.next=4,i.auth._initializationPromise;case 4:return a=nE(i.auth,r),e.next=7,kE(a,i.auth);case 7:return e.next=9,ME(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AE(e,t,n){return function(e,t,n){return RE.apply(this,arguments)}(e,t,n)}function RE(){return(RE=Tt(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pk((i=It(t)).auth,n,Ox),e.next=4,i.auth._initializationPromise;case 4:return a=nE(i.auth,r),e.next=7,tS(!1,i,n.providerId);case 7:return e.next=9,kE(a,i.auth);case 9:return e.next=11,ME(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NE(e,t){return PE.apply(this,arguments)}function PE(){return PE=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gw(t)._initializationPromise;case 2:return e.abrupt("return",DE(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function DE(e,t){return OE.apply(this,arguments)}function OE(){return OE=Tt(Et().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Gw(t),a=nE(i,n),o=new yE(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function ME(e){return LE.apply(this,arguments)}function LE(){return(LE=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sI("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FE=function(){function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jE(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!jE(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Rk(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(VE(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(VE(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function VE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function jE(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function UE(e){return zE.apply(this,arguments)}function zE(){return zE=Tt(Et().mark((function e(t){var n,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Qk(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}var BE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qE=/^https?/;function WE(){return WE=Tt(Et().mark((function e(t){var n,r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,UE(t);case 4:n=e.sent,r=n.authorizedDomains,i=A(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!KE(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ak(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),WE.apply(this,arguments)}function KE(e){var t=jk(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!qE.test(r))return!1;if(BE.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var HE=new Bk(3e4,6e4);function GE(){var e=lI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var QE=null;function $E(e){return QE=QE||function(e){return new Promise((function(t,n){var r,i,a;function o(){GE(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){GE(),n(Rk(e,"network-request-failed"))},timeout:HE.get()})}if(null===(i=null===(r=lI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=lI().gapi)||void 0===a?void 0:a.load)){var u=DI("iframefcb");return lI()[u]=function(){gapi.load?o():n(Rk(e,"network-request-failed"))},PI("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw QE=null,e}))}(e),QE}var YE=new Bk(5e3,15e3),XE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZE(e){var t=e.config;Ok(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?qk(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:En},i=JE.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(gt(r).slice(1))}function e_(e){return t_.apply(this,arguments)}function t_(){return t_=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$E(t);case 2:return n=e.sent,Ok(r=lI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ZE(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XE,dontclear:!0},(function(e){return new Promise(function(){var n=Tt(Et().mark((function n(r,i){var a,o,u;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){lI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Rk(t,"network-request-failed"),o=lI().setTimeout((function(){i(a)}),YE.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}var n_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r_="_blank",i_="http://localhost",a_=function(){function e(t){p(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function o_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},n_),{width:r.toString(),height:i.toString(),top:a,left:o}),c=at().toLowerCase();n&&(u=Mw(c)?r_:n),Dw(c)&&(t=t||i_,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(zw(c)&&"_self"!==u)return u_(t||"",u),new a_(null);var d=window.open(t||"",u,l);Ok(d,e,"popup-blocked");try{d.focus()}catch(h){}return new a_(d)}function u_(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var s_="__/auth/handler",c_="emulator/auth/handler";function l_(e,t,n,r,i,a){Ok(e.config.authDomain,e,"auth-domain-config-required"),Ok(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:En,eventId:i};if(t instanceof Ox){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=f(s[u],2),l=c[0],d=c[1];o[l]=d}}if(t instanceof Mx){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(s_);return qk(t,c_)}(e),"?").concat(gt(p).slice(1))}var f_="webStorageSupport",d_=function(){function e(){p(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aI,this._completeRedirectFn=DE,this._overrideRedirectResult=xE}return g(e,[{key:"_openPopup",value:function(){var e=Tt(Et().mark((function e(t,n,r,i){var a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lk(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=l_(t,n,r,jk(),i),e.abrupt("return",o_(t,o,sI()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Tt(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=l_(t,n,r,jk(),i),lI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Lk(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,e_(t);case 2:return n=e.sent,r=new FE(t),n.register("authEvent",(function(e){return Ok(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(f_,{type:f_},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ak(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return WE.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return qw()||Ow()||Uw()}}]),e}(),h_=d_,p_=function(){function e(t){p(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Mk("unexpected MultiFactorSessionType")}}}]),e}(),v_=function(e){k(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Qk(e,"POST","/v2/accounts/mfaEnrollment:finalize",Gk(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Qk(e,"POST","/v2/accounts/mfaSignIn:finalize",Gk(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(p_),m_=function(){function e(){p(this,e)}return g(e,null,[{key:"assertion",value:function(e){return v_._fromCredential(e)}}]),e}();m_.FACTOR_ID="phone";var y_="@firebase/auth",g_="0.21.3",b_=function(){function e(t){p(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ok(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var k_;!function(e){var t;null===(t=tt())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function w_(){return window}k_="Browser",gn(new Ct("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Ok(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Ok(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:k_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ww(k_)},i=new Hw(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vk);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),gn(new Ct("auth-internal",(function(e){return function(e){return new b_(e)}(Gw(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(y_,g_,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(k_)),Nn(y_,g_,"esm2017");function x_(e,t,n){return S_.apply(this,arguments)}function S_(){return S_=Tt(Et().mark((function e(t,n,r){var i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w_(),o=a.BuildInfo,Lk(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,A_(n.sessionId);case 4:return u=e.sent,s={},Uw()?s.ibi=o.packageName:Fw()?s.apn=o.packageName:Ak(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",l_(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function I_(){return I_=Tt(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w_(),r=n.BuildInfo,i={},Uw()?i.iosBundleId=r.packageName:Fw()?i.androidPackageName=r.packageName:Ak(t,"operation-not-supported-in-this-environment"),e.next=5,UE(t,i);case 5:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}function E_(e){var t=w_().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function __(e,t,n){return T_.apply(this,arguments)}function T_(){return T_=Tt(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=w_(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Rk(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Fw()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),T_.apply(this,arguments)}function C_(e){var t,n,r,i,a,o,u,s,c,l,f=w_();Ok("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ok("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ok("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ok("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ok("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function A_(e){return R_.apply(this,arguments)}function R_(){return(R_=Tt(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N_(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N_(e){if(Lk(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var P_=function(e){k(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ir(w(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(FE);function D_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:V_(),postBody:null,tenantId:e.tenantId,error:Rk(e,"no-auth-event")}}function O_(e,t){return j_()._set(U_(e),t)}function M_(e){return L_.apply(this,arguments)}function L_(){return L_=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j_()._get(U_(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,j_()._remove(U_(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function F_(e,t){var n,r,i=function(e){var t=z_(e),n=t.link?decodeURIComponent(t.link):void 0,r=z_(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return z_(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=z_(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Rk(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function V_(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function j_(){return Vk(rI)}function U_(e){return Rw("authEvent",e.config.apiKey,e.name)}function z_(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=C(e.split("?"));t[0];return bt(t.slice(1).join("?"))}var B_=function(){function e(){p(this,e),this._redirectPersistence=aI,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=DE,this._overrideRedirectResult=xE}return g(e,[{key:"_initialize",value:function(){var e=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new P_(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ak(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Tt(Et().mark((function e(t,n,r,i){var a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C_(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),mE.clear(),e.next=10,this._originValidation(t);case 10:return o=D_(t,r,i),e.next=13,O_(t,o);case 13:return e.next=15,x_(t,o,n);case 15:return u=e.sent,e.next=18,E_(u);case 18:return s=e.sent,e.abrupt("return",__(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return I_.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=w_(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Tt(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M_(e);case 2:t.onEvent(W_());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Tt(Et().mark((function n(r){var i,a;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,M_(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=F_(i,r.url)),t.onEvent(a||W_());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");w_().handleOpenURL=function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),q_=B_;function W_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rk("no-auth-event")}}function K_(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function H_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return!("file:"!==K_()&&"ionic:"!==K_()&&"capacitor:"!==K_()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function G_(){return ct()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Q_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return/Edge\/\d+/.test(e)}function $_(){try{var e=self.localStorage,t=sI();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return G_()||Q_(e)}()||lt()}catch(n){return Y_()&&lt()}return!1}function Y_(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function X_(){return("http:"===K_()||"https:"===K_()||ut()||H_())&&!(st()||ot())&&$_()&&!Y_()}function J_(){return H_()&&"undefined"!==typeof document}function Z_(){return eT.apply(this,arguments)}function eT(){return(eT=Tt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J_()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tT={LOCAL:"local",NONE:"none",SESSION:"session"},nT=Ok,rT="persistence";function iT(e,t){nT(Object.values(tT).includes(t),e,"invalid-persistence-type"),st()?nT(t!==tT.SESSION,e,"unsupported-persistence-type"):ot()?nT(t===tT.NONE,e,"unsupported-persistence-type"):Y_()?nT(t===tT.NONE||t===tT.LOCAL&&lt(),e,"unsupported-persistence-type"):nT(t===tT.NONE||$_(),e,"unsupported-persistence-type")}function aT(e){return oT.apply(this,arguments)}function oT(){return oT=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=uT(),r=Rw(rT,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),oT.apply(this,arguments)}function uT(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var sT=Ok,cT=function(){function e(){p(this,e),this.browserResolver=Vk(h_),this.cordovaResolver=Vk(q_),this.underlyingResolver=null,this._redirectPersistence=aI,this._completeRedirectFn=DE,this._overrideRedirectResult=xE}return g(e,[{key:"_initialize",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Tt(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Tt(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return J_()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return sT(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Z_();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function lT(e){return e.unwrap()}function fT(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new mT(e,function(e,t){var n,r=It(e),i=t;return Ok(t.customData.operationType,r,"argument-error"),Ok(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),$S._fromError(r,i)}(e,t));else if(r){var i=dT(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function dT(e){var t=(e instanceof ft?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ft)&&"temporaryProof"in t&&"phoneNumber"in t)return tE.credentialFromResult(e);var n,r=t.providerId;if(!r||r===vk)return null;switch(r){case pk:n=Vx;break;case dk:n=Fx;break;case hk:n=jx;break;case mk:n=Bx;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ux._create(r,u):Ix._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Lx(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ft?n.credentialFromError(e):n.credentialFromResult(e)}function hT(e,t){return t.catch((function(t){throw t instanceof ft&&fT(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,dT(t)),additionalUserInfo:GS(e),user:yT.getOrCreate(r)}}))}function pT(e,t){return vT.apply(this,arguments)}function vT(){return vT=Tt(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return hT(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}var mT=function(){function e(t,n){p(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return hT(lT(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),yT=function(){function e(t){p(this,e),this._delegate=t,this.multiFactor=function(e){var t=It(e);return ZS.has(t)||ZS.set(t,JS._fromUser(t)),ZS.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hT(this.auth,cS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pT(this.auth,$I(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hT(this.auth,hE(this._delegate,t,cT)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aT(Gw(this.auth));case 2:return e.abrupt("return",AE(this._delegate,t,cT));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hT(this.auth,fS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return pT(this.auth,function(e,t,n){return XI.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return hT(this.auth,function(e,t,n){return dE.apply(this,arguments)}(this._delegate,e,cT))}},{key:"reauthenticateWithRedirect",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aT(Gw(this.auth));case 2:return e.abrupt("return",TE(this._delegate,t,cT));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return DS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xx(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return jS(It(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return jS(It(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return eE.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return FS(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return OS.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();yT.USER_MAP=new WeakMap;var gT=Ok,bT=function(){function e(t,n){if(p(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;gT(r,"invalid-api-key",{appName:t.name}),gT(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?cT:void 0;this._delegate=n.initialize({options:{persistence:wT(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ik),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?yT.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){$w(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return wS.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return xS(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return kS.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Tt(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hT(this._delegate,ES(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return PS.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Px.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Tt(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gT(X_(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,NE(this._delegate,cT);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",hT(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Gw(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=kT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=kT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return CS.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return bS.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Tt(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:iT(this._delegate,t),e.t0=t,e.next=e.t0===tT.SESSION?4:e.t0===tT.LOCAL?6:e.t0===tT.NONE?11:13;break;case 4:return n=aI,e.abrupt("break",14);case 6:return e.next=8,Vk(CI)._isAvailable();case 8:return r=e.sent,n=r?CI:rI,e.abrupt("break",14);case 11:return n=Aw,e.abrupt("break",14);case 13:return e.abrupt("return",Ak("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return hT(this._delegate,function(e){return Gx.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return hT(this._delegate,uS(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return hT(this._delegate,function(e,t){return vS.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return hT(this._delegate,TS(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return hT(this._delegate,function(e,t,n){return AS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return pT(this._delegate,function(e,t,n){return QI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gT(X_(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",hT(this._delegate,lE(this._delegate,t,cT)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gT(X_(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,aT(this._delegate);case 3:return e.abrupt("return",EE(this._delegate,t,cT));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return IS.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function kT(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&yT.getOrCreate(e))},error:t,complete:n}}function wT(e,t){var n=function(e,t){var n=uT();if(!n)return[];var r=Rw(rT,e,t);switch(n.getItem(r)){case tT.NONE:return[Aw];case tT.LOCAL:return[CI,aI];case tT.SESSION:return[aI];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(CI)||n.push(CI),"undefined"!==typeof window)for(var r=0,i=[rI,aI];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Aw)||n.push(Aw),n}bT.Persistence=tT;var xT=function(){function e(){p(this,e),this.providerId="phone",this._delegate=new tE(lT(tr.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return tE.credential(e,t)}}]),e}();xT.PHONE_SIGN_IN_METHOD=tE.PHONE_SIGN_IN_METHOD,xT.PROVIDER_ID=tE.PROVIDER_ID;var ST=Ok,IT=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr.app();p(this,e),ST(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new KI(t,n,i.auth()),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();function ET(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function _T(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}!function(e){e.INTERNAL.registerComponent(new Ct("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new bT(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:yk,PASSWORD_RESET:gk,RECOVER_EMAIL:bk,REVERT_SECOND_FACTOR_ADDITION:kk,VERIFY_AND_CHANGE_EMAIL:wk,VERIFY_EMAIL:xk}},EmailAuthProvider:Dx,FacebookAuthProvider:Fx,GithubAuthProvider:jx,GoogleAuthProvider:Vx,OAuthProvider:Lx,SAMLAuthProvider:zx,PhoneAuthProvider:xT,PhoneMultiFactorGenerator:m_,RecaptchaVerifier:IT,TwitterAuthProvider:Bx,Auth:bT,AuthCredential:Jw,Error:ft}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.3.3")}(tr);var TT=function(){return TT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},TT.apply(this,arguments)},CT=function(e){return{loading:void 0===e||null===e,value:e}},AT=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return TT(TT({},e),{error:t.error,loading:!1,value:void 0});case"reset":return CT(t.defaultValue);case"value":return TT(TT({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),CT(t)),i=n[0],a=n[1],o=(0,r.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,r.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,r.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},RT=function(e,t){var n=AT((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;return(0,r.useEffect)((function(){var n=function(e,t,n,r){return It(e).onAuthStateChanged(t,n,r)}(e,(function(e){return ET(void 0,void 0,void 0,(function(){var n;return _T(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]),[s,a,i]},NT={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"};function PT(){return PT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PT.apply(this,arguments)}var DT=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},OT=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,MT=DT((function(e){return OT.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var LT=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),FT=Math.abs,VT=String.fromCharCode,jT=Object.assign;function UT(e){return e.trim()}function zT(e,t,n){return e.replace(t,n)}function BT(e,t){return e.indexOf(t)}function qT(e,t){return 0|e.charCodeAt(t)}function WT(e,t,n){return e.slice(t,n)}function KT(e){return e.length}function HT(e){return e.length}function GT(e,t){return t.push(e),e}var QT=1,$T=1,YT=0,XT=0,JT=0,ZT="";function eC(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:QT,column:$T,length:o,return:""}}function tC(e,t){return jT(eC("",null,null,"",null,null,0),e,{length:-e.length},t)}function nC(){return JT=XT>0?qT(ZT,--XT):0,$T--,10===JT&&($T=1,QT--),JT}function rC(){return JT=XT<YT?qT(ZT,XT++):0,$T++,10===JT&&($T=1,QT++),JT}function iC(){return qT(ZT,XT)}function aC(){return XT}function oC(e,t){return WT(ZT,e,t)}function uC(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sC(e){return QT=$T=1,YT=KT(ZT=e),XT=0,[]}function cC(e){return ZT="",e}function lC(e){return UT(oC(XT-1,hC(91===e?e+2:40===e?e+1:e)))}function fC(e){for(;(JT=iC())&&JT<33;)rC();return uC(e)>2||uC(JT)>3?"":" "}function dC(e,t){for(;--t&&rC()&&!(JT<48||JT>102||JT>57&&JT<65||JT>70&&JT<97););return oC(e,aC()+(t<6&&32==iC()&&32==rC()))}function hC(e){for(;rC();)switch(JT){case e:return XT;case 34:case 39:34!==e&&39!==e&&hC(JT);break;case 40:41===e&&hC(e);break;case 92:rC()}return XT}function pC(e,t){for(;rC()&&e+JT!==57&&(e+JT!==84||47!==iC()););return"/*"+oC(t,XT-1)+"*"+VT(47===e?e:rC())}function vC(e){for(;!uC(iC());)rC();return oC(e,XT)}var mC="-ms-",yC="-moz-",gC="-webkit-",bC="comm",kC="rule",wC="decl",xC="@keyframes";function SC(e,t){for(var n="",r=HT(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function IC(e,t,n,r){switch(e.type){case"@import":case wC:return e.return=e.return||e.value;case bC:return"";case xC:return e.return=e.value+"{"+SC(e.children,r)+"}";case kC:e.value=e.props.join(",")}return KT(n=SC(e.children,r))?e.return=e.value+"{"+n+"}":""}function EC(e){return function(t){t.root||(t=t.return)&&e(t)}}function _C(e){return cC(TC("",null,null,null,[""],e=sC(e),0,[0],e))}function TC(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,m=1,y=1,g=0,b="",k=i,w=a,x=r,S=b;m;)switch(p=g,g=rC()){case 40:if(108!=p&&58==qT(S,f-1)){-1!=BT(S+=zT(lC(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=lC(g);break;case 9:case 10:case 13:case 32:S+=fC(p);break;case 92:S+=dC(aC()-1,7);continue;case 47:switch(iC()){case 42:case 47:GT(AC(pC(rC(),aC()),t,n),s);break;default:S+="/"}break;case 123*v:u[c++]=KT(S)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:h>0&&KT(S)-f&&GT(h>32?RC(S+";",r,n,f-1):RC(zT(S," ","")+";",r,n,f-2),s);break;case 59:S+=";";default:if(GT(x=CC(S,t,n,c,l,i,u,b,k=[],w=[],f),a),123===g)if(0===l)TC(S,t,x,x,k,a,f,u,w);else switch(99===d&&110===qT(S,3)?100:d){case 100:case 109:case 115:TC(e,x,x,r&&GT(CC(e,x,x,0,0,i,u,b,i,k=[],f),w),i,w,f,u,r?k:w);break;default:TC(S,x,x,x,[""],w,0,u,w)}}c=l=h=0,v=y=1,b=S="",f=o;break;case 58:f=1+KT(S),h=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==nC())continue;switch(S+=VT(g),g*v){case 38:y=l>0?1:(S+="\f",-1);break;case 44:u[c++]=(KT(S)-1)*y,y=1;break;case 64:45===iC()&&(S+=lC(rC())),d=iC(),l=f=KT(b=S+=vC(aC())),g++;break;case 45:45===p&&2==KT(S)&&(v=0)}}return a}function CC(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,d=0===i?a:[""],h=HT(d),p=0,v=0,m=0;p<r;++p)for(var y=0,g=WT(e,f+1,f=FT(v=o[p])),b=e;y<h;++y)(b=UT(v>0?d[y]+" "+g:zT(g,/&\f/g,d[y])))&&(s[m++]=b);return eC(e,t,n,0===i?kC:u,s,c,l)}function AC(e,t,n){return eC(e,t,n,bC,VT(JT),WT(e,2,-2),0)}function RC(e,t,n,r){return eC(e,t,n,wC,WT(e,0,r),WT(e,r+1,-1),r)}var NC=function(e,t,n){for(var r=0,i=0;r=i,i=iC(),38===r&&12===i&&(t[n]=1),!uC(i);)rC();return oC(e,XT)},PC=function(e,t){return cC(function(e,t){var n=-1,r=44;do{switch(uC(r)){case 0:38===r&&12===iC()&&(t[n]=1),e[n]+=NC(XT-1,t,n);break;case 2:e[n]+=lC(r);break;case 4:if(44===r){e[++n]=58===iC()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=VT(r)}}while(r=rC());return e}(sC(e),t))},DC=new WeakMap,OC=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||DC.get(n))&&!r){DC.set(e,!0);for(var i=[],a=PC(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},MC=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function LC(e,t){switch(function(e,t){return 45^qT(e,0)?(((t<<2^qT(e,0))<<2^qT(e,1))<<2^qT(e,2))<<2^qT(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gC+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return gC+e+yC+e+mC+e+e;case 6828:case 4268:return gC+e+mC+e+e;case 6165:return gC+e+mC+"flex-"+e+e;case 5187:return gC+e+zT(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return gC+e+mC+"flex-item-"+zT(e,/flex-|-self/,"")+e;case 4675:return gC+e+mC+"flex-line-pack"+zT(e,/align-content|flex-|-self/,"")+e;case 5548:return gC+e+mC+zT(e,"shrink","negative")+e;case 5292:return gC+e+mC+zT(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+zT(e,"-grow","")+gC+e+mC+zT(e,"grow","positive")+e;case 4554:return gC+zT(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return zT(zT(zT(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return zT(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return zT(zT(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+gC+e+e;case 4095:case 3583:case 4068:case 2532:return zT(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(KT(e)-1-t>6)switch(qT(e,t+1)){case 109:if(45!==qT(e,t+4))break;case 102:return zT(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==qT(e,t+3)?"$3":"$2-$3"))+e;case 115:return~BT(e,"stretch")?LC(zT(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==qT(e,t+1))break;case 6444:switch(qT(e,KT(e)-3-(~BT(e,"!important")&&10))){case 107:return zT(e,":",":-webkit-")+e;case 101:return zT(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===qT(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(qT(e,t+11)){case 114:return gC+e+mC+zT(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return gC+e+mC+zT(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return gC+e+mC+zT(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return gC+e+mC+e+e}return e}var FC=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case wC:e.return=LC(e.value,e.length);break;case xC:return SC([tC(e,{value:zT(e.value,"@","@-webkit-")})],r);case kC:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return SC([tC(e,{props:[zT(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return SC([tC(e,{props:[zT(t,/:(plac\w+)/,":-webkit-input-$1")]}),tC(e,{props:[zT(t,/:(plac\w+)/,":-moz-$1")]}),tC(e,{props:[zT(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}],VC=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||FC;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s=[OC,MC];var c,l=[IC,EC((function(e){c.insert(e)}))],f=function(e){var t=HT(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}(s.concat(r,l));a=function(e,t,n,r){c=n,function(e){SC(_C(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new LT({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};var jC=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},UC={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zC=/[A-Z]|^ms/g,BC=/_EMO_([^_]+?)_([^]*?)_EMO_/g,qC=function(e){return 45===e.charCodeAt(1)},WC=function(e){return null!=e&&"boolean"!==typeof e},KC=DT((function(e){return qC(e)?e:e.replace(zC,"-$&").toLowerCase()})),HC=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(BC,(function(e,t,n){return QC={name:t,styles:n,next:QC},t}))}return 1===UC[e]||qC(e)||"number"!==typeof t||0===t?t:t+"px"};function GC(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return QC={name:n.name,styles:n.styles,next:QC},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)QC={name:r.name,styles:r.styles,next:QC},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=GC(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":WC(o)&&(r+=KC(a)+":"+HC(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=GC(e,t,o);switch(a){case"animation":case"animationName":r+=KC(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)WC(o[s])&&(r+=KC(a)+":"+HC(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=QC,a=n(e);return QC=i,GC(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var QC,$C=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var YC=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";QC=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=GC(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=GC(n,t,e[o]),r&&(i+=a[o]);$C.lastIndex=0;for(var u,s="";null!==(u=$C.exec(i));)s+="-"+u[1];return{name:jC(i)+s,styles:i,next:QC}},XC=!!i.useInsertionEffect&&i.useInsertionEffect,JC=XC||function(e){return e()},ZC=XC||r.useLayoutEffect,eA=(0,r.createContext)("undefined"!==typeof HTMLElement?VC({key:"css"}):null);eA.Provider;var tA=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(eA);return e(t,i,n)}))},nA=(0,r.createContext)({});function rA(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var iA=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},aA=function(e,t,n){iA(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},oA=MT,uA=function(e){return"theme"!==e},sA=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?oA:uA},cA=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},lA=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;iA(t,n,r);JC((function(){return aA(t,n,r)}));return null},fA=function e(t,n){var i,a,o=t.__emotion_real===t,u=o&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var s=cA(t,n,o),c=s||sA(u),l=!c("as");return function(){var f=arguments,d=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)d.push.apply(d,f);else{0,d.push(f[0][0]);for(var h=f.length,p=1;p<h;p++)d.push(f[p],f[0][p])}var v=tA((function(e,t,n){var i=l&&e.as||u,o="",f=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,r.useContext)(nA)}"string"===typeof e.className?o=rA(t.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=YC(d.concat(f),t.registered,h);o+=t.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?sA(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=n,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(lA,{cache:t,serialized:v,isStringTag:"string"===typeof i}),(0,r.createElement)(i,y))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=d,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,r){return e(t,PT({},n,r,{shouldForwardProp:cA(v,r,!0)})).apply(void 0,d)},v}},dA=fA.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){dA[e]=dA(e)}));var hA=dA;function pA(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function vA(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=vA(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var mA=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=vA(e))&&(r&&(r+=" "),r+=t);return r};function yA(e,t){var n=PT({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=PT({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=PT({},a),Object.keys(i).forEach((function(e){n[r][e]=yA(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function gA(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}function bA(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function kA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function wA(e){if(e.type)return e;if("#"===e.charAt(0))return wA(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(bA(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(bA(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function xA(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function SA(e){var t="hsl"===(e=wA(e)).type||"hsla"===e.type?wA(function(e){var t=(e=wA(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),xA({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function IA(e,t){return e=wA(e),t=kA(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,xA(e)}function EA(e,t){if(e=wA(e),t=kA(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return xA(e)}function _A(e,t){if(e=wA(e),t=kA(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return xA(e)}function TA(e,t){return hA(e,t)}var CA=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function AA(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function RA(e){if(!AA(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=RA(e[n])})),t}function NA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?PT({},e):e;return AA(e)&&AA(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(AA(t[i])&&i in e&&AA(e[i])?r[i]=NA(e[i],t[i],n):n.clone?r[i]=AA(t[i])?RA(t[i]):t[i]:r[i]=t[i])})),r}var PA=["values","unit","step"];function DA(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=pA(e,PA),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return PT({},e,Qe({},t.key,t.val))}),{})}(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function d(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return PT({keys:c,values:s,up:l,down:f,between:d,only:function(e){return c.indexOf(e)+1<c.length?d(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):d(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var OA={borderRadius:4},MA={xs:0,sm:600,md:900,lg:1200,xl:1536},LA={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(MA[e],"px)")}};function FA(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||LA;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||LA;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||MA).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function VA(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function jA(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function UA(e){if("string"!==typeof e)throw new Error(bA(7));return e.charAt(0).toUpperCase()+e.slice(1)}function zA(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function BA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:zA(e,n)||i,t&&(r=t(r,i,e)),r}var qA=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=zA(e.theme,i)||{};return FA(e,n,(function(e){var n=BA(o,a,e);return e===n&&"string"===typeof e&&(n=BA(o,a,"".concat(t).concat("default"===e?"":UA(e)),e)),!1===r?n:Qe({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var WA=function(e,t){return t?NA(e,t,{clone:!1}):e};var KA={m:"margin",p:"padding"},HA={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},QA=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!GA[e])return[e];e=GA[e]}var t=f(e.split(""),2),n=t[0],r=t[1],i=KA[n],a=HA[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),$A=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],YA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],XA=[].concat($A,YA);function JA(e,t,n,r){var i,a=null!=(i=zA(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function ZA(e){return JA(e,"spacing",8)}function eR(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function tR(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=eR(t,n),e}),{})}}(QA(n),r);return FA(e,e[n],i)}function nR(e,t){var n=ZA(e.theme);return Object.keys(e).map((function(r){return tR(e,t,r,n)})).reduce(WA,{})}function rR(e){return nR(e,$A)}function iR(e){return nR(e,YA)}function aR(e){return nR(e,XA)}rR.propTypes={},rR.filterProps=$A,iR.propTypes={},iR.filterProps=YA,aR.propTypes={},aR.filterProps=XA;function oR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=ZA({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var uR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?WA(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function sR(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var cR=qA({prop:"border",themeKey:"borders",transform:sR}),lR=qA({prop:"borderTop",themeKey:"borders",transform:sR}),fR=qA({prop:"borderRight",themeKey:"borders",transform:sR}),dR=qA({prop:"borderBottom",themeKey:"borders",transform:sR}),hR=qA({prop:"borderLeft",themeKey:"borders",transform:sR}),pR=qA({prop:"borderColor",themeKey:"palette"}),vR=qA({prop:"borderTopColor",themeKey:"palette"}),mR=qA({prop:"borderRightColor",themeKey:"palette"}),yR=qA({prop:"borderBottomColor",themeKey:"palette"}),gR=qA({prop:"borderLeftColor",themeKey:"palette"}),bR=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=JA(e.theme,"shape.borderRadius",4);return FA(e,e.borderRadius,(function(e){return{borderRadius:eR(t,e)}}))}return null};bR.propTypes={},bR.filterProps=["borderRadius"];uR(cR,lR,fR,dR,hR,pR,vR,mR,yR,gR,bR);var kR=function(e){if(void 0!==e.gap&&null!==e.gap){var t=JA(e.theme,"spacing",8);return FA(e,e.gap,(function(e){return{gap:eR(t,e)}}))}return null};kR.propTypes={},kR.filterProps=["gap"];var wR=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=JA(e.theme,"spacing",8);return FA(e,e.columnGap,(function(e){return{columnGap:eR(t,e)}}))}return null};wR.propTypes={},wR.filterProps=["columnGap"];var xR=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=JA(e.theme,"spacing",8);return FA(e,e.rowGap,(function(e){return{rowGap:eR(t,e)}}))}return null};xR.propTypes={},xR.filterProps=["rowGap"];uR(kR,wR,xR,qA({prop:"gridColumn"}),qA({prop:"gridRow"}),qA({prop:"gridAutoFlow"}),qA({prop:"gridAutoColumns"}),qA({prop:"gridAutoRows"}),qA({prop:"gridTemplateColumns"}),qA({prop:"gridTemplateRows"}),qA({prop:"gridTemplateAreas"}),qA({prop:"gridArea"}));function SR(e,t){return"grey"===t?t:e}uR(qA({prop:"color",themeKey:"palette",transform:SR}),qA({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:SR}),qA({prop:"backgroundColor",themeKey:"palette",transform:SR}));function IR(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var ER=qA({prop:"width",transform:IR}),_R=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return FA(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||MA[t]||IR(t)}}))}return null};_R.filterProps=["maxWidth"];var TR=qA({prop:"minWidth",transform:IR}),CR=qA({prop:"height",transform:IR}),AR=qA({prop:"maxHeight",transform:IR}),RR=qA({prop:"minHeight",transform:IR}),NR=(qA({prop:"size",cssProperty:"width",transform:IR}),qA({prop:"size",cssProperty:"height",transform:IR}),uR(ER,_R,TR,CR,AR,RR,qA({prop:"boxSizing"})),{border:{themeKey:"borders",transform:sR},borderTop:{themeKey:"borders",transform:sR},borderRight:{themeKey:"borders",transform:sR},borderBottom:{themeKey:"borders",transform:sR},borderLeft:{themeKey:"borders",transform:sR},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:bR},color:{themeKey:"palette",transform:SR},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:SR},backgroundColor:{themeKey:"palette",transform:SR},p:{style:iR},pt:{style:iR},pr:{style:iR},pb:{style:iR},pl:{style:iR},px:{style:iR},py:{style:iR},padding:{style:iR},paddingTop:{style:iR},paddingRight:{style:iR},paddingBottom:{style:iR},paddingLeft:{style:iR},paddingX:{style:iR},paddingY:{style:iR},paddingInline:{style:iR},paddingInlineStart:{style:iR},paddingInlineEnd:{style:iR},paddingBlock:{style:iR},paddingBlockStart:{style:iR},paddingBlockEnd:{style:iR},m:{style:rR},mt:{style:rR},mr:{style:rR},mb:{style:rR},ml:{style:rR},mx:{style:rR},my:{style:rR},margin:{style:rR},marginTop:{style:rR},marginRight:{style:rR},marginBottom:{style:rR},marginLeft:{style:rR},marginX:{style:rR},marginY:{style:rR},marginInline:{style:rR},marginInlineStart:{style:rR},marginInlineEnd:{style:rR},marginBlock:{style:rR},marginBlockStart:{style:rR},marginBlockEnd:{style:rR},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:kR},rowGap:{style:xR},columnGap:{style:wR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:IR},maxWidth:{style:_R},minWidth:{transform:IR},height:{transform:IR},maxHeight:{transform:IR},minHeight:{transform:IR},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var PR=function(){function e(e,t,n,r){var i,a=(Qe(i={},e,t),Qe(i,"theme",n),i),o=r[e];if(!o)return Qe({},e,t);var u=o.cssProperty,s=void 0===u?e:u,c=o.themeKey,l=o.transform,f=o.style;if(null==t)return null;var d=zA(n,c)||{};if(f)return f(a);return FA(a,t,(function(t){var n=BA(d,l,t);return t===n&&"string"===typeof t&&(n=BA(d,l,"".concat(e).concat("default"===t?"":UA(t)),t)),!1===s?n:Qe({},s,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:NR;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=VA(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=WA(o,e(n,c,u,s));else{var l=FA({theme:u},c,(function(e){return Qe({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=WA(o,l):o[n]=t({sx:c,theme:u})}else o=WA(o,e(n,c,u,s))})),jA(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();PR.filterProps=["sx"];var DR=PR,OR=["breakpoints","palette","spacing","shape"];var MR=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=pA(e,OR),c=DA(n),l=oR(a),f=NA({breakpoints:c,direction:"ltr",components:{},palette:PT({mode:"light"},i),spacing:l,shape:PT({},OA,u)},s),d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return(f=h.reduce((function(e,t){return NA(e,t)}),f)).unstable_sxConfig=PT({},NR,null==s?void 0:s.unstable_sxConfig),f.unstable_sx=function(e){return DR({sx:e,theme:this})},f},LR=["variant"];function FR(e){return 0===e.length}function VR(e){var t=e.variant,n=pA(e,LR),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?FR(r)?e[t]:UA(e[t]):"".concat(FR(r)?t:UA(t)).concat(UA(e[t].toString()))})),r}var jR=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],UR=["theme"],zR=["theme"];function BR(e){return 0===Object.keys(e).length}function qR(e){return"string"===typeof e&&e.charCodeAt(0)>96}var WR=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},KR=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=VR(e.props);r[t]=e.style})),r},HR=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[VR(n.props)])})),s};function GR(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var QR=MR();function $R(e,t){var n;return PT({toolbar:(n={minHeight:56},Qe(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Qe(n,e.up("sm"),{minHeight:64}),n)},t)}var YR={black:"#000",white:"#fff"},XR={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},JR={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ZR={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},eN={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},tN={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},nN={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},rN={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},iN=["mode","contrastThreshold","tonalOffset"],aN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:YR.white,default:YR.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},oN={text:{primary:YR.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:YR.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function uN(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=_A(e.main,i):"dark"===t&&(e.dark=EA(e.main,a)))}function sN(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=pA(e,iN),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tN[200],light:tN[50],dark:tN[400]}:{main:tN[700],light:tN[400],dark:tN[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:JR[200],light:JR[50],dark:JR[400]}:{main:JR[500],light:JR[300],dark:JR[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ZR[500],light:ZR[300],dark:ZR[700]}:{main:ZR[700],light:ZR[400],dark:ZR[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nN[400],light:nN[300],dark:nN[700]}:{main:nN[700],light:nN[500],dark:nN[900]}}(n),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rN[400],light:rN[300],dark:rN[700]}:{main:rN[800],light:rN[500],dark:rN[900]}}(n),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:eN[400],light:eN[300],dark:eN[700]}:{main:"#ed6c02",light:eN[500],dark:eN[900]}}(n);function p(e){var t=function(e,t){var n=SA(e),r=SA(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,oN.text.primary)>=i?oN.text.primary:aN.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=PT({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(bA(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(bA(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return uN(t,"light",u,o),uN(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:oN,light:aN};return NA(PT({common:PT({},YR),mode:n,primary:v({color:s,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:XR,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},m[n]),u)}var cN=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var lN={textTransform:"uppercase"},fN='"Roboto", "Helvetica", "Arial", sans-serif';function dN(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?fN:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,d=void 0===f?500:f,h=n.fontWeightBold,p=void 0===h?700:h,v=n.htmlFontSize,m=void 0===v?16:v,y=n.allVariants,g=n.pxToRem,b=pA(n,cN);var k=o/14,w=g||function(e){return"".concat(e/m*k,"rem")},x=function(e,t,n,r,a){return PT({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===fN?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},S={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(d,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(d,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(d,14,1.75,.4,lN),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,lN)};return NA(PT({htmlFontSize:m,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:p},S),b,{clone:!1})}function hN(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var pN=["none",hN(0,2,1,-1,0,1,1,0,0,1,3,0),hN(0,3,1,-2,0,2,2,0,0,1,5,0),hN(0,3,3,-2,0,3,4,0,0,1,8,0),hN(0,2,4,-1,0,4,5,0,0,1,10,0),hN(0,3,5,-1,0,5,8,0,0,1,14,0),hN(0,3,5,-1,0,6,10,0,0,1,18,0),hN(0,4,5,-2,0,7,10,1,0,2,16,1),hN(0,5,5,-3,0,8,10,1,0,3,14,2),hN(0,5,6,-3,0,9,12,1,0,3,16,2),hN(0,6,6,-3,0,10,14,1,0,4,18,3),hN(0,6,7,-4,0,11,15,1,0,4,20,3),hN(0,7,8,-4,0,12,17,2,0,5,22,4),hN(0,7,8,-4,0,13,19,2,0,5,24,4),hN(0,7,9,-4,0,14,21,2,0,5,26,4),hN(0,8,9,-5,0,15,22,2,0,6,28,5),hN(0,8,10,-5,0,16,24,2,0,6,30,5),hN(0,8,11,-5,0,17,26,2,0,6,32,5),hN(0,9,11,-5,0,18,28,2,0,7,34,6),hN(0,9,12,-6,0,19,29,2,0,7,36,6),hN(0,10,13,-6,0,20,31,3,0,8,38,7),hN(0,10,13,-6,0,21,33,3,0,8,40,7),hN(0,10,14,-6,0,22,35,3,0,8,42,7),hN(0,11,14,-7,0,23,36,3,0,9,44,8),hN(0,11,15,-7,0,24,38,3,0,9,46,8)],vN=["duration","easing","delay"],mN={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},yN={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gN(e){return"".concat(Math.round(e),"ms")}function bN(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function kN(e){var t=PT({},mN,e.easing),n=PT({},yN,e.duration);return PT({getAutoHeightDuration:bN,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;pA(r,vN);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:gN(a)," ").concat(u," ").concat("string"===typeof c?c:gN(c))})).join(",")}},e,{easing:t,duration:n})}var wN={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},xN=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function SN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=pA(e,xN);if(e.vars)throw new Error(bA(18));var l=sN(i),f=MR(e),d=NA(f,{mixins:$R(f.breakpoints,n),palette:l,shadows:pN.slice(),typography:dN(l,s),transitions:kN(o),zIndex:PT({},wN)});d=NA(d,c);for(var h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return(d=p.reduce((function(e,t){return NA(e,t)}),d)).unstable_sxConfig=PT({},NR,null==c?void 0:c.unstable_sxConfig),d.unstable_sx=function(e){return DR({sx:e,theme:this})},d}var IN=SN,EN=IN(),_N=function(e){return GR(e)&&"classes"!==e},TN=GR,CN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?QR:t,r=e.rootShouldForwardProp,i=void 0===r?GR:r,a=e.slotShouldForwardProp,o=void 0===a?GR:a,u=function(e){var t=BR(e.theme)?n:e.theme;return DR(PT({},e,{theme:t}))};return u.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};CA(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r,a=t.name,s=t.slot,c=t.skipVariantsResolver,l=t.skipSx,d=t.overridesResolver,p=pA(t,jR),v=void 0!==c?c:s&&"Root"!==s||!1,m=l||!1;var y=GR;"Root"===s?y=i:s?y=o:qR(e)&&(y=void 0);var g=TA(e,PT({shouldForwardProp:y,label:r},p)),b=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=pA(t,UR);return e(PT({theme:BR(r)?n:r},i))}:e})):[],s=e;a&&d&&o.push((function(e){var t=BR(e.theme)?n:e.theme,r=WR(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=f(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o(PT({},e,{theme:t})):o})),d(e,i)}return null})),a&&!v&&o.push((function(e){var t=BR(e.theme)?n:e.theme;return HR(e,KR(a,t),t,a)})),m||o.push(u);var c=o.length-r.length;if(Array.isArray(e)&&c>0){var l=new Array(c).fill("");(s=[].concat(h(e),h(l))).raw=[].concat(h(e.raw),h(l))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=pA(t,zR);return e(PT({theme:BR(r)?n:r},i))});var p=g.apply(void 0,[s].concat(h(o)));return p};return g.withConfig&&(b.withConfig=g.withConfig),b}}({defaultTheme:EN,rootShouldForwardProp:_N}),AN=CN;var RN=r.createContext(null);function NN(){return r.useContext(RN)}function PN(e){return 0===Object.keys(e).length}var DN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=NN();return!t||PN(t)?e:t},ON=MR();var MN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ON;return DN(e)};function LN(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?yA(t.components[n].defaultProps,r):r}({theme:MN(r),name:n,props:t});return i}function FN(e){return LN({props:e.props,name:e.name,defaultTheme:EN})}function VN(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function jN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){VN(t,e)}))}}),t)}var UN=jN,zN="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function BN(e){var t=r.useRef(e);return zN((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}var qN,WN=BN,KN=!0,HN=!1,GN={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function QN(e){e.metaKey||e.altKey||e.ctrlKey||(KN=!0)}function $N(){KN=!1}function YN(){"hidden"===this.visibilityState&&HN&&(KN=!0)}function XN(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return KN||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!GN[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var JN=function(){var e=r.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",QN,!0),t.addEventListener("mousedown",$N,!0),t.addEventListener("pointerdown",$N,!0),t.addEventListener("touchstart",$N,!0),t.addEventListener("visibilitychange",YN,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!XN(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(HN=!0,window.clearTimeout(qN),qN=window.setTimeout((function(){HN=!1}),100),t.current=!1,!0)},ref:e}};function ZN(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function eP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}var tP=r.createContext(null);function nP(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function rP(e,t,n){return null!=n[t]?n[t]:e.props[t]}function iP(e,t,n){var i=nP(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,r.isValidElement)(u)){var s=o in t,c=o in i,l=t[o],f=(0,r.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,r.isValidElement)(l)&&(a[o]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:rP(u,"exit",e),enter:rP(u,"enter",e)})):a[o]=(0,r.cloneElement)(u,{in:!1}):a[o]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:rP(u,"exit",e),enter:rP(u,"enter",e)})}})),a}var aP=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},oP=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(S(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}eP(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,i=o,nP(n.children,(function(e){return(0,r.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:rP(e,"appear",n),enter:rP(e,"enter",n),exit:rP(e,"exit",n)})}))):iP(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=nP(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=PT({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=pA(e,["component","childFactory"]),a=this.state.contextValue,o=aP(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.createElement(tP.Provider,{value:a},o):r.createElement(tP.Provider,{value:a},r.createElement(t,i,o))},t}(r.Component);oP.propTypes={},oP.defaultProps={component:"div",childFactory:function(e){return e}};var uP=oP,sP=(n(110),tA((function(e,t){var n=e.styles,i=YC([n],void 0,(0,r.useContext)(nA)),a=(0,r.useRef)();return ZC((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),a.current=[n,r],function(){n.flush()}}),[t]),ZC((function(){var e=a.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&aA(t,i.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",i,n,!1)}}),[t,i.name]),null})));function cP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YC(t)}var lP=function(){var e=cP.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var fP=n(184);var dP=function(e){var t=e.className,n=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,d=e.timeout,h=f(r.useState(!1),2),p=h[0],v=h[1],m=mA(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=mA(n.child,p&&n.childLeaving,a&&n.childPulsate);return c||p||v(!0),r.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,d);return function(){clearTimeout(e)}}}),[l,c,d]),(0,fP.jsx)("span",{className:m,style:y,children:(0,fP.jsx)("span",{className:g})})},hP=function(e){return e},pP=function(){var e=hP;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=hP}}}(),vP={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function mP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=vP[t];return r?"".concat(n,"-").concat(r):"".concat(pP.generate(e),"-").concat(t)}function yP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=mP(e,t,n)})),r}var gP,bP,kP,wP,xP,SP,IP,EP,_P=yP("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),TP=["center","classes","className"],CP=lP(xP||(xP=gP||(gP=ZN(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),AP=lP(SP||(SP=bP||(bP=ZN(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),RP=lP(IP||(IP=kP||(kP=ZN(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),NP=AN("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),PP=AN(dP,{name:"MuiTouchRipple",slot:"Ripple"})(EP||(EP=wP||(wP=ZN(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),_P.rippleVisible,CP,550,(function(e){return e.theme.transitions.easing.easeInOut}),_P.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),_P.child,_P.childLeaving,AP,550,(function(e){return e.theme.transitions.easing.easeInOut}),_P.childPulsate,RP,(function(e){return e.theme.transitions.easing.easeInOut})),DP=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiTouchRipple"}),i=n.center,a=void 0!==i&&i,o=n.classes,u=void 0===o?{}:o,s=n.className,c=pA(n,TP),l=f(r.useState([]),2),d=l[0],p=l[1],v=r.useRef(0),m=r.useRef(null);r.useEffect((function(){m.current&&(m.current(),m.current=null)}),[d]);var y=r.useRef(!1),g=r.useRef(null),b=r.useRef(null),k=r.useRef(null);r.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var w=r.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;p((function(e){return[].concat(h(e),[(0,fP.jsx)(PP,{classes:{ripple:mA(u.ripple,_P.ripple),rippleVisible:mA(u.rippleVisible,_P.rippleVisible),ripplePulsate:mA(u.ripplePulsate,_P.ripplePulsate),child:mA(u.child,_P.child),childLeaving:mA(u.childLeaving,_P.childLeaving),childPulsate:mA(u.childPulsate,_P.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,m.current=a}),[u]),x=r.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&y.current)y.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(y.current=!0);var l,f,d,h=c?null:k.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,x=v.clientY;l=Math.round(m-p.left),f=Math.round(x-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var S=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,I=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(S,2)+Math.pow(I,2))}null!=e&&e.touches?null===b.current&&(b.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},g.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,w]),S=r.useCallback((function(){x({},{pulsate:!0})}),[x]),I=r.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===(null==e?void 0:e.type)&&b.current)return b.current(),b.current=null,void(g.current=setTimeout((function(){I(e,t)})));b.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return r.useImperativeHandle(t,(function(){return{pulsate:S,start:x,stop:I}}),[S,x,I]),(0,fP.jsx)(NP,PT({className:mA(_P.root,u.root,s),ref:k},c,{children:(0,fP.jsx)(uP,{component:null,exit:!0,children:d})}))})),OP=DP;function MP(e){return mP("MuiButtonBase",e)}var LP,FP=yP("MuiButtonBase",["root","disabled","focusVisible"]),VP=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],jP=AN("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Qe(LP={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(FP.disabled),{pointerEvents:"none",cursor:"default"}),Qe(LP,"@media print",{colorAdjust:"exact"}),LP)),UP=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiButtonBase"}),i=n.action,a=n.centerRipple,o=void 0!==a&&a,u=n.children,s=n.className,c=n.component,l=void 0===c?"button":c,d=n.disabled,h=void 0!==d&&d,p=n.disableRipple,v=void 0!==p&&p,m=n.disableTouchRipple,y=void 0!==m&&m,g=n.focusRipple,b=void 0!==g&&g,k=n.LinkComponent,w=void 0===k?"a":k,x=n.onBlur,S=n.onClick,I=n.onContextMenu,E=n.onDragLeave,_=n.onFocus,T=n.onFocusVisible,C=n.onKeyDown,A=n.onKeyUp,R=n.onMouseDown,N=n.onMouseLeave,P=n.onMouseUp,D=n.onTouchEnd,O=n.onTouchMove,M=n.onTouchStart,L=n.tabIndex,F=void 0===L?0:L,V=n.TouchRippleProps,j=n.touchRippleRef,U=n.type,z=pA(n,VP),B=r.useRef(null),q=r.useRef(null),W=UN(q,j),K=JN(),H=K.isFocusVisibleRef,G=K.onFocus,Q=K.onBlur,$=K.ref,Y=f(r.useState(!1),2),X=Y[0],J=Y[1];h&&X&&J(!1),r.useImperativeHandle(i,(function(){return{focusVisible:function(){J(!0),B.current.focus()}}}),[]);var Z=f(r.useState(!1),2),ee=Z[0],te=Z[1];r.useEffect((function(){te(!0)}),[]);var ne=ee&&!v&&!h;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return WN((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}r.useEffect((function(){X&&b&&!v&&ee&&q.current.pulsate()}),[v,b,X,ee]);var ie=re("start",R),ae=re("stop",I),oe=re("stop",E),ue=re("stop",P),se=re("stop",(function(e){X&&e.preventDefault(),N&&N(e)})),ce=re("start",M),le=re("stop",D),fe=re("stop",O),de=re("stop",(function(e){Q(e),!1===H.current&&J(!1),x&&x(e)}),!1),he=WN((function(e){B.current||(B.current=e.currentTarget),G(e),!0===H.current&&(J(!0),T&&T(e)),_&&_(e)})),pe=function(){var e=B.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ve=r.useRef(!1),me=WN((function(e){b&&!ve.current&&X&&q.current&&" "===e.key&&(ve.current=!0,q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!h&&(e.preventDefault(),S&&S(e))})),ye=WN((function(e){b&&" "===e.key&&q.current&&X&&!e.defaultPrevented&&(ve.current=!1,q.current.stop(e,(function(){q.current.pulsate(e)}))),A&&A(e),S&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&S(e)})),ge=l;"button"===ge&&(z.href||z.to)&&(ge=w);var be={};"button"===ge?(be.type=void 0===U?"button":U,be.disabled=h):(z.href||z.to||(be.role="button"),h&&(be["aria-disabled"]=h));var ke=UN(t,$,B);var we=PT({},n,{centerRipple:o,component:l,disabled:h,disableRipple:v,disableTouchRipple:y,focusRipple:b,tabIndex:F,focusVisible:X}),xe=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=gA({root:["root",t&&"disabled",n&&"focusVisible"]},MP,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(we);return(0,fP.jsxs)(jP,PT({as:ge,className:mA(xe.root,s),ownerState:we,onBlur:de,onClick:S,onContextMenu:ae,onFocus:he,onKeyDown:me,onKeyUp:ye,onMouseDown:ie,onMouseLeave:se,onMouseUp:ue,onDragLeave:oe,onTouchEnd:le,onTouchMove:fe,onTouchStart:ce,ref:ke,tabIndex:h?-1:F,type:U},be,z,{children:[u,ne?(0,fP.jsx)(OP,PT({ref:W,center:o},V)):null]}))})),zP=UP,BP=UA;function qP(e){return mP("MuiButton",e)}var WP=yP("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var KP=r.createContext({}),HP=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],GP=function(e){return PT({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},QP=AN(zP,{shouldForwardProp:function(e){return _N(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(BP(n.color))],t["size".concat(BP(n.size))],t["".concat(n.variant,"Size").concat(BP(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return PT({},i.typography.button,(Qe(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":PT({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):IA(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):IA(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):IA(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":PT({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(WP.focusVisible),PT({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),Qe(t,"&.".concat(WP.disabled),PT({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(IA(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(Qe(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(WP.focusVisible),{boxShadow:"none"}),Qe(t,"&:active",{boxShadow:"none"}),Qe(t,"&.".concat(WP.disabled),{boxShadow:"none"}),t)})),$P=AN("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(BP(n.size))]]}})((function(e){var t=e.ownerState;return PT({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},GP(t))})),YP=AN("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(BP(n.size))]]}})((function(e){var t=e.ownerState;return PT({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},GP(t))})),XP=r.forwardRef((function(e,t){var n=r.useContext(KP),i=FN({props:yA(n,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,f=i.disabled,d=void 0!==f&&f,h=i.disableElevation,p=void 0!==h&&h,v=i.disableFocusRipple,m=void 0!==v&&v,y=i.endIcon,g=i.focusVisibleClassName,b=i.fullWidth,k=void 0!==b&&b,w=i.size,x=void 0===w?"medium":w,S=i.startIcon,I=i.type,E=i.variant,_=void 0===E?"text":E,T=pA(i,HP),C=PT({},i,{color:u,component:c,disabled:d,disableElevation:p,disableFocusRipple:m,fullWidth:k,size:x,type:I,variant:_}),A=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return PT({},o,gA({root:["root",a,"".concat(a).concat(BP(t)),"size".concat(BP(i)),"".concat(a,"Size").concat(BP(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(BP(i))],endIcon:["endIcon","iconSize".concat(BP(i))]},qP,o))}(C),R=S&&(0,fP.jsx)($P,{className:A.startIcon,ownerState:C,children:S}),N=y&&(0,fP.jsx)(YP,{className:A.endIcon,ownerState:C,children:y});return(0,fP.jsxs)(QP,PT({ownerState:C,className:mA(n.className,A.root,l),component:c,disabled:d,focusRipple:!m,focusVisibleClassName:mA(A.focusVisible,g),ref:t,type:I},T,{classes:A,children:[R,a,N]}))})),JP=XP,ZP=hA.div((function(){return{display:"flex",alignItems:"center"}})),eD=hA(JP)((function(){return{input:{position:"absolute",width:"100%",height:40,opacity:0}}})),tD=n(164),nD=!1,rD="unmounted",iD="exited",aD="entering",oD="entered",uD="exiting",sD=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=iD,r.appearStatus=aD):i=oD:i=t.unmountOnExit||t.mountOnEnter?rD:iD,r.state={status:i},r.nextCallback=null,r}eP(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===rD?{status:iD}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==aD&&n!==oD&&(t=aD):n!==aD&&n!==oD||(t=uD)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===aD){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:tD.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===iD&&this.setState({status:rD})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[tD.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||nD?this.safeSetState({status:oD},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:aD},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:oD},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:tD.findDOMNode(this);t&&!nD?(this.props.onExit(r),this.safeSetState({status:uD},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:iD},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:iD},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:tD.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===rD)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,pA(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(tP.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function cD(){}sD.contextType=tP,sD.propTypes={},sD.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cD,onEntering:cD,onEntered:cD,onExit:cD,onExiting:cD,onExited:cD},sD.UNMOUNTED=rD,sD.EXITED=iD,sD.ENTERING=aD,sD.ENTERED=oD,sD.EXITING=uD;var lD=sD;function fD(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}var dD=fD;function hD(){return MN(EN)}var pD=function(e){return e.scrollTop};function vD(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}function mD(e){return e&&e.ownerDocument||document}function yD(e){return mD(e).defaultView||window}var gD=yD,bD=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function kD(e,t,n){var r,i=function(e,t,n){var r,i=t.getBoundingClientRect(),a=n&&n.getBoundingClientRect(),o=gD(t);if(t.fakeTransform)r=t.fakeTransform;else{var u=o.getComputedStyle(t);r=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}var s=0,c=0;if(r&&"none"!==r&&"string"===typeof r){var l=r.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),c=parseInt(l[5],10)}return"left"===e?"translateX(".concat(a?a.right+s-i.left:o.innerWidth+s-i.left,"px)"):"right"===e?"translateX(-".concat(a?i.right-a.left-s:i.left+i.width-s,"px)"):"up"===e?"translateY(".concat(a?a.bottom+c-i.top:o.innerHeight+c-i.top,"px)"):"translateY(-".concat(a?i.top-a.top+i.height-c:i.top+i.height-c,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}var wD=r.forwardRef((function(e,t){var n=hD(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},o=e.addEndListener,u=e.appear,s=void 0===u||u,c=e.children,l=e.container,f=e.direction,d=void 0===f?"down":f,h=e.easing,p=void 0===h?i:h,v=e.in,m=e.onEnter,y=e.onEntered,g=e.onEntering,b=e.onExit,k=e.onExited,w=e.onExiting,x=e.style,S=e.timeout,I=void 0===S?a:S,E=e.TransitionComponent,_=void 0===E?lD:E,T=pA(e,bD),C=r.useRef(null),A=UN(c.ref,C,t),R=function(e){return function(t){e&&(void 0===t?e(C.current):e(C.current,t))}},N=R((function(e,t){kD(d,e,l),pD(e),m&&m(e,t)})),P=R((function(e,t){var r=vD({timeout:I,style:x,easing:p},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",PT({},r)),e.style.transition=n.transitions.create("transform",PT({},r)),e.style.webkitTransform="none",e.style.transform="none",g&&g(e,t)})),D=R(y),O=R(w),M=R((function(e){var t=vD({timeout:I,style:x,easing:p},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),kD(d,e,l),b&&b(e)})),L=R((function(e){e.style.webkitTransition="",e.style.transition="",k&&k(e)})),F=r.useCallback((function(){C.current&&kD(d,C.current,l)}),[d,l]);return r.useEffect((function(){if(!v&&"down"!==d&&"right"!==d){var e=dD((function(){C.current&&kD(d,C.current,l)})),t=gD(C.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[d,v,l]),r.useEffect((function(){v||F()}),[v,F]),(0,fP.jsx)(_,PT({nodeRef:C,onEnter:N,onEntered:D,onEntering:P,onExit:M,onExited:L,onExiting:O,addEndListener:function(e){o&&o(C.current,e)},appear:s,in:v,timeout:I},T,{children:function(e,t){return r.cloneElement(c,PT({ref:A,style:PT({visibility:"exited"!==e||v?void 0:"hidden"},x,c.props.style)},t))}}))})),xD=wD,SD=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function ID(e){return mP("MuiPaper",e)}yP("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var ED=["className","component","elevation","square","variant"],_D=AN("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return PT({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&PT({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(IA("#fff",SD(r.elevation)),", ").concat(IA("#fff",SD(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),TD=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,l=n.variant,f=void 0===l?"elevation":l,d=pA(n,ED),h=PT({},n,{component:a,elevation:u,square:c,variant:f}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return gA({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},ID,i)}(h);return(0,fP.jsx)(_D,PT({as:a,ownerState:h,className:mA(p.root,r),ref:t},d))})),CD=TD;function AD(e){return mP("MuiAlert",e)}var RD=yP("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function ND(e){return mP("MuiIconButton",e)}var PD=yP("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),DD=["edge","children","className","color","disabled","disableFocusRipple","size"],OD=AN(zP,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(BP(n.color))],n.edge&&t["edge".concat(BP(n.edge))],t["size".concat(BP(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return PT({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):IA(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t,n=e.theme,r=e.ownerState,i=null==(t=(n.vars||n).palette)?void 0:t[r.color];return PT({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&PT({color:null==i?void 0:i.main},!r.disableRipple&&{"&:hover":PT({},i&&{backgroundColor:n.vars?"rgba(".concat(i.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):IA(i.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:n.typography.pxToRem(28)},Qe({},"&.".concat(PD.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),MD=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,u=n.color,s=void 0===u?"default":u,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,d=void 0!==f&&f,h=n.size,p=void 0===h?"medium":h,v=pA(n,DD),m=PT({},n,{edge:i,color:s,disabled:l,disableFocusRipple:d,size:p}),y=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size;return gA({root:["root",n&&"disabled","default"!==r&&"color".concat(BP(r)),i&&"edge".concat(BP(i)),"size".concat(BP(a))]},ND,t)}(m);return(0,fP.jsx)(OD,PT({className:mA(y.root,o),centerRipple:!0,focusRipple:!d,disabled:l,ref:t,ownerState:m},v,{children:a}))})),LD=MD;function FD(e){return mP("MuiSvgIcon",e)}yP("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var VD=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jD=AN("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(BP(n.color))],t["fontSize".concat(BP(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,y,g=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[b.fontSize],color:null!=(f=null==(d=(g.vars||g).palette)||null==(h=d[b.color])?void 0:h.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[b.color]}})),UD=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,d=n.inheritViewBox,h=void 0!==d&&d,p=n.titleAccess,v=n.viewBox,m=void 0===v?"0 0 24 24":v,y=pA(n,VD),g=PT({},n,{color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:m}),b={};h||(b.viewBox=m);var k=function(e){var t=e.color,n=e.fontSize,r=e.classes;return gA({root:["root","inherit"!==t&&"color".concat(BP(t)),"fontSize".concat(BP(n))]},FD,r)}(g);return(0,fP.jsxs)(jD,PT({as:s,className:mA(k.root,i),focusable:"false",color:f,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},b,y,{ownerState:g,children:[r,p?(0,fP.jsx)("title",{children:p}):null]}))}));UD.muiName="SvgIcon";var zD=UD;function BD(e,t){function n(n,r){return(0,fP.jsx)(zD,PT({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=zD.muiName,r.memo(r.forwardRef(n))}var qD=BD((0,fP.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),WD=BD((0,fP.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),KD=BD((0,fP.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),HD=BD((0,fP.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),GD=BD((0,fP.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),QD=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],$D=AN(CD,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(BP(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?EA:_A,i="light"===t.palette.mode?_A:EA,a=n.color||n.severity;return PT({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&"standard"===n.variant&&Qe({color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:i(t.palette[a].light,.9)},"& .".concat(RD.icon),t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}),a&&"outlined"===n.variant&&Qe({color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),border:"1px solid ".concat((t.vars||t).palette[a].light)},"& .".concat(RD.icon),t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}),a&&"filled"===n.variant&&PT({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(a,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(a,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText(t.palette[a].main)}))})),YD=AN("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),XD=AN("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0",minWidth:0,overflow:"auto"}),JD=AN("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ZD={success:(0,fP.jsx)(qD,{fontSize:"inherit"}),warning:(0,fP.jsx)(WD,{fontSize:"inherit"}),error:(0,fP.jsx)(KD,{fontSize:"inherit"}),info:(0,fP.jsx)(HD,{fontSize:"inherit"})},eO=r.forwardRef((function(e,t){var n,r,i,a,o,u,s=FN({props:e,name:"MuiAlert"}),c=s.action,l=s.children,f=s.className,d=s.closeText,h=void 0===d?"Close":d,p=s.color,v=s.components,m=void 0===v?{}:v,y=s.componentsProps,g=void 0===y?{}:y,b=s.icon,k=s.iconMapping,w=void 0===k?ZD:k,x=s.onClose,S=s.role,I=void 0===S?"alert":S,E=s.severity,_=void 0===E?"success":E,T=s.slotProps,C=void 0===T?{}:T,A=s.slots,R=void 0===A?{}:A,N=s.variant,P=void 0===N?"standard":N,D=pA(s,QD),O=PT({},s,{color:p,severity:_,variant:P}),M=function(e){var t=e.variant,n=e.color,r=e.severity,i=e.classes;return gA({root:["root","".concat(t).concat(BP(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},AD,i)}(O),L=null!=(n=null!=(r=R.closeButton)?r:m.CloseButton)?n:LD,F=null!=(i=null!=(a=R.closeIcon)?a:m.CloseIcon)?i:GD,V=null!=(o=C.closeButton)?o:g.closeButton,j=null!=(u=C.closeIcon)?u:g.closeIcon;return(0,fP.jsxs)($D,PT({role:I,elevation:0,ownerState:O,className:mA(M.root,f),ref:t},D,{children:[!1!==b?(0,fP.jsx)(YD,{ownerState:O,className:M.icon,children:b||w[_]||ZD[_]}):null,(0,fP.jsx)(XD,{ownerState:O,className:M.message,children:l}),null!=c?(0,fP.jsx)(JD,{ownerState:O,className:M.action,children:c}):null,null==c&&x?(0,fP.jsx)(JD,{ownerState:O,className:M.action,children:(0,fP.jsx)(L,PT({size:"small","aria-label":h,title:h,color:"inherit",onClick:x},V,{children:(0,fP.jsx)(F,PT({fontSize:"small"},j))}))}):null]}))})),tO=eO,nO=0;var rO=i.useId;function iO(e){if(void 0!==rO){var t=rO();return null!=e?e:t}return function(e){var t=f(r.useState(e),2),n=t[0],i=t[1],a=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(nO+=1))}),[n]),a}(e)}function aO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var oO=r.forwardRef((function(e,t){var n=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=f(r.useState(null),2),s=u[0],c=u[1],l=jN(r.isValidElement(n)?n.ref:null,t);if(zN((function(){o||c(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),zN((function(){if(s&&!o)return VN(t,s),function(){VN(t,null)}}),[t,s,o]),o){if(r.isValidElement(n)){var d={ref:l};return r.cloneElement(n,d)}return(0,fP.jsx)(r.Fragment,{children:n})}return(0,fP.jsx)(r.Fragment,{children:s?tD.createPortal(n,s):s})}));function uO(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function sO(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function cO(e){return parseInt(yD(e).getComputedStyle(e).paddingRight,10)||0}function lO(e,t,n,r,i){var a=[t,n].concat(h(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&sO(e,i)}))}function fO(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function dO(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=mD(e);return t.body===e?yD(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=uO(mD(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(cO(r)+i,"px");var a=mD(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(cO(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=mD(r).body;else{var u=r.parentElement,s=yD(r);o="HTML"===(null==u?void 0:u.nodeName)&&"scroll"===s.getComputedStyle(u).overflowY?u:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var hO=function(){function e(){p(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return g(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&sO(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);lO(t,e.mount,e.modalRef,r,!0);var i=fO(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=fO(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=dO(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=fO(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&sO(e.modalRef,t),lO(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&sO(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),pO=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function vO(e){var t=[],n=[];return Array.from(e.querySelectorAll(pO)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function mO(){return!0}var yO=function(e){var t=e.children,n=e.disableAutoFocus,i=void 0!==n&&n,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?vO:c,f=e.isEnabled,d=void 0===f?mO:f,h=e.open,p=r.useRef(!1),v=r.useRef(null),m=r.useRef(null),y=r.useRef(null),g=r.useRef(null),b=r.useRef(!1),k=r.useRef(null),w=jN(t.ref,k),x=r.useRef(null);r.useEffect((function(){h&&k.current&&(b.current=!i)}),[i,h]),r.useEffect((function(){if(h&&k.current){var e=mD(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex","-1"),b.current&&k.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[h]),r.useEffect((function(){if(h&&k.current){var e=mD(k.current),t=function(t){var n=k.current;if(null!==n)if(e.hasFocus()&&!o&&d()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(k.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];"string"!==typeof s&&"string"!==typeof c&&(u?c.focus():s.focus())}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(p.current=!0,m.current&&m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&t(null)}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,d,h,l]);var S=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,fP.jsxs)(r.Fragment,{children:[(0,fP.jsx)("div",{tabIndex:h?0:-1,onFocus:S,ref:v,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,g.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,fP.jsx)("div",{tabIndex:h?0:-1,onFocus:S,ref:m,"data-testid":"sentinelEnd"})]})};function gO(e){return mP("MuiModal",e)}yP("MuiModal",["root","hidden","backdrop"]);function bO(e){return"string"===typeof e}function kO(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function wO(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,a=e.className;if(!t){var o=mA(null==i?void 0:i.className,null==r?void 0:r.className,a,null==n?void 0:n.className),u=PT({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=PT({},n,i,r);return o.length>0&&(s.className=o),Object.keys(u).length>0&&(s.style=u),{props:s,internalRef:void 0}}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}(PT({},i,r)),l=kO(r),f=kO(i),d=t(c),h=mA(null==d?void 0:d.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),p=PT({},null==d?void 0:d.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),v=PT({},d,n,f,l);return h.length>0&&(v.className=h),Object.keys(p).length>0&&(v.style=p),{props:v,internalRef:d.ref}}function xO(e,t){return"function"===typeof e?e(t):e}var SO=["elementType","externalSlotProps","ownerState"];function IO(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,a=pA(e,SO),o=xO(r,i),u=wO(PT({},a,{externalSlotProps:o})),s=function(e,t,n){return void 0===e||bO(e)?t:PT({},t,{ownerState:PT({},t.ownerState,n)})}(n,PT({},u.props,{ref:jN(u.internalRef,null==o?void 0:o.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i);return s}var EO=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"];var _O=new hO,TO=r.forwardRef((function(e,t){var n,i,a=e.children,o=e.closeAfterTransition,u=void 0!==o&&o,s=e.component,c=e.container,l=e.disableAutoFocus,d=void 0!==l&&l,h=e.disableEnforceFocus,p=void 0!==h&&h,v=e.disableEscapeKeyDown,m=void 0!==v&&v,y=e.disablePortal,g=void 0!==y&&y,b=e.disableRestoreFocus,k=void 0!==b&&b,w=e.disableScrollLock,x=void 0!==w&&w,S=e.hideBackdrop,I=void 0!==S&&S,E=e.keepMounted,_=void 0!==E&&E,T=e.manager,C=void 0===T?_O:T,A=e.onBackdropClick,R=e.onClose,N=e.onKeyDown,P=e.open,D=e.onTransitionEnter,O=e.onTransitionExited,M=e.slotProps,L=void 0===M?{}:M,F=e.slots,V=void 0===F?{}:F,j=pA(e,EO),U=f(r.useState(!P),2),z=U[0],B=U[1],q=r.useRef({}),W=r.useRef(null),K=r.useRef(null),H=jN(K,t),G=function(e){return!!e&&e.props.hasOwnProperty("in")}(a),Q=null==(n=e["aria-hidden"])||n,$=function(){return q.current.modalRef=K.current,q.current.mountNode=W.current,q.current},Y=function(){C.mount($(),{disableScrollLock:x}),K.current&&(K.current.scrollTop=0)},X=BN((function(){var e=function(e){return"function"===typeof e?e():e}(c)||mD(W.current).body;C.add($(),e),K.current&&Y()})),J=r.useCallback((function(){return C.isTopModal($())}),[C]),Z=BN((function(e){W.current=e,e&&K.current&&(P&&J()?Y():sO(K.current,Q))})),ee=r.useCallback((function(){C.remove($(),Q)}),[C,Q]);r.useEffect((function(){return function(){ee()}}),[ee]),r.useEffect((function(){P?X():G&&u||ee()}),[P,ee,G,u,X]);var te=PT({},e,{closeAfterTransition:u,disableAutoFocus:d,disableEnforceFocus:p,disableEscapeKeyDown:m,disablePortal:g,disableRestoreFocus:k,disableScrollLock:x,exited:z,hideBackdrop:I,keepMounted:_}),ne=function(e){var t=e.open,n=e.exited;return gA({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},gO,void 0)}(te),re={};void 0===a.props.tabIndex&&(re.tabIndex="-1"),G&&(re.onEnter=aO((function(){B(!1),D&&D()}),a.props.onEnter),re.onExited=aO((function(){B(!0),O&&O(),u&&ee()}),a.props.onExited));var ie=null!=(i=null!=s?s:V.root)?i:"div",ae=IO({elementType:ie,externalSlotProps:L.root,externalForwardedProps:j,additionalProps:{ref:H,role:"presentation",onKeyDown:function(e){N&&N(e),"Escape"===e.key&&J()&&(m||(e.stopPropagation(),R&&R(e,"escapeKeyDown")))}},className:ne.root,ownerState:te}),oe=V.backdrop,ue=IO({elementType:oe,externalSlotProps:L.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(A&&A(e),R&&R(e,"backdropClick"))},open:P},className:ne.backdrop,ownerState:te});return _||P||G&&!z?(0,fP.jsx)(oO,{ref:Z,container:c,disablePortal:g,children:(0,fP.jsxs)(ie,PT({},ae,{children:[!I&&oe?(0,fP.jsx)(oe,PT({},ue)):null,(0,fP.jsx)(yO,{disableEnforceFocus:p,disableAutoFocus:d,disableRestoreFocus:k,isEnabled:J,open:P,children:r.cloneElement(a,re)})]}))}):null})),CO=TO,AO=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],RO={entering:{opacity:1},entered:{opacity:1}},NO=r.forwardRef((function(e,t){var n=hD(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,l=e.in,f=e.onEnter,d=e.onEntered,h=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?i:g,k=e.TransitionComponent,w=void 0===k?lD:k,x=pA(e,AO),S=r.useRef(null),I=UN(S,s.ref,t),E=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},_=E(h),T=E((function(e,t){pD(e);var r=vD({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),f&&f(e,t)})),C=E(d),A=E(m),R=E((function(e){var t=vD({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),N=E(v);return(0,fP.jsx)(w,PT({appear:u,in:l,nodeRef:S,onEnter:T,onEntered:C,onEntering:_,onExit:R,onExited:N,onExiting:A,addEndListener:function(e){a&&a(S.current,e)},timeout:b},x,{children:function(e,t){return r.cloneElement(s,PT({style:PT({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},RO[e],y,s.props.style),ref:I},t))}}))})),PO=NO;function DO(e){return mP("MuiBackdrop",e)}yP("MuiBackdrop",["root","invisible"]);var OO=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],MO=AN("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return PT({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),LO=r.forwardRef((function(e,t){var n,r,i,a=FN({props:e,name:"MuiBackdrop"}),o=a.children,u=a.className,s=a.component,c=void 0===s?"div":s,l=a.components,f=void 0===l?{}:l,d=a.componentsProps,h=void 0===d?{}:d,p=a.invisible,v=void 0!==p&&p,m=a.open,y=a.slotProps,g=void 0===y?{}:y,b=a.slots,k=void 0===b?{}:b,w=a.TransitionComponent,x=void 0===w?PO:w,S=a.transitionDuration,I=pA(a,OO),E=PT({},a,{component:c,invisible:v}),_=function(e){var t=e.classes;return gA({root:["root",e.invisible&&"invisible"]},DO,t)}(E),T=null!=(n=g.root)?n:h.root;return(0,fP.jsx)(x,PT({in:m,timeout:S},I,{children:(0,fP.jsx)(MO,PT({"aria-hidden":!0},T,{as:null!=(r=null!=(i=k.root)?i:f.Root)?r:c,className:mA(_.root,u,null==T?void 0:T.className),ownerState:PT({},E,null==T?void 0:T.ownerState),classes:_,ref:t,children:o}))}))})),FO=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],VO=AN("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return PT({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),jO=AN(LO,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),UO=r.forwardRef((function(e,t){var n,i,a,o,u,s,c=FN({name:"MuiModal",props:e}),l=c.BackdropComponent,d=void 0===l?jO:l,h=c.BackdropProps,p=c.classes,v=c.className,m=c.closeAfterTransition,y=void 0!==m&&m,g=c.children,b=c.component,k=c.components,w=void 0===k?{}:k,x=c.componentsProps,S=void 0===x?{}:x,I=c.disableAutoFocus,E=void 0!==I&&I,_=c.disableEnforceFocus,T=void 0!==_&&_,C=c.disableEscapeKeyDown,A=void 0!==C&&C,R=c.disablePortal,N=void 0!==R&&R,P=c.disableRestoreFocus,D=void 0!==P&&P,O=c.disableScrollLock,M=void 0!==O&&O,L=c.hideBackdrop,F=void 0!==L&&L,V=c.keepMounted,j=void 0!==V&&V,U=c.slotProps,z=c.slots,B=c.theme,q=pA(c,FO),W=f(r.useState(!0),2),K=W[0],H=W[1],G={closeAfterTransition:y,disableAutoFocus:E,disableEnforceFocus:T,disableEscapeKeyDown:A,disablePortal:N,disableRestoreFocus:D,disableScrollLock:M,hideBackdrop:F,keepMounted:j},Q=PT({},c,G,{exited:K}),$=null!=(n=null!=(i=null==z?void 0:z.root)?i:w.Root)?n:VO,Y=null!=(a=null!=(o=null==z?void 0:z.backdrop)?o:w.Backdrop)?a:d,X=null!=(u=null==U?void 0:U.root)?u:S.root,J=null!=(s=null==U?void 0:U.backdrop)?s:S.backdrop;return(0,fP.jsx)(CO,PT({slots:{root:$,backdrop:Y},slotProps:{root:function(){return PT({},xO(X,Q),!bO($)&&{as:b,theme:B},{className:mA(v,null==X?void 0:X.className,null==p?void 0:p.root,!Q.open&&Q.exited&&(null==p?void 0:p.hidden))})},backdrop:function(){return PT({},h,xO(J,Q),{className:mA(null==J?void 0:J.className,null==p?void 0:p.backdrop)})}},onTransitionEnter:function(){return H(!1)},onTransitionExited:function(){return H(!0)},ref:t},q,G,{children:g}))}));function zO(e){return mP("MuiDialog",e)}var BO=yP("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var qO=r.createContext({}),WO=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],KO=AN(LO,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),HO=AN(UO,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),GO=AN("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat(BP(n.scroll))]]}})((function(e){var t=e.ownerState;return PT({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),QO=AN(CD,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat(BP(n.scroll))],t["paperWidth".concat(BP(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return PT({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&Qe({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit)},"&.".concat(BO.paperScrollBody),Qe({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),n.maxWidth&&"xs"!==n.maxWidth&&Qe({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(BO.paperScrollBody),Qe({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&Qe({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(BO.paperScrollBody),{margin:0,maxWidth:"100%"}))})),$O=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiDialog"}),i=hD(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},o=n["aria-describedby"],u=n["aria-labelledby"],s=n.BackdropComponent,c=n.BackdropProps,l=n.children,f=n.className,d=n.disableEscapeKeyDown,h=void 0!==d&&d,p=n.fullScreen,v=void 0!==p&&p,m=n.fullWidth,y=void 0!==m&&m,g=n.maxWidth,b=void 0===g?"sm":g,k=n.onBackdropClick,w=n.onClose,x=n.open,S=n.PaperComponent,I=void 0===S?CD:S,E=n.PaperProps,_=void 0===E?{}:E,T=n.scroll,C=void 0===T?"paper":T,A=n.TransitionComponent,R=void 0===A?PO:A,N=n.transitionDuration,P=void 0===N?a:N,D=n.TransitionProps,O=pA(n,WO),M=PT({},n,{disableEscapeKeyDown:h,fullScreen:v,fullWidth:y,maxWidth:b,scroll:C}),L=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,i=e.fullWidth,a=e.fullScreen;return gA({root:["root"],container:["container","scroll".concat(BP(n))],paper:["paper","paperScroll".concat(BP(n)),"paperWidth".concat(BP(String(r))),i&&"paperFullWidth",a&&"paperFullScreen"]},zO,t)}(M),F=r.useRef(),V=iO(u),j=r.useMemo((function(){return{titleId:V}}),[V]);return(0,fP.jsx)(HO,PT({className:mA(L.root,f),closeAfterTransition:!0,components:{Backdrop:KO},componentsProps:{backdrop:PT({transitionDuration:P,as:s},c)},disableEscapeKeyDown:h,onClose:w,open:x,ref:t,onClick:function(e){F.current&&(F.current=null,k&&k(e),w&&w(e,"backdropClick"))},ownerState:M},O,{children:(0,fP.jsx)(R,PT({appear:!0,in:x,timeout:P,role:"presentation"},D,{children:(0,fP.jsx)(GO,{className:mA(L.container),onMouseDown:function(e){F.current=e.target===e.currentTarget},ownerState:M,children:(0,fP.jsx)(QO,PT({as:I,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":V},_,{className:mA(L.paper,_.className),ownerState:M,children:(0,fP.jsx)(qO.Provider,{value:j,children:l})}))})}))}))})),YO=$O;function XO(e){return mP("MuiDialogContent",e)}yP("MuiDialogContent",["root","dividers"]);var JO=yP("MuiDialogTitle",["root"]),ZO=["className","dividers"],eM=AN("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme;return PT({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.ownerState.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:Qe({},".".concat(JO.root," + &"),{paddingTop:0}))})),tM=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiDialogContent"}),r=n.className,i=n.dividers,a=void 0!==i&&i,o=pA(n,ZO),u=PT({},n,{dividers:a}),s=function(e){var t=e.classes;return gA({root:["root",e.dividers&&"dividers"]},XO,t)}(u);return(0,fP.jsx)(eM,PT({className:mA(s.root,r),ownerState:u,ref:t},o))})),nM=BD((0,fP.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function rM(e){return mP("MuiAvatar",e)}yP("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var iM=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],aM=AN("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return PT({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&PT({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),oM=AN("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),uM=AN(nM,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var sM=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiAvatar"}),i=n.alt,a=n.children,o=n.className,u=n.component,s=void 0===u?"div":u,c=n.imgProps,l=n.sizes,d=n.src,h=n.srcSet,p=n.variant,v=void 0===p?"circular":p,m=pA(n,iM),y=null,g=function(e){var t=e.crossOrigin,n=e.referrerPolicy,i=e.src,a=e.srcSet,o=f(r.useState(!1),2),u=o[0],s=o[1];return r.useEffect((function(){if(i||a){s(!1);var e=!0,r=new Image;return r.onload=function(){e&&s("loaded")},r.onerror=function(){e&&s("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=i,a&&(r.srcset=a),function(){e=!1}}}),[t,n,i,a]),u}(PT({},c,{src:d,srcSet:h})),b=d||h,k=b&&"error"!==g,w=PT({},n,{colorDefault:!k,component:s,variant:v}),x=function(e){var t=e.classes;return gA({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},rM,t)}(w);return y=k?(0,fP.jsx)(oM,PT({alt:i,src:d,srcSet:h,sizes:l,ownerState:w,className:x.img},c)):null!=a?a:b&&i?i[0]:(0,fP.jsx)(uM,{ownerState:w,className:x.fallback}),(0,fP.jsx)(aM,PT({as:s,ownerState:w,className:mA(x.root,o),ref:t},m,{children:y}))})),cM=sM,lM=["sx"];function fM(e){var t,n=e.sx,r=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:NR;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r}(pA(e,lM)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(h(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return AA(e)?PT({},i,e):i}:PT({},i,n),PT({},a,{sx:t})}function dM(e){return mP("MuiTypography",e)}yP("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var hM=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],pM=AN("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(BP(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return PT({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),vM={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},mM={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},yM=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiTypography"}),r=function(e){return mM[e]||e}(n.color),i=fM(PT({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,c=i.gutterBottom,l=void 0!==c&&c,f=i.noWrap,d=void 0!==f&&f,h=i.paragraph,p=void 0!==h&&h,v=i.variant,m=void 0===v?"body1":v,y=i.variantMapping,g=void 0===y?vM:y,b=pA(i,hM),k=PT({},i,{align:o,color:r,className:u,component:s,gutterBottom:l,noWrap:d,paragraph:p,variant:m,variantMapping:g}),w=s||(p?"p":g[m]||vM[m])||"span",x=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return gA({root:["root",a,"inherit"!==e.align&&"align".concat(BP(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},dM,o)}(k);return(0,fP.jsx)(pM,PT({as:w,ref:t,ownerState:k,className:mA(x.root,u)},b))})),gM=yM;function bM(e){return mP("MuiDialogContentText",e)}yP("MuiDialogContentText",["root"]);var kM=["children","className"],wM=AN(gM,{shouldForwardProp:function(e){return _N(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),xM=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiDialogContentText"}),r=n.className,i=pA(n,kM),a=function(e){var t=e.classes;return PT({},t,gA({root:["root"]},bM,t))}(i);return(0,fP.jsx)(wM,PT({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:i,className:mA(a.root,r)},n,{classes:a}))}));function SM(e){return mP("MuiDialogActions",e)}yP("MuiDialogActions",["root","spacing"]);var IM=["className","disableSpacing"],EM=AN("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){return PT({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.ownerState.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),_M=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiDialogActions"}),r=n.className,i=n.disableSpacing,a=void 0!==i&&i,o=pA(n,IM),u=PT({},n,{disableSpacing:a}),s=function(e){var t=e.classes;return gA({root:["root",!e.disableSpacing&&"spacing"]},SM,t)}(u);return(0,fP.jsx)(EM,PT({className:mA(s.root,r),ownerState:u,ref:t},o))})),TM=r.forwardRef((function(e,t){return(0,fP.jsx)(xD,Bt({direction:"up",ref:t},e))})),CM=function(e){var t=e.open,n=(e.setOpen,e.handleClickOpen,e.handleClose),i=e.displayName,a=(0,r.useContext)(o).auth,u=function(){var e;e=i,FS(a.currentUser,{displayName:e}).then((function(){window.location.search=""})).catch((function(e){return tO(e)})),n()};return(0,fP.jsxs)(YO,{open:t,TransitionComponent:TM,keepMounted:!0,onClose:u,"aria-describedby":"alert-dialog-slide-description",children:[(0,fP.jsxs)(tM,{children:[(0,fP.jsxs)(ZP,{style:{marginBottom:12},children:[(0,fP.jsx)(cM,{sx:{bgcolor:NT[500]},alt:"Remy Sharp",children:i[0].toUpperCase()}),(0,fP.jsxs)("h2",{style:{margin:0,padding:0,marginLeft:12},children:["Hi ",i,"!"]})]}),(0,fP.jsx)(xM,{id:"alert-dialog-slide-description",children:"Here you can record tasks and view them from any device. Now choose a photo and complete the registration!"})]}),(0,fP.jsxs)(_M,{children:[(0,fP.jsx)(JP,{variant:"outlined",onClick:u,children:"skip"}),(0,fP.jsxs)(eD,{variant:"contained",children:[(0,fP.jsx)("input",{accept:"image/*",type:"file"}),"Set avatar"]})]})]})};function AM(e){return mP("MuiFab",e)}var RM=yP("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),NM=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],PM=AN(zP,{name:"MuiFab",slot:"Root",shouldForwardProp:function(e){return _N(e)||"classes"===e},overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat(BP(n.size))],"inherit"===n.color&&t.colorInherit,t[BP(n.size)],t[n.color]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return PT({},r.typography.button,Qe({minHeight:36,transition:r.transitions.create(["background-color","box-shadow","border-color"],{duration:r.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(r.vars||r).zIndex.fab,boxShadow:(r.vars||r).shadows[6],"&:active":{boxShadow:(r.vars||r).shadows[12]},color:r.vars?r.vars.palette.text.primary:null==(t=(n=r.palette).getContrastText)?void 0:t.call(n,r.palette.grey[300]),backgroundColor:(r.vars||r).palette.grey[300],"&:hover":{backgroundColor:(r.vars||r).palette.grey.A100,"@media (hover: none)":{backgroundColor:(r.vars||r).palette.grey[300]},textDecoration:"none"}},"&.".concat(RM.focusVisible),{boxShadow:(r.vars||r).shadows[6]}),"small"===i.size&&{width:40,height:40},"medium"===i.size&&{width:48,height:48},"extended"===i.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===i.variant&&"small"===i.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===i.variant&&"medium"===i.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===i.color&&{color:"inherit"})}),(function(e){var t=e.theme,n=e.ownerState;return PT({},"inherit"!==n.color&&"default"!==n.color&&null!=(t.vars||t).palette[n.color]&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}})}),(function(e){var t=e.theme;return Qe({},"&.".concat(RM.disabled),{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})})),DM=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiFab"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"default":a,u=n.component,s=void 0===u?"button":u,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,d=void 0!==f&&f,h=n.focusVisibleClassName,p=n.size,v=void 0===p?"large":p,m=n.variant,y=void 0===m?"circular":m,g=pA(n,NM),b=PT({},n,{color:o,component:s,disabled:l,disableFocusRipple:d,size:v,variant:y}),k=function(e){var t=e.color,n=e.variant,r=e.classes,i=e.size;return PT({},r,gA({root:["root",n,"size".concat(BP(i)),"inherit"===t?"colorInherit":t]},AM,r))}(b);return(0,fP.jsx)(PM,PT({className:mA(k.root,i),component:s,disabled:l,focusRipple:!d,focusVisibleClassName:mA(k.focusVisible,h),ownerState:b,ref:t},g,{classes:k,children:r}))})),OM=DM;function MM(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,fP.jsx)(sP,{styles:i})}var LM=function(e){return(0,fP.jsx)(MM,PT({},e,{defaultTheme:EN}))},FM=function(e,t){return PT({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode})},VM=function(e){return PT({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}})};var jM=function(e){var t=FN({props:e,name:"MuiCssBaseline"}),n=t.children,i=t.enableColorScheme,a=void 0!==i&&i;return(0,fP.jsxs)(r.Fragment,{children:[(0,fP.jsx)(LM,{styles:function(e){return function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={};r&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((function(t){var n,r=f(t,2),a=r[0],o=r[1];i[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:null==(n=o.palette)?void 0:n.mode}}));var a=PT({html:FM(e,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:PT({margin:0},VM(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},i),o=null==(t=e.components)||null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return o&&(a=[a,o]),a}(e,a)}}),n]})};var UM=r.createContext({});function zM(e){return mP("MuiList",e)}yP("MuiList",["root","padding","dense","subheader"]);var BM=["children","className","component","dense","disablePadding","subheader"],qM=AN("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return PT({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),WM=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiList"}),i=n.children,a=n.className,o=n.component,u=void 0===o?"ul":o,s=n.dense,c=void 0!==s&&s,l=n.disablePadding,f=void 0!==l&&l,d=n.subheader,h=pA(n,BM),p=r.useMemo((function(){return{dense:c}}),[c]),v=PT({},n,{component:u,dense:c,disablePadding:f}),m=function(e){var t=e.classes;return gA({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},zM,t)}(v);return(0,fP.jsx)(UM.Provider,{value:p,children:(0,fP.jsxs)(qM,PT({as:u,className:mA(m.root,a),ref:t,ownerState:v},h,{children:[d,i]}))})}));function KM(e){return mP("MuiListSubheader",e)}yP("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var HM=["className","color","component","disableGutters","disableSticky","inset"],GM=AN("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(BP(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((function(e){var t=e.theme,n=e.ownerState;return PT({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===n.color&&{color:(t.vars||t).palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})})),QM=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiListSubheader"}),r=n.className,i=n.color,a=void 0===i?"default":i,o=n.component,u=void 0===o?"li":o,s=n.disableGutters,c=void 0!==s&&s,l=n.disableSticky,f=void 0!==l&&l,d=n.inset,h=void 0!==d&&d,p=pA(n,HM),v=PT({},n,{color:a,component:u,disableGutters:c,disableSticky:f,inset:h}),m=function(e){var t=e.classes,n=e.color,r=e.disableGutters,i=e.inset,a=e.disableSticky;return gA({root:["root","default"!==n&&"color".concat(BP(n)),!r&&"gutters",i&&"inset",!a&&"sticky"]},KM,t)}(v);return(0,fP.jsx)(GM,PT({as:u,className:mA(m.root,r),ref:t,ownerState:v},p))}));QM.muiSkipListHighlight=!0;var $M=QM;var YM=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},XM=zN;function JM(e){return mP("MuiListItem",e)}var ZM=yP("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var eL=yP("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function tL(e){return mP("MuiListItemSecondaryAction",e)}yP("MuiListItemSecondaryAction",["root","disableGutters"]);var nL=["className"],rL=AN("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){return PT({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.ownerState.disableGutters&&{right:0})})),iL=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiListItemSecondaryAction"}),i=n.className,a=pA(n,nL),o=PT({},n,{disableGutters:r.useContext(UM).disableGutters}),u=function(e){return gA({root:["root",e.disableGutters&&"disableGutters"]},tL,e.classes)}(o);return(0,fP.jsx)(rL,PT({className:mA(u.root,i),ownerState:o,ref:t},a))}));iL.muiName="ListItemSecondaryAction";var aL=iL,oL=["className"],uL=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],sL=AN("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,r=e.ownerState;return PT({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!r.disablePadding&&PT({paddingTop:8,paddingBottom:8},r.dense&&{paddingTop:4,paddingBottom:4},!r.disableGutters&&{paddingLeft:16,paddingRight:16},!!r.secondaryAction&&{paddingRight:48}),!!r.secondaryAction&&Qe({},"& > .".concat(eL.root),{paddingRight:48}),(Qe(t={},"&.".concat(ZM.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),Qe(t,"&.".concat(ZM.selected),Qe({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):IA(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(ZM.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):IA(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),Qe(t,"&.".concat(ZM.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),"flex-start"===r.alignItems&&{alignItems:"flex-start"},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},r.button&&Qe({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(ZM.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):IA(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):IA(n.palette.primary.main,n.palette.action.selectedOpacity)}}),r.hasSecondaryAction&&{paddingRight:48})})),cL=AN("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),lL=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiListItem"}),i=n.alignItems,a=void 0===i?"center":i,o=n.autoFocus,u=void 0!==o&&o,s=n.button,c=void 0!==s&&s,l=n.children,f=n.className,d=n.component,h=n.components,p=void 0===h?{}:h,v=n.componentsProps,m=void 0===v?{}:v,y=n.ContainerComponent,g=void 0===y?"li":y,b=n.ContainerProps,k=(b=void 0===b?{}:b).className,w=n.dense,x=void 0!==w&&w,S=n.disabled,I=void 0!==S&&S,E=n.disableGutters,_=void 0!==E&&E,T=n.disablePadding,C=void 0!==T&&T,A=n.divider,R=void 0!==A&&A,N=n.focusVisibleClassName,P=n.secondaryAction,D=n.selected,O=void 0!==D&&D,M=n.slotProps,L=void 0===M?{}:M,F=n.slots,V=void 0===F?{}:F,j=pA(n.ContainerProps,oL),U=pA(n,uL),z=r.useContext(UM),B=r.useMemo((function(){return{dense:x||z.dense||!1,alignItems:a,disableGutters:_}}),[a,z.dense,x,_]),q=r.useRef(null);XM((function(){u&&q.current&&q.current.focus()}),[u]);var W=r.Children.toArray(l),K=W.length&&YM(W[W.length-1],["ListItemSecondaryAction"]),H=PT({},n,{alignItems:a,autoFocus:u,button:c,dense:B.dense,disabled:I,disableGutters:_,disablePadding:C,divider:R,hasSecondaryAction:K,selected:O}),G=function(e){var t=e.alignItems,n=e.button,r=e.classes,i=e.dense,a=e.disabled;return gA({root:["root",i&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",a&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]},JM,r)}(H),Q=UN(q,t),$=V.root||p.Root||sL,Y=L.root||m.root||{},X=PT({className:mA(G.root,Y.className,f),disabled:I},U),J=d||"li";return c&&(X.component=d||"div",X.focusVisibleClassName=mA(ZM.focusVisible,N),J=zP),K?(J=X.component||d?J:"div","li"===g&&("li"===J?J="div":"li"===X.component&&(X.component="div")),(0,fP.jsx)(UM.Provider,{value:B,children:(0,fP.jsxs)(cL,PT({as:g,className:mA(G.container,k),ref:Q,ownerState:H},j,{children:[(0,fP.jsx)($,PT({},Y,!bO($)&&{as:J,ownerState:PT({},H,Y.ownerState)},X,{children:W})),W.pop()]}))})):(0,fP.jsx)(UM.Provider,{value:B,children:(0,fP.jsxs)($,PT({},Y,{as:J,ref:Q},!bO($)&&{ownerState:PT({},H,Y.ownerState)},X,{children:[W,P&&(0,fP.jsx)(aL,{children:P})]}))})})),fL=lL;function dL(e){return mP("MuiListItemAvatar",e)}yP("MuiListItemAvatar",["root","alignItemsFlexStart"]);var hL=["className"],pL=AN("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){return PT({minWidth:56,flexShrink:0},"flex-start"===e.ownerState.alignItems&&{marginTop:8})})),vL=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiListItemAvatar"}),i=n.className,a=pA(n,hL),o=PT({},n,{alignItems:r.useContext(UM).alignItems}),u=function(e){return gA({root:["root","flex-start"===e.alignItems&&"alignItemsFlexStart"]},dL,e.classes)}(o);return(0,fP.jsx)(pL,PT({className:mA(u.root,i),ownerState:o,ref:t},a))}));function mL(e){return mP("MuiListItemText",e)}var yL=yP("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),gL=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],bL=AN("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Qe({},"& .".concat(yL.primary),t.primary),Qe({},"& .".concat(yL.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return PT({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),kL=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiListItemText"}),i=n.children,a=n.className,o=n.disableTypography,u=void 0!==o&&o,s=n.inset,c=void 0!==s&&s,l=n.primary,f=n.primaryTypographyProps,d=n.secondary,h=n.secondaryTypographyProps,p=pA(n,gL),v=r.useContext(UM).dense,m=null!=l?l:i,y=d,g=PT({},n,{disableTypography:u,inset:c,primary:!!m,secondary:!!y,dense:v}),b=function(e){var t=e.classes,n=e.inset,r=e.primary,i=e.secondary;return gA({root:["root",n&&"inset",e.dense&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},mL,t)}(g);return null==m||m.type===gM||u||(m=(0,fP.jsx)(gM,PT({variant:v?"body2":"body1",className:b.primary,component:null!=f&&f.variant?void 0:"span",display:"block"},f,{children:m}))),null==y||y.type===gM||u||(y=(0,fP.jsx)(gM,PT({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},h,{children:y}))),(0,fP.jsxs)(bL,PT({className:mA(b.root,a),ownerState:g,ref:t},p,{children:[m,y]}))}));function wL(e){return mP("MuiAppBar",e)}yP("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var xL=["className","color","enableColorOnDark","position"],SL=function(e,t){return e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t},IL=AN(CD,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat(BP(n.position))],t["color".concat(BP(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return PT({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&PT({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&PT({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&PT({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:SL(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:SL(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:SL(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:SL(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),EL=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiAppBar"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.enableColorOnDark,u=void 0!==o&&o,s=n.position,c=void 0===s?"fixed":s,l=pA(n,xL),f=PT({},n,{color:a,position:c,enableColorOnDark:u}),d=function(e){var t=e.color,n=e.position,r=e.classes;return gA({root:["root","color".concat(BP(t)),"position".concat(BP(n))]},wL,r)}(f);return(0,fP.jsx)(IL,PT({square:!0,component:"header",ownerState:f,elevation:4,className:mA(d.root,r,"fixed"===c&&"mui-fixed"),ref:t},l))})),_L=EL;function TL(e){return mP("MuiToolbar",e)}yP("MuiToolbar",["root","gutters","regular","dense"]);var CL=["className","component","disableGutters","variant"],AL=AN("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return PT({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&Qe({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),RL=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiToolbar"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.disableGutters,u=void 0!==o&&o,s=n.variant,c=void 0===s?"regular":s,l=pA(n,CL),f=PT({},n,{component:a,disableGutters:u,variant:c}),d=function(e){var t=e.classes;return gA({root:["root",!e.disableGutters&&"gutters",e.variant]},TL,t)}(f);return(0,fP.jsx)(AL,PT({as:a,className:mA(d.root,r),ref:t,ownerState:f},l))})),NL=RL,PL=["className","component"];var DL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=e.defaultClassName,i=void 0===n?"MuiBox-root":n,a=e.generateClassName,o=TA("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(DR),u=r.forwardRef((function(e,n){var r=MN(t),u=fM(e),s=u.className,c=u.component,l=void 0===c?"div":c,f=pA(u,PL);return(0,fP.jsx)(o,PT({as:l,ref:n,className:mA(s,a?a(i):i),theme:r},f))}));return u}({defaultTheme:IN(),defaultClassName:"MuiBox-root",generateClassName:pP.generate}),OL=DL,ML={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},LL=r.createContext&&r.createContext(ML),FL=function(){return FL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},FL.apply(this,arguments)},VL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function jL(e){return e&&e.map((function(e,t){return r.createElement(e.tag,FL({key:t},e.attr),jL(e.child))}))}function UL(e){return function(t){return r.createElement(zL,FL({attr:FL({},e.attr)},t),jL(e.child))}}function zL(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,u=VL(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",FL({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:n,style:FL(FL({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==LL?r.createElement(LL.Consumer,null,(function(e){return t(e)})):t(ML)}function BL(e){return UL({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17 10h-1v-2c0-2.205-1.794-4-4-4s-4 1.795-4 4v2h-1c-1.103 0-2 .896-2 2v7c0 1.104.897 2 2 2h10c1.103 0 2-.896 2-2v-7c0-1.104-.897-2-2-2zm-5 8.299c-.719 0-1.3-.58-1.3-1.299s.581-1.301 1.3-1.301 1.3.582 1.3 1.301-.581 1.299-1.3 1.299zm2-7.299h-4v-3c0-1.104.897-2 2-2s2 .896 2 2v3z"}}]})(e)}function qL(e){return UL({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 10h-4v-4c0-1.104-.896-2-2-2s-2 .896-2 2l.071 4h-4.071c-1.104 0-2 .896-2 2s.896 2 2 2l4.071-.071-.071 4.071c0 1.104.896 2 2 2s2-.896 2-2v-4.071l4 .071c1.104 0 2-.896 2-2s-.896-2-2-2z"}}]})(e)}function WL(e){return UL({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M14.463 9.141c-.512 0-.988.238-1.43.715-.311.312-.5.678-.566 1.101.207-.131.387-.196.541-.196.159 0 .29.07.393.212.199.278.188.629-.033 1.051-.489.934-.846 1.4-1.066 1.4-.156 0-.356-.522-.602-1.567-.043-.155-.088-.378-.133-.667-.045-.288-.088-.538-.133-.75-.045-.211-.111-.428-.2-.649s-.2-.384-.333-.483c-.094-.069-.202-.104-.327-.104l-.173.021c-.289.067-.623.245-1 .534-.379.288-.689.566-.934.833l-.334.4.301.399.166-.133c.066-.045.189-.101.367-.167l.191-.043c.069 0 .116.025.143.076.066.089.271.717.615 1.884.346 1.167.562 1.839.65 2.017.156.311.367.55.633.717.13.08.271.121.427.121.165 0 .346-.047.54-.139.601-.399 1.289-1.066 2.067-2 .778-.933 1.255-1.922 1.433-2.966.156-.911-.11-1.434-.799-1.567-.138-.035-.272-.05-.404-.05zM12 21c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zm0-16c-3.859 0-7 3.141-7 7s3.141 7 7 7 7-3.141 7-7-3.141-7-7-7z"}}]}]})(e)}function KL(e){return UL({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 17h-14c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2zM19 10h-14c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2zM19 3h-14c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2z"}}]})(e)}var HL=[{id:1,primary:"Brunch this week?",secondary:"I'll be in the neighbourhood this week. Let's grab a bite to eat",person:"/static/images/avatar/5.jpg"},{id:2,primary:"Birthday Gift",secondary:"Do you have a suggestion for a good present for John on his work\n      anniversary. I am really confused & would love your thoughts on it.",person:"/static/images/avatar/1.jpg"},{id:3,primary:"Recipe to try",secondary:"I am try out this new BBQ recipe, I think this might be amazing",person:"/static/images/avatar/2.jpg"},{id:4,primary:"Yes!",secondary:"I have the tickets to the ReactConf for this year.",person:"/static/images/avatar/3.jpg"},{id:5,primary:"Doctor's Appointment",secondary:"My appointment for the doctor was rescheduled for next Saturday.",person:"/static/images/avatar/4.jpg"},{id:6,primary:"Discussion",secondary:"Menus that are generated by the bottom app bar (such as a bottom\n      navigation drawer or overflow menu) open as bottom sheets at a higher elevation\n      than the bar.",person:"/static/images/avatar/5.jpg"},{id:7,primary:"Summer BBQ",secondary:"Who wants to have a cookout this weekend? I just got some furniture\n      for my backyard and would love to fire up the grill.",person:"/static/images/avatar/1.jpg"}],GL=AN(OM)({position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"}),QL=function(){var e=function(){for(var e,t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++)if("displayName"===t[n].split("=")[0]){e=t[n].split("=")[1];break}return console.log(e),e}(),t=(0,r.useContext)(o).firebase,n=f((0,r.useState)(Boolean(e)),2),i=n[0],a=n[1];return(0,fP.jsxs)(fP.Fragment,{children:[(0,fP.jsx)(jM,{}),(0,fP.jsxs)(CD,{square:!0,sx:{pb:"50px"},children:[(0,fP.jsx)(gM,{variant:"h5",gutterBottom:!0,component:"div",sx:{p:2,pb:0},children:"Inbox"}),(0,fP.jsx)(WM,{sx:{mb:2},children:HL.map((function(e){var t=e.id,n=e.primary,r=e.secondary,i=e.person;return(0,fP.jsxs)(fP.Fragment,{children:[1===t&&(0,fP.jsx)($M,{sx:{bgcolor:"background.paper"},children:"Today"}),3===t&&(0,fP.jsx)($M,{sx:{bgcolor:"background.paper"},children:"Yesterday"}),(0,fP.jsxs)(fL,{button:!0,children:[(0,fP.jsx)(vL,{children:(0,fP.jsx)(cM,{alt:"Profile Picture",src:i})}),(0,fP.jsx)(kL,{primary:n,secondary:r})]})]})}))})]}),(0,fP.jsx)(_L,{position:"fixed",color:"primary",sx:{top:"auto",bottom:0},children:(0,fP.jsxs)(NL,{children:[(0,fP.jsx)(LD,{color:"inherit","aria-label":"open drawer",children:(0,fP.jsx)(KL,{})}),(0,fP.jsx)(GL,{color:"secondary","aria-label":"add",children:(0,fP.jsx)(qL,{})}),(0,fP.jsx)(OL,{sx:{flexGrow:1}}),(0,fP.jsx)(LD,{color:"inherit",children:(0,fP.jsx)(WL,{})}),(0,fP.jsx)(LD,{color:"inherit",onClick:function(){t.auth().signOut().then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:(0,fP.jsx)(BL,{})})]})}),null!=e&&(0,fP.jsx)(CM,{displayName:e,open:i,setOpen:a,handleClose:function(){a(!1)},handleClickOpen:function(){a(!0)}})]})};function $L(e,t){if(null==e)return{};var n,r,i=pA(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var YL=["name"],XL=["_f"],JL=["_f"],ZL=function(e){return"checkbox"===e.type},eF=function(e){return e instanceof Date},tF=function(e){return null==e},nF=function(e){return"object"===typeof e},rF=function(e){return!tF(e)&&!Array.isArray(e)&&nF(e)&&!eF(e)},iF=function(e){return rF(e)&&e.target?ZL(e.target)?e.target.checked:e.target.value:e},aF=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},oF="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function uF(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(oF&&(e instanceof Blob||e instanceof FileList)||!n&&!rF(e))return e;if(t=n?[]:{},Array.isArray(e)||function(e){var t=e.constructor&&e.constructor.prototype;return rF(t)&&t.hasOwnProperty("isPrototypeOf")}(e))for(var r in e)t[r]=uF(e[r]);else t=e}return t}var sF=function(e){return Array.isArray(e)?e.filter(Boolean):[]},cF=function(e){return void 0===e},lF=function(e,t,n){if(!t||!rF(e))return n;var r=sF(t.split(/[,[\].]+?/)).reduce((function(e,t){return tF(e)?e:e[t]}),e);return cF(r)||r===e?cF(e[t])?n:e[t]:r},fF="blur",dF="focusout",hF="onBlur",pF="onChange",vF="onSubmit",mF="onTouched",yF="all",gF="max",bF="min",kF="maxLength",wF="minLength",xF="pattern",SF="required",IF="validate",EF=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==yF&&(t._proxyFormState[i]=!r||yF),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),_F=function(e){return rF(e)&&!Object.keys(e).length},TF=function(e,t,n,r){n(e);e.name;var i=$L(e,YL);return _F(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||yF)}))},CF=function(e){return Array.isArray(e)?e:[e]};function AF(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return function(){n&&n.unsubscribe()}}),[e.disabled])}var RF=function(e){return"string"===typeof e},NF=function(e,t,n,r,i){return RF(e)?(r&&t.watch.add(e),lF(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),lF(n,e)})):(r&&(t.watchAll=!0),n)};var PF=function(e){return/^\w*$/.test(e)},DF=function(e){return sF(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function OF(e,t,n){for(var r=-1,i=PF(t)?[t]:DF(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=rF(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var MF=function(e,t,n,r,i){return t?Bt(Bt({},n[e]),{},{types:Bt(Bt({},n[e]&&n[e].types?n[e].types:{}),{},Qe({},r,i||!0))}):{}},LF=function e(t,n,r){var i,a=A(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=lF(t,o);if(u){var s=u._f,c=$L(u,XL);if(s&&n(s.name)){if(s.ref.focus){s.ref.focus();break}if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else rF(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},FF=function(e){return{isOnSubmit:!e||e===vF,isOnBlur:e===hF,isOnChange:e===pF,isOnAll:e===yF,isOnTouch:e===mF}},VF=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||h(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},jF=function(e,t,n){var r=sF(lF(e,n));return OF(r,"root",t[n]),OF(e,n,r),e},UF=function(e){return"boolean"===typeof e},zF=function(e){return"file"===e.type},BF=function(e){return"function"===typeof e},qF=function(e){if(!oF)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},WF=function(e){return RF(e)},KF=function(e){return"radio"===e.type},HF=function(e){return e instanceof RegExp},GF={value:!1,isValid:!1},QF={value:!0,isValid:!0},$F=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!cF(e[0].attributes.value)?cF(e[0].value)||""===e[0].value?QF:{value:e[0].value,isValid:!0}:QF:GF}return GF},YF={isValid:!1,value:null},XF=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),YF):YF};function JF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(WF(e)||Array.isArray(e)&&e.every(WF)||UF(e)&&!e)return{type:n,message:WF(e)?e:"",ref:t}}var ZF=function(e){return rF(e)&&!HF(e)?e:{value:e,message:""}},eV=function(){var e=Tt(Et().mark((function e(t,n,r,i,a){var o,u,s,c,l,f,d,h,p,v,m,y,g,b,k,w,x,S,I,E,_,T,C,A,R,N,P,D,O,M,L,F,V,j,U,z,B,q,W,K,H,G,Q,$,Y,X,J,Z;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,u=o.ref,s=o.refs,c=o.required,l=o.maxLength,f=o.minLength,d=o.min,h=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,b=o.disabled,k=lF(n,m),g&&!b){e.next=4;break}return e.abrupt("return",{});case 4:if(w=s?s[0]:u,x=function(e){i&&w.reportValidity&&(w.setCustomValidity(UF(e)?"":e||""),w.reportValidity())},S={},I=KF(u),E=ZL(u),_=I||E,T=(y||zF(u))&&cF(u.value)&&cF(k)||qF(u)&&""===u.value||""===k||Array.isArray(k)&&!k.length,C=MF.bind(null,m,r,S),A=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:kF,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wF,a=e?t:n;S[m]=Bt({type:e?r:i,message:a,ref:u},C(e?r:i,a))},!(a?!Array.isArray(k)||!k.length:c&&(!_&&(T||tF(k))||UF(k)&&!k||E&&!$F(s).isValid||I&&!XF(s).isValid))){e.next=20;break}if(R=WF(c)?{value:!!c,message:c}:ZF(c),N=R.value,P=R.message,!N){e.next=20;break}if(S[m]=Bt({type:SF,message:P,ref:w},C(SF,P)),r){e.next=20;break}return x(P),e.abrupt("return",S);case 20:if(T||tF(d)&&tF(h)){e.next=29;break}if(M=ZF(h),L=ZF(d),tF(k)||isNaN(k)?(V=u.valueAsDate||new Date(k),j=function(e){return new Date((new Date).toDateString()+" "+e)},U="time"==u.type,z="week"==u.type,RF(M.value)&&k&&(D=U?j(k)>j(M.value):z?k>M.value:V>new Date(M.value)),RF(L.value)&&k&&(O=U?j(k)<j(L.value):z?k<L.value:V<new Date(L.value))):(F=u.valueAsNumber||(k?+k:k),tF(M.value)||(D=F>M.value),tF(L.value)||(O=F<L.value)),!D&&!O){e.next=29;break}if(A(!!D,M.message,L.message,gF,bF),r){e.next=29;break}return x(S[m].message),e.abrupt("return",S);case 29:if(!l&&!f||T||!(RF(k)||a&&Array.isArray(k))){e.next=39;break}if(B=ZF(l),q=ZF(f),W=!tF(B.value)&&k.length>B.value,K=!tF(q.value)&&k.length<q.value,!W&&!K){e.next=39;break}if(A(W,B.message,q.message),r){e.next=39;break}return x(S[m].message),e.abrupt("return",S);case 39:if(!p||T||!RF(k)){e.next=46;break}if(H=ZF(p),G=H.value,Q=H.message,!HF(G)||k.match(G)){e.next=46;break}if(S[m]=Bt({type:xF,message:Q,ref:u},C(xF,Q)),r){e.next=46;break}return x(Q),e.abrupt("return",S);case 46:if(!v){e.next=80;break}if(!BF(v)){e.next=59;break}return e.next=50,v(k,n);case 50:if($=e.sent,!(Y=JF($,w))){e.next=57;break}if(S[m]=Bt(Bt({},Y),C(IF,Y.message)),r){e.next=57;break}return x(Y.message),e.abrupt("return",S);case 57:e.next=80;break;case 59:if(!rF(v)){e.next=80;break}X={},e.t0=Et().keys(v);case 62:if((e.t1=e.t0()).done){e.next=76;break}if(J=e.t1.value,_F(X)||r){e.next=66;break}return e.abrupt("break",76);case 66:return e.t2=JF,e.next=69,v[J](k,n);case 69:e.t3=e.sent,e.t4=w,e.t5=J,(Z=(0,e.t2)(e.t3,e.t4,e.t5))&&(X=Bt(Bt({},Z),C(J,Z.message)),x(Z.message),r&&(S[m]=X)),e.next=62;break;case 76:if(_F(X)){e.next=80;break}if(S[m]=Bt({ref:w},X),r){e.next=80;break}return e.abrupt("return",S);case 80:return x(!0),e.abrupt("return",S);case 82:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function tV(e,t){var n=Array.isArray(t)?t:PF(t)?[t]:DF(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=cF(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(rF(r)&&_F(r)||Array.isArray(r)&&function(e){for(var t in e)if(!cF(e[t]))return!1;return!0}(r))&&tV(e,n.slice(0,-1)),e}function nV(){var e=[];return{get observers(){return e},next:function(t){var n,r=A(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.next&&i.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var rV=function(e){return tF(e)||!nF(e)};function iV(e,t){if(rV(e)||rV(t))return e===t;if(eF(e)&&eF(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(eF(u)&&eF(s)||rF(u)&&rF(s)||Array.isArray(u)&&Array.isArray(s)?!iV(u,s):u!==s)return!1}}return!0}var aV=function(e){return"select-multiple"===e.type},oV=function(e){return KF(e)||ZL(e)},uV=function(e){return qF(e)&&e.isConnected},sV=function(e){for(var t in e)if(BF(e[t]))return!0;return!1};function cV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(rF(e)||n)for(var r in e)Array.isArray(e[r])||rF(e[r])&&!sV(e[r])?(t[r]=Array.isArray(e[r])?[]:{},cV(e[r],t[r])):tF(e[r])||(t[r]=!0);return t}function lV(e,t,n){var r=Array.isArray(e);if(rF(e)||r)for(var i in e)Array.isArray(e[i])||rF(e[i])&&!sV(e[i])?cF(t)||rV(n[i])?n[i]=Array.isArray(e[i])?cV(e[i],[]):Bt({},cV(e[i])):lV(e[i],tF(t)?{}:t[i],n[i]):n[i]=!iV(e[i],t[i]);return n}var fV=function(e,t){return lV(e,t,cV(t))},dV=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return cF(e)?e:n?""===e?NaN:e?+e:e:r&&RF(e)?new Date(e):i?i(e):e};function hV(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return zF(t)?t.files:KF(t)?XF(e.refs).value:aV(t)?h(t.selectedOptions).map((function(e){return e.value})):ZL(t)?$F(e.refs).value:dV(cF(t.value)?e.ref.value:t.value,e)}var pV=function(e,t,n,r){var i,a={},o=A(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=lF(t,u);s&&OF(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:h(e),fields:a,shouldUseNativeValidation:r}},vV=function(e){return cF(e)?e:HF(e)?e.source:rF(e)?HF(e.value)?e.value.source:e.value:e},mV=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function yV(e,t,n){var r=lF(e,n);if(r||PF(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=lF(t,a),u=lF(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var gV=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},bV=function(e,t){return!sF(lF(e,t)).length&&tV(e,t)},kV={mode:vF,reValidateMode:pF,shouldFocusError:!0};function wV(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=Bt(Bt({},kV),t),i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=(rF(r.defaultValues)||rF(r.values))&&uF(r.defaultValues||r.values)||{},u=r.shouldUnregister?{}:uF(o),s={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l=0,f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:nV(),array:nV(),state:nV()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,v=FF(r.mode),m=FF(r.reValidateMode),y=r.criteriaMode===yF,g=function(e){return function(t){clearTimeout(l),l=setTimeout(e,t)}},b=function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isValid&&!t){e.next=14;break}if(!r.resolver){e.next=9;break}return e.t1=_F,e.next=5,_();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,C(a,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==i.isValid&&d.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return f.isValidating&&d.state.next({isValidating:e})},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(s.action=!0,l&&Array.isArray(lF(a,e))){var h=n(lF(a,e),r.argA,r.argB);c&&OF(a,e,h)}if(l&&Array.isArray(lF(i.errors,e))){var p=n(lF(i.errors,e),r.argA,r.argB);c&&OF(i.errors,e,p),bV(i.errors,e)}if(f.touchedFields&&l&&Array.isArray(lF(i.touchedFields,e))){var v=n(lF(i.touchedFields,e),r.argA,r.argB);c&&OF(i.touchedFields,e,v)}f.dirtyFields&&(i.dirtyFields=fV(o,u)),d.state.next({name:e,isDirty:N(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else OF(u,e,t)},x=function(e,t){OF(i.errors,e,t),d.state.next({errors:i.errors})},S=function(e,t,n,r){var i=lF(a,e);if(i){var c=lF(u,e,cF(n)?lF(o,e):n);cF(c)||r&&r.defaultChecked||t?OF(u,e,t?c:hV(i._f)):O(e,c),s.mount&&b()}},I=function(e,t,n,r,a){var u=!1,s=!1,c={name:e};if(!n||r){f.isDirty&&(s=i.isDirty,i.isDirty=c.isDirty=N(),u=s!==c.isDirty);var l=iV(lF(o,e),t);s=lF(i.dirtyFields,e),l?tV(i.dirtyFields,e):OF(i.dirtyFields,e,!0),c.dirtyFields=i.dirtyFields,u=u||f.dirtyFields&&s!==!l}if(n){var h=lF(i.touchedFields,e);h||(OF(i.touchedFields,e,n),c.touchedFields=i.touchedFields,u=u||f.touchedFields&&h!==n)}return u&&a&&d.state.next(c),u?c:{}},E=function(n,r,a,o){var u=lF(i.errors,n),s=f.isValid&&UF(r)&&i.isValid!==r;if(t.delayError&&a?(e=g((function(){return x(n,a)})))(t.delayError):(clearTimeout(l),e=null,a?OF(i.errors,n,a):tV(i.errors,n)),(a?!iV(u,a):u)||!_F(o)||s){var c=Bt(Bt(Bt({},o),s&&UF(r)?{isValid:r}:{}),{},{errors:i.errors,name:n});i=Bt(Bt({},i),c),d.state.next(c)}k(!1)},_=function(){var e=Tt(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.resolver(u,r.context,pV(t||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Tt(Et().mark((function e(t){var n,r,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(n=e.sent,r=n.errors,t){a=A(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=lF(r,u))?OF(i.errors,u,s):tV(i.errors,u)}catch(c){a.e(c)}finally{a.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Tt(Et().mark((function e(t,n){var a,o,s,l,f,d,h,p=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=Et().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(s=t[o])){e.next=21;break}if(l=s._f,f=$L(s,JL),!l){e.next=17;break}return d=c.array.has(l.name),e.next=11,eV(s,u,y,r.shouldUseNativeValidation,d);case 11:if(!(h=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(lF(h,l.name)?d?jF(i.errors,h,l.name):OF(i.errors,l.name,h[l.name]):tV(i.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,C(f,n,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e,t=A(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=lF(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!uV(e)})):!uV(r._f.ref))&&W(n)}}catch(i){t.e(i)}finally{t.f()}c.unMount=new Set},N=function(e,t){return e&&t&&OF(u,e,t),!iV(j(),o)},P=function(e,t,n){return NF(e,c,Bt({},s.mount?u:cF(t)?o:RF(e)?Qe({},e,t):t),n,t)},D=function(e){return sF(lF(s.mount?u:o,e,t.shouldUnregister?lF(o,e,[]):[]))},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=lF(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&OF(u,e,dV(t,o)),i=qF(o.ref)&&tF(t)?"":t,aV(o.ref)?h(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?ZL(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):zF(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||d.values.next({name:e,values:Bt({},u)})))}(n.shouldDirty||n.shouldTouch)&&I(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&V(e)},M=function e(t,n,r){for(var i in n){var o=n[i],u="".concat(t,".").concat(i),s=lF(a,u);!c.array.has(t)&&rV(o)&&(!s||s._f)||eF(o)?O(u,o,r):e(u,o,r)}},L=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=lF(a,e),h=c.array.has(e),p=uF(t);OF(u,e,p),h?(d.array.next({name:e,values:Bt({},u)}),(f.isDirty||f.dirtyFields)&&r.shouldDirty&&d.state.next({name:e,dirtyFields:fV(o,u),isDirty:N(e,p)})):!l||l._f||tF(p)?O(e,p,r):M(e,p,r),VF(e,c)&&d.state.next(Bt({},i)),d.values.next({name:e,values:Bt({},u)}),!s.mount&&n()},F=function(){var t=Tt(Et().mark((function t(n){var o,s,l,h,p,g,w,x,S,T,A,R,N,P,D,O;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target,s=o.name,l=lF(a,s),h=function(){return o.type?hV(l._f):iF(n)},!l){t.next=45;break}if(w=h(),x=n.type===fF||n.type===dF,S=!mV(l._f)&&!r.resolver&&!lF(i.errors,s)&&!l._f.deps||gV(x,lF(i.touchedFields,s),i.isSubmitted,m,v),T=VF(s,c,x),OF(u,s,w),x?(l._f.onBlur&&l._f.onBlur(n),e&&e(0)):l._f.onChange&&l._f.onChange(n),A=I(s,w,x,!1),R=!_F(A)||T,!x&&d.values.next({name:s,type:n.type,values:Bt({},u)}),!S){t.next=17;break}return f.isValid&&b(),t.abrupt("return",R&&d.state.next(Bt({name:s},T?{}:A)));case 17:if(!x&&T&&d.state.next(Bt({},i)),k(!0),!r.resolver){t.next=31;break}return t.next=22,_([s]);case 22:N=t.sent,P=N.errors,D=yV(i.errors,a,s),O=yV(P,a,D.name||s),p=O.error,s=O.name,g=_F(P),t.next=43;break;case 31:return t.next=33,eV(l,u,y,r.shouldUseNativeValidation);case 33:if(t.t0=s,!(p=t.sent[t.t0])){t.next=39;break}g=!1,t.next=43;break;case 39:if(!f.isValid){t.next=43;break}return t.next=42,C(a,!0);case 42:g=t.sent;case 43:l._f.deps&&V(l._f.deps),E(s,g,p,A);case 45:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var e=Tt(Et().mark((function e(t){var n,o,u,s,l,h=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:{},s=CF(t),k(!0),!r.resolver){e.next=11;break}return e.next=6,T(cF(t)?t:s);case 6:l=e.sent,o=_F(l),u=t?!s.some((function(e){return lF(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(s.map(function(){var e=Tt(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lF(a,t),e.next=3,C(n&&n._f?Qe({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||i.isValid)&&b(),e.next=21;break;case 18:return e.next=20,C(a);case 20:u=o=e.sent;case 21:return d.state.next(Bt(Bt(Bt({},!RF(t)||f.isValid&&o!==i.isValid?{}:{name:t}),r.resolver||!t?{isValid:o}:{}),{},{errors:i.errors,isValidating:!1})),n.shouldFocus&&!u&&LF(a,(function(e){return e&&lF(i.errors,e)}),t?s:c.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=Bt(Bt({},o),s.mount?u:{});return cF(e)?t:RF(e)?lF(t,e):e.map((function(e){return lF(t,e)}))},U=function(e,t){return{invalid:!!lF((t||i).errors,e),isDirty:!!lF((t||i).dirtyFields,e),isTouched:!!lF((t||i).touchedFields,e),error:lF((t||i).errors,e)}},z=function(e){e&&CF(e).forEach((function(e){return tV(i.errors,e)})),d.state.next({errors:e?i.errors:{}})},B=function(e,t,n){var r=(lF(a,e,{_f:{}})._f||{}).ref;OF(i.errors,e,Bt(Bt({},t),{},{ref:r})),d.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},q=function(e,t){return BF(e)?d.values.subscribe({next:function(n){return e(P(void 0,t),n)}}):P(e,t,!0)},W=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=A(e?CF(e):c.mount);try{for(s.s();!(t=s.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),lF(a,l)&&(n.keepValue||(tV(a,l),tV(u,l)),!n.keepError&&tV(i.errors,l),!n.keepDirty&&tV(i.dirtyFields,l),!n.keepTouched&&tV(i.touchedFields,l),!r.shouldUnregister&&!n.keepDefaultValue&&tV(o,l))}}catch(f){s.e(f)}finally{s.f()}d.values.next({values:Bt({},u)}),d.state.next(Bt(Bt({},i),n.keepDirty?{isDirty:N()}:{})),!n.keepIsValid&&b()},K=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=lF(a,t),l=UF(n.disabled);return OF(a,t,Bt(Bt({},i||{}),{},{_f:Bt(Bt({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},n)})),c.mount.add(t),i?l&&OF(u,t,n.disabled?void 0:lF(u,t,hV(i._f))):S(t,!0,n.value),Bt(Bt(Bt({},l?{disabled:n.disabled}:{}),r.shouldUseNativeValidation?{required:!!n.required,min:vV(n.min),max:vV(n.max),minLength:vV(n.minLength),maxLength:vV(n.maxLength),pattern:vV(n.pattern)}:{}),{},{name:t,onChange:F,onBlur:F,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(u){if(u){e(t,n),i=lF(a,t);var l=cF(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,f=oV(l),d=i._f.refs||[];if(f?d.find((function(e){return e===l})):l===i._f.ref)return;OF(a,t,{_f:Bt(Bt({},i._f),f?{refs:[].concat(h(d.filter(uV)),[l],h(Array.isArray(lF(o,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),S(t,!1,void 0,l)}else(i=lF(a,t,{}))._f&&(i._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!aF(c.array,t)||!s.action)&&c.unMount.add(t)}))})},H=function(){return r.shouldFocusError&&LF(a,(function(e){return e&&lF(i.errors,e)}),c.mount)},G=function(e,t){return function(){var n=Tt(Et().mark((function n(o){var s,c,l,f;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),s=uF(u),d.state.next({isSubmitting:!0}),!r.resolver){n.next=13;break}return n.next=6,_();case 6:c=n.sent,l=c.errors,f=c.values,i.errors=l,s=f,n.next=15;break;case 13:return n.next=15,C(a);case 15:if(tV(i.errors,"root"),!_F(i.errors)){n.next=22;break}return d.state.next({errors:{}}),n.next=20,e(s,o);case 20:n.next=27;break;case 22:if(!t){n.next=25;break}return n.next=25,t(Bt({},i.errors),o);case 25:H(),setTimeout(H);case 27:d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_F(i.errors),submitCount:i.submitCount+1,errors:i.errors});case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};lF(a,e)&&(cF(t.defaultValue)?L(e,lF(o,e)):(L(e,t.defaultValue),OF(o,e,t.defaultValue)),t.keepTouched||tV(i.touchedFields,e),t.keepDirty||(tV(i.dirtyFields,e),i.isDirty=t.defaultValue?N(e,lF(o,e)):N()),t.keepError||(tV(i.errors,e),f.isValid&&b()),d.state.next(Bt({},i)))},$=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e||o,h=uF(l),v=e&&!_F(e)?h:o;if(r.keepDefaultValues||(o=l),!r.keepValues){if(r.keepDirtyValues||p){var m,y=A(c.mount);try{for(y.s();!(m=y.n()).done;){var g=m.value;lF(i.dirtyFields,g)?OF(v,g,lF(u,g)):L(g,lF(v,g))}}catch(E){y.e(E)}finally{y.f()}}else{if(oF&&cF(e)){var b,k=A(c.mount);try{for(k.s();!(b=k.n()).done;){var w=b.value,x=lF(a,w);if(x&&x._f){var S=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(qF(S)){var I=S.closest("form");if(I){I.reset();break}}}}}catch(E){k.e(E)}finally{k.f()}}a={}}u=t.shouldUnregister?r.keepDefaultValues?uF(o):{}:h,d.array.next({values:Bt({},v)}),d.values.next({values:Bt({},v)})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!s.mount&&n(),s.mount=!f.isValid||!!r.keepIsValid,s.watch=!!t.shouldUnregister,d.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||iV(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?fV(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Y=function(e,t){return $(BF(e)?e(u):e,t)},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=lF(a,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},J=function(e){i=Bt(Bt({},i),e)};return BF(r.defaultValues)&&r.defaultValues().then((function(e){Y(e,r.resetOptions),d.state.next({isLoading:!1})})),{control:{register:K,unregister:W,getFieldState:U,_executeSchema:_,_getWatch:P,_getDirty:N,_updateValid:b,_removeUnmounted:R,_updateFieldArray:w,_getFieldArray:D,_reset:$,_updateFormState:J,_subjects:d,_proxyFormState:f,get _fields(){return a},get _formValues(){return u},get _state(){return s},set _state(e){s=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r=Bt(Bt({},r),e)}},trigger:V,register:K,handleSubmit:G,watch:q,setValue:L,getValues:j,reset:Y,resetField:Q,clearErrors:z,unregister:W,setError:B,setFocus:X,getFieldState:U}}function xV(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=r.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:BF(e.defaultValues)?void 0:e.defaultValues}),i=f(n,2),a=i[0],o=i[1];t.current||(t.current=Bt(Bt({},wV(e,(function(){return o((function(e){return Bt({},e)}))}))),{},{formState:a}));var u=t.current.control;return u._options=e,AF({subject:u._subjects.state,next:function(e){TF(e,u._proxyFormState,u._updateFormState,!0)&&o(Bt({},u._formState))}}),r.useEffect((function(){e.values&&!iV(e.values,u._defaultValues)&&u._reset(e.values,u._options.resetOptions)}),[e.values,u]),r.useEffect((function(){u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next(Bt({},u._formState))),u._removeUnmounted()})),t.current.formState=EF(a,u),t.current}var SV=hA.form((function(){return{marginTop:20,paddingLeft:16,paddingRight:16,display:"flex",flexDirection:"column",maxWidth:400,width:"100%"}})),IV=hA.h3((function(){return{margin:0,padding:0,fontSize:28}})),EV=hA.p((function(){return{margin:0,padding:0,fontSize:16,color:"gray"}})),_V=hA(Ke)((function(){return{color:"#1976d2",textDecoration:"none"}})),TV=["onChange","maxRows","minRows","style","value"];function CV(e){return parseInt(e,10)||0}var AV={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function RV(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var NV=r.forwardRef((function(e,t){var n=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,c=pA(e,TV),l=r.useRef(null!=s).current,d=r.useRef(null),h=jN(t,d),p=r.useRef(null),v=r.useRef(0),m=f(r.useState({outerHeightStyle:0}),2),y=m[0],g=m[1],b=r.useCallback((function(){var t=d.current,n=yD(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};var r=p.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n.boxSizing,u=CV(n.paddingBottom)+CV(n.paddingTop),s=CV(n.borderBottomWidth)+CV(n.borderTopWidth),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;return o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f)),{outerHeightStyle:(f=Math.max(f,l))+("border-box"===a?u+s:0),overflow:Math.abs(f-c)<=1}}),[i,o,e.placeholder]),k=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return v.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(v.current+=1,{overflow:r,outerHeightStyle:n}):e},w=r.useCallback((function(){var e=b();RV(e)||g((function(t){return k(t,e)}))}),[b]);r.useEffect((function(){var e,t=fD((function(){v.current=0,d.current&&function(){var e=b();RV(e)||tD.flushSync((function(){g((function(t){return k(t,e)}))}))}()})),n=d.current,r=yD(n);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(n),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}})),zN((function(){w()})),r.useEffect((function(){v.current=0}),[s]);return(0,fP.jsxs)(r.Fragment,{children:[(0,fP.jsx)("textarea",PT({value:s,onChange:function(e){v.current=0,l||w(),n&&n(e)},ref:h,rows:o,style:PT({height:y.outerHeightStyle,overflow:y.overflow?"hidden":void 0},u)},c)),(0,fP.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:PT({},AV,u,{padding:0})})]})})),PV=NV;function DV(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var OV=r.createContext(void 0);function MV(){return r.useContext(OV)}function LV(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function FV(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(LV(e.value)&&""!==e.value||t&&LV(e.defaultValue)&&""!==e.defaultValue)}function VV(e){return mP("MuiInputBase",e)}var jV=yP("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),UV=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],zV=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(BP(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},BV=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},qV=AN("div",{name:"MuiInputBase",slot:"Root",overridesResolver:zV})((function(e){var t=e.theme,n=e.ownerState;return PT({},t.typography.body1,Qe({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(jV.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&PT({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),WV=AN("input",{name:"MuiInputBase",slot:"Input",overridesResolver:BV})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a=PT({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},u=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return PT((Qe(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(jV.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),Qe(t,"&.".concat(jV.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),Qe(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),KV=(0,fP.jsx)(LM,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),HV=r.forwardRef((function(e,t){var n,i=FN({props:e,name:"MuiInputBase"}),a=i["aria-describedby"],o=i.autoComplete,u=i.autoFocus,s=i.className,c=i.components,l=void 0===c?{}:c,d=i.componentsProps,h=void 0===d?{}:d,p=i.defaultValue,v=i.disabled,m=i.disableInjectingGlobalStyles,y=i.endAdornment,g=i.fullWidth,b=void 0!==g&&g,k=i.id,w=i.inputComponent,x=void 0===w?"input":w,S=i.inputProps,I=void 0===S?{}:S,E=i.inputRef,_=i.maxRows,T=i.minRows,C=i.multiline,A=void 0!==C&&C,R=i.name,N=i.onBlur,P=i.onChange,D=i.onClick,O=i.onFocus,M=i.onKeyDown,L=i.onKeyUp,F=i.placeholder,V=i.readOnly,j=i.renderSuffix,U=i.rows,z=i.slotProps,B=void 0===z?{}:z,q=i.slots,W=void 0===q?{}:q,K=i.startAdornment,H=i.type,G=void 0===H?"text":H,Q=i.value,$=pA(i,UV),Y=null!=I.value?I.value:Q,X=r.useRef(null!=Y).current,J=r.useRef(),Z=r.useCallback((function(e){0}),[]),ee=UN(J,E,I.ref,Z),te=f(r.useState(!1),2),ne=te[0],re=te[1],ie=MV();var ae=DV({props:i,muiFormControl:ie,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ae.focused=ie?ie.focused:ne,r.useEffect((function(){!ie&&v&&ne&&(re(!1),N&&N())}),[ie,v,ne,N]);var oe=ie&&ie.onFilled,ue=ie&&ie.onEmpty,se=r.useCallback((function(e){FV(e)?oe&&oe():ue&&ue()}),[oe,ue]);XM((function(){X&&se({value:Y})}),[Y,se,X]);r.useEffect((function(){se(J.current)}),[]);var ce=x,le=I;A&&"input"===ce&&(le=PT(U?{type:void 0,minRows:U,maxRows:U}:{type:void 0,maxRows:_,minRows:T},le),ce=PV);r.useEffect((function(){ie&&ie.setAdornedStart(Boolean(K))}),[ie,K]);var fe=PT({},i,{color:ae.color||"primary",disabled:ae.disabled,endAdornment:y,error:ae.error,focused:ae.focused,formControl:ie,fullWidth:b,hiddenLabel:ae.hiddenLabel,multiline:A,size:ae.size,startAdornment:K,type:G}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.readOnly,d=e.size,h=e.startAdornment,p=e.type;return gA({root:["root","color".concat(BP(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===d&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",l&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",f&&"readOnly"]},VV,t)}(fe),he=W.root||l.Root||qV,pe=B.root||h.root||{},ve=W.input||l.Input||WV;return le=PT({},le,null!=(n=B.input)?n:h.input),(0,fP.jsxs)(r.Fragment,{children:[!m&&KV,(0,fP.jsxs)(he,PT({},pe,!bO(he)&&{ownerState:PT({},fe,pe.ownerState)},{ref:t,onClick:function(e){J.current&&e.currentTarget===e.target&&J.current.focus(),D&&D(e)}},$,{className:mA(de.root,pe.className,s,V&&"MuiInputBase-readOnly"),children:[K,(0,fP.jsx)(OV.Provider,{value:null,children:(0,fP.jsx)(ve,PT({ownerState:fe,"aria-invalid":ae.error,"aria-describedby":a,autoComplete:o,autoFocus:u,defaultValue:p,disabled:ae.disabled,id:k,onAnimationStart:function(e){se("mui-auto-fill-cancel"===e.animationName?J.current:{value:"x"})},name:R,placeholder:F,readOnly:V,required:ae.required,rows:U,value:Y,onKeyDown:M,onKeyUp:L,type:G},le,!bO(ve)&&{as:ce,ownerState:PT({},fe,le.ownerState)},{ref:ee,className:mA(de.input,le.className,V&&"MuiInputBase-readOnly"),onBlur:function(e){N&&N(e),I.onBlur&&I.onBlur(e),ie&&ie.onBlur?ie.onBlur(e):re(!1)},onChange:function(e){if(!X){var t=e.target||J.current;if(null==t)throw new Error(bA(1));se({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];I.onChange&&I.onChange.apply(I,[e].concat(r)),P&&P.apply(void 0,[e].concat(r))},onFocus:function(e){ae.disabled?e.stopPropagation():(O&&O(e),I.onFocus&&I.onFocus(e),ie&&ie.onFocus?ie.onFocus(e):re(!0))}}))}),y,j?j(PT({},ae,{startAdornment:K})):null]}))]})})),GV=HV;function QV(e){return mP("MuiInput",e)}var $V=PT({},jV,yP("MuiInput",["root","underline","input"])),YV=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],XV=AN(qV,{shouldForwardProp:function(e){return _N(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(h(zV(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),PT({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(Qe(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat($V.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Qe(t,"&.".concat($V.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),Qe(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Qe(t,"&:hover:not(.".concat($V.disabled,", .").concat($V.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),Qe(t,"&.".concat($V.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),JV=AN(WV,{name:"MuiInput",slot:"Input",overridesResolver:BV})({}),ZV=r.forwardRef((function(e,t){var n,r,i,a,o=FN({props:e,name:"MuiInput"}),u=o.disableUnderline,s=o.components,c=void 0===s?{}:s,l=o.componentsProps,f=o.fullWidth,d=void 0!==f&&f,h=o.inputComponent,p=void 0===h?"input":h,v=o.multiline,m=void 0!==v&&v,y=o.slotProps,g=o.slots,b=void 0===g?{}:g,k=o.type,w=void 0===k?"text":k,x=pA(o,YV),S=function(e){var t=e.classes;return PT({},t,gA({root:["root",!e.disableUnderline&&"underline"],input:["input"]},QV,t))}(o),I={root:{ownerState:{disableUnderline:u}}},E=(null!=y?y:l)?NA(null!=y?y:l,I):I,_=null!=(n=null!=(r=b.root)?r:c.Root)?n:XV,T=null!=(i=null!=(a=b.input)?a:c.Input)?i:JV;return(0,fP.jsx)(GV,PT({slots:{root:_,input:T},slotProps:E,fullWidth:d,inputComponent:p,multiline:m,ref:t,type:w},x,{classes:S}))}));ZV.muiName="Input";var ej=ZV;function tj(e){return mP("MuiFilledInput",e)}var nj=PT({},jV,yP("MuiFilledInput",["root","underline","input"])),rj=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],ij=AN(qV,{shouldForwardProp:function(e){return _N(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(h(zV(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode,u=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return PT((Qe(t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}}},"&.".concat(nj.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}),Qe(t,"&.".concat(nj.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:l}),t),!a.disableUnderline&&(Qe(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[a.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(nj.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Qe(n,"&.".concat(nj.error),{"&:before, &:after":{borderBottomColor:(i.vars||i).palette.error.main}}),Qe(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):u),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),Qe(n,"&:hover:not(.".concat(nj.disabled,", .").concat(nj.error,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),Qe(n,"&.".concat(nj.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&PT({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),aj=AN(WV,{name:"MuiFilledInput",slot:"Input",overridesResolver:BV})((function(e){var t=e.theme,n=e.ownerState;return PT({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&Qe({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),oj=r.forwardRef((function(e,t){var n,r,i,a,o=FN({props:e,name:"MuiFilledInput"}),u=o.components,s=void 0===u?{}:u,c=o.componentsProps,l=o.fullWidth,f=void 0!==l&&l,d=o.inputComponent,h=void 0===d?"input":d,p=o.multiline,v=void 0!==p&&p,m=o.slotProps,y=o.slots,g=void 0===y?{}:y,b=o.type,k=void 0===b?"text":b,w=pA(o,rj),x=PT({},o,{fullWidth:f,inputComponent:h,multiline:v,type:k}),S=function(e){var t=e.classes;return PT({},t,gA({root:["root",!e.disableUnderline&&"underline"],input:["input"]},tj,t))}(o),I={root:{ownerState:x},input:{ownerState:x}},E=(null!=m?m:c)?NA(null!=m?m:c,I):I,_=null!=(n=null!=(r=g.root)?r:s.Root)?n:ij,T=null!=(i=null!=(a=g.input)?a:s.Input)?i:aj;return(0,fP.jsx)(GV,PT({slots:{root:_,input:T},componentsProps:E,fullWidth:f,inputComponent:h,multiline:v,ref:t,type:k},w,{classes:S}))}));oj.muiName="Input";var uj,sj=oj,cj=["children","classes","className","label","notched"],lj=AN("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),fj=AN("legend")((function(e){var t=e.ownerState,n=e.theme;return PT({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&PT({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function dj(e){return mP("MuiOutlinedInput",e)}var hj=PT({},jV,yP("MuiOutlinedInput",["root","notchedOutline","input"])),pj=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],vj=AN(qV,{shouldForwardProp:function(e){return _N(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:zV})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return PT((Qe(t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},"&:hover .".concat(hj.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),Qe(t,"@media (hover: none)",Qe({},"&:hover .".concat(hj.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),Qe(t,"&.".concat(hj.focused," .").concat(hj.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),Qe(t,"&.".concat(hj.error," .").concat(hj.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),Qe(t,"&.".concat(hj.disabled," .").concat(hj.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&PT({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),mj=AN((function(e){var t=e.className,n=e.label,r=e.notched,i=pA(e,cj),a=null!=n&&""!==n,o=PT({},e,{notched:r,withLabel:a});return(0,fP.jsx)(lj,PT({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,fP.jsx)(fj,{ownerState:o,children:a?(0,fP.jsx)("span",{children:n}):uj||(uj=(0,fP.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),yj=AN(WV,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:BV})((function(e){var t=e.theme,n=e.ownerState;return PT({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&Qe({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),gj=r.forwardRef((function(e,t){var n,i,a,o,u,s=FN({props:e,name:"MuiOutlinedInput"}),c=s.components,l=void 0===c?{}:c,f=s.fullWidth,d=void 0!==f&&f,h=s.inputComponent,p=void 0===h?"input":h,v=s.label,m=s.multiline,y=void 0!==m&&m,g=s.notched,b=s.slots,k=void 0===b?{}:b,w=s.type,x=void 0===w?"text":w,S=pA(s,pj),I=function(e){var t=e.classes;return PT({},t,gA({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},dj,t))}(s),E=MV(),_=DV({props:s,muiFormControl:E,states:["required"]}),T=PT({},s,{color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:E,fullWidth:d,hiddenLabel:_.hiddenLabel,multiline:y,size:_.size,type:x}),C=null!=(n=null!=(i=k.root)?i:l.Root)?n:vj,A=null!=(a=null!=(o=k.input)?o:l.Input)?a:yj;return(0,fP.jsx)(GV,PT({slots:{root:C,input:A},renderSuffix:function(e){return(0,fP.jsx)(mj,{ownerState:T,className:I.notchedOutline,label:null!=v&&""!==v&&_.required?u||(u=(0,fP.jsxs)(r.Fragment,{children:[v,"\u2009","*"]})):v,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:d,inputComponent:p,multiline:y,ref:t,type:x},S,{classes:PT({},I,{notchedOutline:null})}))}));gj.muiName="Input";var bj=gj;function kj(e){return mP("MuiFormLabel",e)}var wj=yP("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),xj=["children","className","color","component","disabled","error","filled","focused","required"],Sj=AN("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return PT({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return PT({color:(n.vars||n).palette.text.secondary},n.typography.body1,(Qe(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(wj.focused),{color:(n.vars||n).palette[r.color].main}),Qe(t,"&.".concat(wj.disabled),{color:(n.vars||n).palette.text.disabled}),Qe(t,"&.".concat(wj.error),{color:(n.vars||n).palette.error.main}),t))})),Ij=AN("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return Qe({},"&.".concat(wj.error),{color:(t.vars||t).palette.error.main})})),Ej=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=pA(n,xj),s=DV({props:n,muiFormControl:MV(),states:["color","required","focused","disabled","error","filled"]}),c=PT({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return gA({root:["root","color".concat(BP(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},kj,t)}(c);return(0,fP.jsxs)(Sj,PT({as:o,ownerState:c,className:mA(l.root,i),ref:t},u,{children:[r,s.required&&(0,fP.jsxs)(Ij,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))})),_j=Ej;function Tj(e){return mP("MuiInputLabel",e)}yP("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Cj=["disableAnimation","margin","shrink","variant","className"],Aj=AN(_j,{shouldForwardProp:function(e){return _N(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Qe({},"& .".concat(wj.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return PT({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&PT({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&PT({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&PT({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Rj=r.forwardRef((function(e,t){var n=FN({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=n.className,u=pA(n,Cj),s=MV(),c=a;"undefined"===typeof c&&s&&(c=s.filled||s.focused||s.adornedStart);var l=DV({props:n,muiFormControl:s,states:["size","variant","required"]}),f=PT({},n,{disableAnimation:i,formControl:s,shrink:c,size:l.size,variant:l.variant,required:l.required}),d=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return PT({},t,gA({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},Tj,t))}(f);return(0,fP.jsx)(Aj,PT({"data-shrink":c,ownerState:f,ref:t,className:mA(d.root,o)},u,{classes:d}))}));function Nj(e){return mP("MuiFormControl",e)}yP("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var Pj=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Dj=AN("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return PT({},t.root,t["margin".concat(BP(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return PT({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Oj=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiFormControl"}),i=n.children,a=n.className,o=n.color,u=void 0===o?"primary":o,s=n.component,c=void 0===s?"div":s,l=n.disabled,d=void 0!==l&&l,h=n.error,p=void 0!==h&&h,v=n.focused,m=n.fullWidth,y=void 0!==m&&m,g=n.hiddenLabel,b=void 0!==g&&g,k=n.margin,w=void 0===k?"none":k,x=n.required,S=void 0!==x&&x,I=n.size,E=void 0===I?"medium":I,_=n.variant,T=void 0===_?"outlined":_,C=pA(n,Pj),A=PT({},n,{color:u,component:c,disabled:d,error:p,fullWidth:y,hiddenLabel:b,margin:w,required:S,size:E,variant:T}),R=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return gA({root:["root","none"!==n&&"margin".concat(BP(n)),r&&"fullWidth"]},Nj,t)}(A),N=f(r.useState((function(){var e=!1;return i&&r.Children.forEach(i,(function(t){if(YM(t,["Input","Select"])){var n=YM(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),P=N[0],D=N[1],O=f(r.useState((function(){var e=!1;return i&&r.Children.forEach(i,(function(t){YM(t,["Input","Select"])&&FV(t.props,!0)&&(e=!0)})),e})),2),M=O[0],L=O[1],F=f(r.useState(!1),2),V=F[0],j=F[1];d&&V&&j(!1);var U,z=void 0===v||d?V:v,B=r.useMemo((function(){return{adornedStart:P,setAdornedStart:D,color:u,disabled:d,error:p,filled:M,focused:z,fullWidth:y,hiddenLabel:b,size:E,onBlur:function(){j(!1)},onEmpty:function(){L(!1)},onFilled:function(){L(!0)},onFocus:function(){j(!0)},registerEffect:U,required:S,variant:T}}),[P,u,d,p,M,z,y,b,U,S,E,T]);return(0,fP.jsx)(OV.Provider,{value:B,children:(0,fP.jsx)(Dj,PT({as:c,ownerState:A,className:mA(R.root,a),ref:t},C,{children:i}))})})),Mj=Oj;function Lj(e){return mP("MuiFormHelperText",e)}var Fj,Vj=yP("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),jj=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Uj=AN("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(BP(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return PT({color:(n.vars||n).palette.text.secondary},n.typography.caption,(Qe(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(Vj.disabled),{color:(n.vars||n).palette.text.disabled}),Qe(t,"&.".concat(Vj.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),zj=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,u=pA(n,jj),s=DV({props:n,muiFormControl:MV(),states:["variant","size","disabled","error","filled","focused","required"]}),c=PT({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required;return gA({root:["root",i&&"disabled",a&&"error",r&&"size".concat(BP(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]},Lj,t)}(c);return(0,fP.jsx)(Uj,PT({as:o,ownerState:c,className:mA(l.root,i),ref:t},u,{children:" "===r?Fj||(Fj=(0,fP.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),Bj=(n(457),mD),qj=uO,Wj=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Kj(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Hj(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Gj(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Qj(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&Gj(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var $j=r.forwardRef((function(e,t){var n=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,l=e.disabledItemsFocusable,f=void 0!==l&&l,d=e.disableListWrap,h=void 0!==d&&d,p=e.onKeyDown,v=e.variant,m=void 0===v?"selectedMenu":v,y=pA(e,Wj),g=r.useRef(null),b=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});XM((function(){a&&g.current.focus()}),[a]),r.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!g.current.style.width;if(e.clientHeight<g.current.clientHeight&&n){var r="".concat(qj(Bj(e)),"px");g.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,g.current.style.width="calc(100% + ".concat(r,")")}return g.current}}}),[]);var k=UN(g,t),w=-1;r.Children.forEach(s,(function(e,t){r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===w)&&(w=t),w===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(w+=1)>=s.length&&(w=-1))}));var x=r.Children.map(s,(function(e,t){if(t===w){var n={};return u&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===m&&(n.tabIndex=0),r.cloneElement(e,n)}return e}));return(0,fP.jsx)(WM,PT({role:"menu",ref:k,className:c,onKeyDown:function(e){var t=g.current,n=e.key,r=Bj(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Qj(t,r,h,f,Kj);else if("ArrowUp"===n)e.preventDefault(),Qj(t,r,h,f,Hj);else if("Home"===n)e.preventDefault(),Qj(t,null,h,f,Kj);else if("End"===n)e.preventDefault(),Qj(t,null,h,f,Hj);else if(1===n.length){var i=b.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&Gj(r,i);i.previousKeyMatched&&(u||Qj(t,r,!1,f,Kj,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:a?0:-1},y,{children:x}))})),Yj=$j,Xj=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Jj(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Zj={entering:{opacity:1,transform:Jj(1)},entered:{opacity:1,transform:"none"}},eU="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),tU=r.forwardRef((function(e,t){var n=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,u=e.easing,s=e.in,c=e.onEnter,l=e.onEntered,f=e.onEntering,d=e.onExit,h=e.onExited,p=e.onExiting,v=e.style,m=e.timeout,y=void 0===m?"auto":m,g=e.TransitionComponent,b=void 0===g?lD:g,k=pA(e,Xj),w=r.useRef(),x=r.useRef(),S=hD(),I=r.useRef(null),E=UN(I,o.ref,t),_=function(e){return function(t){if(e){var n=I.current;void 0===t?e(n):e(n,t)}}},T=_(f),C=_((function(e,t){pD(e);var n,r=vD({style:v,timeout:y,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===y?(n=S.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:a}),S.transitions.create("transform",{duration:eU?n:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),A=_(l),R=_(p),N=_((function(e){var t,n=vD({style:v,timeout:y,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===y?(t=S.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:eU?t:.666*t,delay:eU?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=Jj(.75),d&&d(e)})),P=_(h);return r.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),(0,fP.jsx)(b,PT({appear:a,in:s,nodeRef:I,onEnter:C,onEntered:A,onEntering:T,onExit:N,onExited:P,onExiting:R,addEndListener:function(e){"auto"===y&&(w.current=setTimeout(e,x.current||0)),n&&n(I.current,e)},timeout:"auto"===y?null:y},k,{children:function(e,t){return r.cloneElement(o,PT({style:PT({opacity:0,transform:Jj(.75),visibility:"exited"!==e||s?void 0:"hidden"},Zj[e],v,o.props.style),ref:E},t))}}))}));tU.muiSupportAuto=!0;var nU=tU;function rU(e){return mP("MuiPopover",e)}yP("MuiPopover",["root","paper"]);var iU=["onEntering"],aU=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function oU(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function uU(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function sU(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function cU(e){return"function"===typeof e?e():e}var lU=AN(UO,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),fU=AN(CD,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),dU=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiPopover"}),i=n.action,a=n.anchorEl,o=n.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=n.anchorPosition,c=n.anchorReference,l=void 0===c?"anchorEl":c,d=n.children,h=n.className,p=n.container,v=n.elevation,m=void 0===v?8:v,y=n.marginThreshold,g=void 0===y?16:y,b=n.open,k=n.PaperProps,w=void 0===k?{}:k,x=n.transformOrigin,S=void 0===x?{vertical:"top",horizontal:"left"}:x,I=n.TransitionComponent,E=void 0===I?nU:I,_=n.transitionDuration,T=void 0===_?"auto":_,C=n.TransitionProps,A=(C=void 0===C?{}:C).onEntering,R=pA(n.TransitionProps,iU),N=pA(n,aU),P=r.useRef(),D=UN(P,w.ref),O=PT({},n,{anchorOrigin:u,anchorReference:l,elevation:m,marginThreshold:g,PaperProps:w,transformOrigin:S,TransitionComponent:E,transitionDuration:T,TransitionProps:R}),M=function(e){return gA({root:["root"],paper:["paper"]},rU,e.classes)}(O),L=r.useCallback((function(){if("anchorPosition"===l)return s;var e=cU(a),t=(e&&1===e.nodeType?e:Bj(P.current).body).getBoundingClientRect();return{top:t.top+oU(t,u.vertical),left:t.left+uU(t,u.horizontal)}}),[a,u.horizontal,u.vertical,s,l]),F=r.useCallback((function(e){return{vertical:oU(e,S.vertical),horizontal:uU(e,S.horizontal)}}),[S.horizontal,S.vertical]),V=r.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=F(t);if("none"===l)return{top:null,left:null,transformOrigin:sU(n)};var r=L(),i=r.top-n.vertical,o=r.left-n.horizontal,u=i+t.height,s=o+t.width,c=gD(cU(a)),f=c.innerHeight-g,d=c.innerWidth-g;if(i<g){var h=i-g;i-=h,n.vertical+=h}else if(u>f){var p=u-f;i-=p,n.vertical+=p}if(o<g){var v=o-g;o-=v,n.horizontal+=v}else if(s>d){var m=s-d;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:sU(n)}}),[a,l,L,F,g]),j=f(r.useState(b),2),U=j[0],z=j[1],B=r.useCallback((function(){var e=P.current;if(e){var t=V(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,z(!0)}}),[V]);r.useEffect((function(){b&&B()})),r.useImperativeHandle(i,(function(){return b?{updatePosition:function(){B()}}:null}),[b,B]),r.useEffect((function(){if(b){var e=dD((function(){B()})),t=gD(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,b,B]);var q=T;"auto"!==T||E.muiSupportAuto||(q=void 0);var W=p||(a?Bj(cU(a)).body:void 0);return(0,fP.jsx)(lU,PT({BackdropProps:{invisible:!0},className:mA(M.root,h),container:W,open:b,ref:t,ownerState:O},N,{children:(0,fP.jsx)(E,PT({appear:!0,in:b,onEntering:function(e,t){A&&A(e,t),B()},onExited:function(){z(!1)},timeout:q},R,{children:(0,fP.jsx)(fU,PT({elevation:m},w,{ref:D,className:mA(M.paper,w.className)},U?void 0:{style:PT({},w.style,{opacity:0})},{ownerState:O,children:d}))}))}))}));function hU(e){return mP("MuiMenu",e)}yP("MuiMenu",["root","paper","list"]);var pU=["onEntering"],vU=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],mU={vertical:"top",horizontal:"right"},yU={vertical:"top",horizontal:"left"},gU=AN(dU,{shouldForwardProp:function(e){return _N(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),bU=AN(CD,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),kU=AN(Yj,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),wU=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiMenu"}),i=n.autoFocus,a=void 0===i||i,o=n.children,u=n.disableAutoFocusItem,s=void 0!==u&&u,c=n.MenuListProps,l=void 0===c?{}:c,f=n.onClose,d=n.open,h=n.PaperProps,p=void 0===h?{}:h,v=n.PopoverClasses,m=n.transitionDuration,y=void 0===m?"auto":m,g=n.TransitionProps,b=(g=void 0===g?{}:g).onEntering,k=n.variant,w=void 0===k?"selectedMenu":k,x=pA(n.TransitionProps,pU),S=pA(n,vU),I=hD(),E="rtl"===I.direction,_=PT({},n,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:l,onEntering:b,PaperProps:p,transitionDuration:y,TransitionProps:x,variant:w}),T=function(e){return gA({root:["root"],paper:["paper"],list:["list"]},hU,e.classes)}(_),C=a&&!s&&d,A=r.useRef(null),R=-1;return r.Children.map(o,(function(e,t){r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===w&&e.props.selected||-1===R)&&(R=t))})),(0,fP.jsx)(gU,PT({onClose:f,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?mU:yU,PaperProps:PT({as:bU},p,{classes:PT({},p.classes,{root:T.paper})}),className:T.root,open:d,ref:t,transitionDuration:y,TransitionProps:PT({onEntering:function(e,t){A.current&&A.current.adjustStyleForScrollbar(e,I),b&&b(e,t)}},x),ownerState:_},S,{classes:v,children:(0,fP.jsx)(kU,PT({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:A,autoFocus:a&&(-1===R||s),autoFocusItem:C,variant:w},l,{className:mA(T.list,l.className),children:o}))}))})),xU=wU;function SU(e){return mP("MuiNativeSelect",e)}var IU=yP("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),EU=["className","disabled","IconComponent","inputRef","variant"],_U=function(e){var t,n=e.ownerState,r=e.theme;return PT((Qe(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":PT({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},"&.".concat(IU.disabled),{cursor:"default"}),Qe(t,"&[multiple]",{height:"auto"}),Qe(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(r.vars||r).palette.background.paper}),Qe(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},TU=AN("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:_N,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],Qe({},"&.".concat(IU.multiple),t.multiple)]}})(_U),CU=function(e){var t=e.ownerState,n=e.theme;return PT(Qe({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(IU.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},AU=AN("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(BP(n.variant))],n.open&&t.iconOpen]}})(CU),RU=r.forwardRef((function(e,t){var n=e.className,i=e.disabled,a=e.IconComponent,o=e.inputRef,u=e.variant,s=void 0===u?"standard":u,c=pA(e,EU),l=PT({},e,{disabled:i,variant:s}),f=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return gA({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(BP(n)),a&&"iconOpen",r&&"disabled"]},SU,t)}(l);return(0,fP.jsxs)(r.Fragment,{children:[(0,fP.jsx)(TU,PT({ownerState:l,className:mA(f.select,n),disabled:i,ref:o||t},c)),e.multiple?null:(0,fP.jsx)(AU,{as:a,ownerState:l,className:f.icon})]})})),NU=RU;var PU=function(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=f(r.useState(n),2),o=a[0],u=a[1];return[i?t:o,r.useCallback((function(e){i||u(e)}),[])]};function DU(e){return mP("MuiSelect",e)}var OU,MU=yP("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),LU=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],FU=AN("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[Qe({},"&.".concat(MU.select),t.select),Qe({},"&.".concat(MU.select),t[n.variant]),Qe({},"&.".concat(MU.multiple),t.multiple)]}})(_U,Qe({},"&.".concat(MU.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),VU=AN("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(BP(n.variant))],n.open&&t.iconOpen]}})(CU),jU=AN("input",{shouldForwardProp:function(e){return TN(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function UU(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function zU(e){return null==e||"string"===typeof e&&!e.trim()}var BU,qU,WU=r.forwardRef((function(e,t){var n=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,o=e.autoWidth,u=e.children,s=e.className,c=e.defaultOpen,l=e.defaultValue,d=e.disabled,h=e.displayEmpty,p=e.IconComponent,v=e.inputRef,m=e.labelId,y=e.MenuProps,g=void 0===y?{}:y,b=e.multiple,k=e.name,w=e.onBlur,x=e.onChange,S=e.onClose,I=e.onFocus,E=e.onOpen,_=e.open,T=e.readOnly,C=e.renderValue,A=e.SelectDisplayProps,R=void 0===A?{}:A,N=e.tabIndex,P=e.value,D=e.variant,O=void 0===D?"standard":D,M=pA(e,LU),L=f(PU({controlled:P,default:l,name:"Select"}),2),F=L[0],V=L[1],j=f(PU({controlled:_,default:c,name:"Select"}),2),U=j[0],z=j[1],B=r.useRef(null),q=r.useRef(null),W=f(r.useState(null),2),K=W[0],H=W[1],G=r.useRef(null!=_).current,Q=f(r.useState(),2),$=Q[0],Y=Q[1],X=UN(t,v),J=r.useCallback((function(e){q.current=e,e&&H(e)}),[]),Z=null==K?void 0:K.parentNode;r.useImperativeHandle(X,(function(){return{focus:function(){q.current.focus()},node:B.current,value:F}}),[F]),r.useEffect((function(){c&&U&&K&&!G&&(Y(o?null:Z.clientWidth),q.current.focus())}),[K,o]),r.useEffect((function(){a&&q.current.focus()}),[a]),r.useEffect((function(){if(m){var e=Bj(q.current).getElementById(m);if(e){var t=function(){getSelection().isCollapsed&&q.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[m]);var ee,te,ne=function(e,t){e?E&&E(t):S&&S(t),G||(Y(o?null:Z.clientWidth),z(e))},re=r.Children.toArray(u),ie=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(F)?F.slice():[];var r=F.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),F!==n&&(V(n),x)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:k}}),x(a,e)}b||ne(!1,t)}}},ae=null!==K&&U;delete M["aria-invalid"];var oe=[],ue=!1;(FV({value:F})||h)&&(C?ee=C(F):ue=!0);var se=re.map((function(e){if(!r.isValidElement(e))return null;var t;if(b){if(!Array.isArray(F))throw new Error(bA(2));t=F.some((function(t){return UU(t,e.props.value)})),t&&ue&&oe.push(e.props.children)}else(t=UU(F,e.props.value))&&ue&&(te=e.props.children);return t&&!0,r.cloneElement(e,{"aria-selected":t?"true":"false",onClick:ie(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ue&&(ee=b?0===oe.length?null:oe.reduce((function(e,t,n){return e.push(t),n<oe.length-1&&e.push(", "),e}),[]):te);var ce,le=$;!o&&G&&K&&(le=Z.clientWidth),ce="undefined"!==typeof N?N:d?null:0;var fe=R.id||(k?"mui-component-select-".concat(k):void 0),de=PT({},e,{variant:O,value:F,open:ae}),he=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return gA({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(BP(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},DU,t)}(de);return(0,fP.jsxs)(r.Fragment,{children:[(0,fP.jsx)(FU,PT({ref:J,tabIndex:ce,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":ae?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[m,fe].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ne(!0,e))}},onMouseDown:d||T?null:function(e){0===e.button&&(e.preventDefault(),q.current.focus(),ne(!0,e))},onBlur:function(e){!ae&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:F,name:k}}),w(e))},onFocus:I},R,{ownerState:de,className:mA(R.className,he.select,s),id:fe,children:zU(ee)?OU||(OU=(0,fP.jsx)("span",{className:"notranslate",children:"\u200b"})):ee})),(0,fP.jsx)(jU,PT({value:Array.isArray(F)?F.join(","):F,name:k,ref:B,"aria-hidden":!0,onChange:function(e){var t=re.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=re[t];V(n.props.value),x&&x(e,n)}},tabIndex:-1,disabled:d,className:he.nativeInput,autoFocus:a,ownerState:de},M)),(0,fP.jsx)(VU,{as:p,className:he.icon,ownerState:de}),(0,fP.jsx)(xU,PT({id:"menu-".concat(k||""),anchorEl:Z,open:ae,onClose:function(e){ne(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},g,{MenuListProps:PT({"aria-labelledby":m,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:PT({},g.PaperProps,{style:PT({minWidth:le},null!=g.PaperProps?g.PaperProps.style:null)}),children:se}))]})})),KU=WU,HU=BD((0,fP.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),GU=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],QU={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return _N(e)&&"variant"!==e},slot:"Root"},$U=AN(ej,QU)(""),YU=AN(bj,QU)(""),XU=AN(sj,QU)(""),JU=r.forwardRef((function(e,t){var n=FN({name:"MuiSelect",props:e}),i=n.autoWidth,a=void 0!==i&&i,o=n.children,u=n.classes,s=void 0===u?{}:u,c=n.className,l=n.defaultOpen,f=void 0!==l&&l,d=n.displayEmpty,h=void 0!==d&&d,p=n.IconComponent,v=void 0===p?HU:p,m=n.id,y=n.input,g=n.inputProps,b=n.label,k=n.labelId,w=n.MenuProps,x=n.multiple,S=void 0!==x&&x,I=n.native,E=void 0!==I&&I,_=n.onClose,T=n.onOpen,C=n.open,A=n.renderValue,R=n.SelectDisplayProps,N=n.variant,P=void 0===N?"outlined":N,D=pA(n,GU),O=E?NU:KU,M=DV({props:n,muiFormControl:MV(),states:["variant"]}).variant||P,L=y||{standard:BU||(BU=(0,fP.jsx)($U,{})),outlined:(0,fP.jsx)(YU,{label:b}),filled:qU||(qU=(0,fP.jsx)(XU,{}))}[M],F=function(e){return e.classes}(PT({},n,{variant:M,classes:s})),V=UN(t,L.ref);return(0,fP.jsx)(r.Fragment,{children:r.cloneElement(L,PT({inputComponent:O,inputProps:PT({children:o,IconComponent:v,variant:M,type:void 0,multiple:S},E?{id:m}:{autoWidth:a,defaultOpen:f,displayEmpty:h,labelId:k,MenuProps:w,onClose:_,onOpen:T,open:C,renderValue:A,SelectDisplayProps:PT({id:m},R)},g,{classes:g?NA(F,g.classes):F},y?y.props.inputProps:{})},S&&E&&"outlined"===M?{notched:!0}:{},{ref:V,className:mA(L.props.className,c)},!y&&{variant:M},D))})}));JU.muiName="Select";var ZU=JU;function ez(e){return mP("MuiTextField",e)}yP("MuiTextField",["root"]);var tz=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],nz={standard:ej,filled:sj,outlined:bj},rz=AN(Mj,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),iz=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,u=n.className,s=n.color,c=void 0===s?"primary":s,l=n.defaultValue,f=n.disabled,d=void 0!==f&&f,h=n.error,p=void 0!==h&&h,v=n.FormHelperTextProps,m=n.fullWidth,y=void 0!==m&&m,g=n.helperText,b=n.id,k=n.InputLabelProps,w=n.inputProps,x=n.InputProps,S=n.inputRef,I=n.label,E=n.maxRows,_=n.minRows,T=n.multiline,C=void 0!==T&&T,A=n.name,R=n.onBlur,N=n.onChange,P=n.onFocus,D=n.placeholder,O=n.required,M=void 0!==O&&O,L=n.rows,F=n.select,V=void 0!==F&&F,j=n.SelectProps,U=n.type,z=n.value,B=n.variant,q=void 0===B?"outlined":B,W=pA(n,tz),K=PT({},n,{autoFocus:a,color:c,disabled:d,error:p,fullWidth:y,multiline:C,required:M,select:V,variant:q}),H=function(e){return gA({root:["root"]},ez,e.classes)}(K);var G={};"outlined"===q&&(k&&"undefined"!==typeof k.shrink&&(G.notched=k.shrink),G.label=I),V&&(j&&j.native||(G.id=void 0),G["aria-describedby"]=void 0);var Q=iO(b),$=g&&Q?"".concat(Q,"-helper-text"):void 0,Y=I&&Q?"".concat(Q,"-label"):void 0,X=nz[q],J=(0,fP.jsx)(X,PT({"aria-describedby":$,autoComplete:r,autoFocus:a,defaultValue:l,fullWidth:y,multiline:C,name:A,rows:L,maxRows:E,minRows:_,type:U,value:z,id:Q,inputRef:S,onBlur:R,onChange:N,onFocus:P,placeholder:D,inputProps:w},G,x));return(0,fP.jsxs)(rz,PT({className:mA(H.root,u),disabled:d,error:p,fullWidth:y,ref:t,required:M,color:c,variant:q,ownerState:K},W,{children:[null!=I&&""!==I&&(0,fP.jsx)(Rj,PT({htmlFor:Q,id:Y},k,{children:I})),V?(0,fP.jsx)(ZU,PT({"aria-describedby":$,id:Q,labelId:Y,value:z,input:J},j,{children:o})):J,g&&(0,fP.jsx)(zj,PT({id:$},v,{children:g}))]}))})),az=iz,oz=[{name:"email",placeholder:"enter your email",options:{required:"This is required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}},{name:"password",placeholder:"enter your password",type:"password",options:{required:"This is required"}}],uz=[{name:"displayName",placeholder:"enter your name",options:{required:"This is required"}},{name:"email",placeholder:"enter your email",options:{required:"This is required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}},{name:"password",placeholder:"enter your password",type:"password",options:{required:"This is required"}},{name:"repeatPassword",placeholder:"repeat your password",type:"password",options:{required:"This is required"}}],sz="/signup",cz=function(){var e=(0,r.useContext)(o).auth,t=xV(),n=t.register,i=t.formState.errors,a=t.setError,u=t.handleSubmit;return(0,fP.jsxs)(SV,{onSubmit:u((function(t){var n=t.email,r=t.password;TS(e,n,r).catch((function(e){var t=JSON.stringify(e),n=JSON.parse(t).code;null!=n.includes("password")&&a("password",{message:"Incorrect password"}),null!=n.includes("requests")&&a("email",{message:"Too many login attempts"}),null!=n.includes("found")&&a("email",{message:"Not found this user"})}))})),children:[(0,fP.jsx)(IV,{style:{marginBottom:4},children:"Sign In"}),(0,fP.jsx)(EV,{style:{marginBottom:16},children:"Sign in your account"}),oz.map((function(e){var t,r,a=e.name,o=e.placeholder,u=e.type,s=e.options;return(0,fP.jsx)(az,Bt({error:Boolean(i[a]),placeholder:o,type:u,style:{marginBottom:12},helperText:null===(t=i[a])||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()},n(a,s)),a)})),(0,fP.jsx)(JP,{style:{marginTop:8,marginBottom:20},type:"submit",variant:"contained",color:"primary",children:"Sign In"}),(0,fP.jsxs)(EV,{children:["Don`t have an account? ",(0,fP.jsx)(_V,{to:sz,children:"Create account"})]})]})},lz=function(){var e=(0,r.useContext)(o).auth,t=xV(),n=t.register,i=t.formState.errors,a=t.setError,u=t.handleSubmit;return(0,fP.jsxs)(SV,{onSubmit:u((function(t){var n=t.displayName,r=t.email,i=t.password;console.log({displayName:n,email:r,password:i}),ES(e,r,i).then((function(){window.location.search="?displayName=".concat(String(n))})).catch((function(e){var t=JSON.stringify(e),n=JSON.parse(t).code;null!=n.includes("requests")&&a("email",{message:"Too many login attempts"}),null!=n.includes("use")&&a("email",{message:"Email already in use"})}))})),children:[(0,fP.jsx)(IV,{style:{marginBottom:4},children:"Sign Up"}),(0,fP.jsx)(EV,{style:{marginBottom:16},children:"Create your account"}),uz.map((function(e){var t,r,a=e.name,o=e.placeholder,u=e.type,s=e.options;return(0,fP.jsx)(az,Bt({error:Boolean(i[a]),placeholder:o,type:u,style:{marginBottom:12},helperText:null===(t=i[a])||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()},n(a,s)),a)})),(0,fP.jsx)(JP,{style:{marginTop:8,marginBottom:20},type:"submit",variant:"contained",color:"primary",children:"Create account"}),(0,fP.jsxs)(EV,{children:["Do have an account? ",(0,fP.jsx)(_V,{to:"/",children:"Sign in"})]})]})},fz=[{path:"/",Component:(0,fP.jsx)(cz,{})},{path:sz,Component:(0,fP.jsx)(lz,{})},{path:"*",Component:(0,fP.jsx)(cz,{})}],dz=[{path:"/",Component:(0,fP.jsx)(QL,{})},{path:"*",Component:(0,fP.jsx)(QL,{})}];function hz(e){return mP("MuiCircularProgress",e)}yP("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var pz,vz,mz,yz,gz,bz,kz,wz,xz=["className","color","disableShrink","size","style","thickness","value","variant"],Sz=44,Iz=lP(gz||(gz=pz||(pz=ZN(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),Ez=lP(bz||(bz=vz||(vz=ZN(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),_z=AN("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat(BP(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return PT({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&cP(kz||(kz=mz||(mz=ZN(["\n      animation: "," 1.4s linear infinite;\n    "]))),Iz)})),Tz=AN("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),Cz=AN("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat(BP(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return PT({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&cP(wz||(wz=yz||(yz=ZN(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),Ez)})),Az=r.forwardRef((function(e,t){var n=FN({props:e,name:"MuiCircularProgress"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.disableShrink,u=void 0!==o&&o,s=n.size,c=void 0===s?40:s,l=n.style,f=n.thickness,d=void 0===f?3.6:f,h=n.value,p=void 0===h?0:h,v=n.variant,m=void 0===v?"indeterminate":v,y=pA(n,xz),g=PT({},n,{color:a,disableShrink:u,size:c,thickness:d,value:p,variant:m}),b=function(e){var t=e.classes,n=e.variant,r=e.color,i=e.disableShrink;return gA({root:["root",n,"color".concat(BP(r))],svg:["svg"],circle:["circle","circle".concat(BP(n)),i&&"circleDisableShrink"]},hz,t)}(g),k={},w={},x={};if("determinate"===m){var S=2*Math.PI*((Sz-d)/2);k.strokeDasharray=S.toFixed(3),x["aria-valuenow"]=Math.round(p),k.strokeDashoffset="".concat(((100-p)/100*S).toFixed(3),"px"),w.transform="rotate(-90deg)"}return(0,fP.jsx)(_z,PT({className:mA(b.root,r),style:PT({width:c,height:c},w,l),ownerState:g,ref:t,role:"progressbar"},x,y,{children:(0,fP.jsx)(Tz,{className:b.svg,ownerState:g,viewBox:"".concat(22," ").concat(22," ").concat(Sz," ").concat(Sz),children:(0,fP.jsx)(Cz,{className:b.circle,style:k,ownerState:g,cx:Sz,cy:Sz,r:(Sz-d)/2,fill:"none",strokeWidth:d})})}))})),Rz=Az,Nz=AN(OL)((function(){return{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}})),Pz=AN(Rz)((function(){return{}})),Dz=function(){return(0,fP.jsx)(Nz,{children:(0,fP.jsx)(Pz,{})})},Oz=function(){var e=(0,r.useContext)(o).auth,t=f(RT(e),2),n=t[0],i=t[1];return(0,r.useLayoutEffect)((function(){console.log("user:",n)}),[n]),i?(0,fP.jsx)(Dz,{}):(0,fP.jsx)(Fe,{children:null!=n?dz.map((function(e){var t=e.path,n=e.Component;return(0,fP.jsx)(Me,{path:t,element:n},t)})):fz.map((function(e){var t=e.path,n=e.Component;return(0,fP.jsx)(Me,{path:t,element:n},t)}))})},Mz=nr.createRoot(document.getElementById("root"));tr.initializeApp({apiKey:"AIzaSyB5UYL-5ZAYpRJTl8hfWqQsH0yiXhRSo50",authDomain:"task-manager-47ac1.firebaseapp.com",databaseURL:"https://task-manager-47ac1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"task-manager-47ac1",storageBucket:"task-manager-47ac1.appspot.com",messagingSenderId:"346016430088",appId:"1:346016430088:web:5c71510a2cec207e98f9bd",measurementId:"G-TEFCB13FJE"});var Lz=tr.auth(),Fz=tr.firestore();Mz.render((0,fP.jsx)(r.StrictMode,{children:(0,fP.jsx)(o.Provider,{value:{firebase:tr,auth:Lz,firestore:Fz},children:(0,fP.jsx)(qe,{children:(0,fP.jsx)(Oz,{})})})}))}()}();
//# sourceMappingURL=main.b84f247f.js.map